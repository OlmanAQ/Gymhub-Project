/*! For license information please see main.5ab548da.js.LICENSE.txt */
(()=>{var e={738:(e,t,n)=>{"use strict";n.r(t),n.d(t,{afterMain:()=>_,afterRead:()=>b,afterWrite:()=>E,applyStyles:()=>O,arrow:()=>J,auto:()=>a,basePlacements:()=>l,beforeMain:()=>w,beforeRead:()=>v,beforeWrite:()=>C,bottom:()=>i,clippingParents:()=>d,computeStyles:()=>ne,createPopper:()=>Pe,createPopperBase:()=>Oe,createPopperLite:()=>De,detectOverflow:()=>ye,end:()=>u,eventListeners:()=>ie,flip:()=>be,hide:()=>_e,left:()=>o,main:()=>x,modifierPhases:()=>S,offset:()=>Ce,placements:()=>g,popper:()=>f,popperGenerator:()=>Ae,popperOffsets:()=>ke,preventOverflow:()=>Ee,read:()=>y,reference:()=>p,right:()=>s,start:()=>c,top:()=>r,variationPlacements:()=>m,viewport:()=>h,write:()=>k});var r="top",i="bottom",s="right",o="left",a="auto",l=[r,i,s,o],c="start",u="end",d="clippingParents",h="viewport",f="popper",p="reference",m=l.reduce((function(e,t){return e.concat([t+"-"+c,t+"-"+u])}),[]),g=[].concat(l,[a]).reduce((function(e,t){return e.concat([t,t+"-"+c,t+"-"+u])}),[]),v="beforeRead",y="read",b="afterRead",w="beforeMain",x="main",_="afterMain",C="beforeWrite",k="write",E="afterWrite",S=[v,y,b,w,x,_,C,k,E];function N(e){return e?(e.nodeName||"").toLowerCase():null}function T(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function j(e){return e instanceof T(e).Element||e instanceof Element}function I(e){return e instanceof T(e).HTMLElement||e instanceof HTMLElement}function A(e){return"undefined"!==typeof ShadowRoot&&(e instanceof T(e).ShadowRoot||e instanceof ShadowRoot)}const O={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];I(i)&&N(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},s=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});I(r)&&N(r)&&(Object.assign(r.style,s),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};function P(e){return e.split("-")[0]}var D=Math.max,M=Math.min,R=Math.round;function L(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function F(){return!/^((?!chrome|android).)*safari/i.test(L())}function z(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&I(e)&&(i=e.offsetWidth>0&&R(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&R(r.height)/e.offsetHeight||1);var o=(j(e)?T(e):window).visualViewport,a=!F()&&n,l=(r.left+(a&&o?o.offsetLeft:0))/i,c=(r.top+(a&&o?o.offsetTop:0))/s,u=r.width/i,d=r.height/s;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function U(e){var t=z(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function V(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&A(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function B(e){return T(e).getComputedStyle(e)}function $(e){return["table","td","th"].indexOf(N(e))>=0}function H(e){return((j(e)?e.ownerDocument:e.document)||window.document).documentElement}function q(e){return"html"===N(e)?e:e.assignedSlot||e.parentNode||(A(e)?e.host:null)||H(e)}function W(e){return I(e)&&"fixed"!==B(e).position?e.offsetParent:null}function G(e){for(var t=T(e),n=W(e);n&&$(n)&&"static"===B(n).position;)n=W(n);return n&&("html"===N(n)||"body"===N(n)&&"static"===B(n).position)?t:n||function(e){var t=/firefox/i.test(L());if(/Trident/i.test(L())&&I(e)&&"fixed"===B(e).position)return null;var n=q(e);for(A(n)&&(n=n.host);I(n)&&["html","body"].indexOf(N(n))<0;){var r=B(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function K(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Y(e,t,n){return D(e,M(t,n))}function Q(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function X(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}const J={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,a=e.name,c=e.options,u=n.elements.arrow,d=n.modifiersData.popperOffsets,h=P(n.placement),f=K(h),p=[o,s].indexOf(h)>=0?"height":"width";if(u&&d){var m=function(e,t){return Q("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:X(e,l))}(c.padding,n),g=U(u),v="y"===f?r:o,y="y"===f?i:s,b=n.rects.reference[p]+n.rects.reference[f]-d[f]-n.rects.popper[p],w=d[f]-n.rects.reference[f],x=G(u),_=x?"y"===f?x.clientHeight||0:x.clientWidth||0:0,C=b/2-w/2,k=m[v],E=_-g[p]-m[y],S=_/2-g[p]/2+C,N=Y(k,S,E),T=f;n.modifiersData[a]=((t={})[T]=N,t.centerOffset=N-S,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&V(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Z(e){return e.split("-")[1]}var ee={top:"auto",right:"auto",bottom:"auto",left:"auto"};function te(e){var t,n=e.popper,a=e.popperRect,l=e.placement,c=e.variation,d=e.offsets,h=e.position,f=e.gpuAcceleration,p=e.adaptive,m=e.roundOffsets,g=e.isFixed,v=d.x,y=void 0===v?0:v,b=d.y,w=void 0===b?0:b,x="function"===typeof m?m({x:y,y:w}):{x:y,y:w};y=x.x,w=x.y;var _=d.hasOwnProperty("x"),C=d.hasOwnProperty("y"),k=o,E=r,S=window;if(p){var N=G(n),j="clientHeight",I="clientWidth";if(N===T(n)&&"static"!==B(N=H(n)).position&&"absolute"===h&&(j="scrollHeight",I="scrollWidth"),l===r||(l===o||l===s)&&c===u)E=i,w-=(g&&N===S&&S.visualViewport?S.visualViewport.height:N[j])-a.height,w*=f?1:-1;if(l===o||(l===r||l===i)&&c===u)k=s,y-=(g&&N===S&&S.visualViewport?S.visualViewport.width:N[I])-a.width,y*=f?1:-1}var A,O=Object.assign({position:h},p&&ee),P=!0===m?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:R(n*i)/i||0,y:R(r*i)/i||0}}({x:y,y:w},T(n)):{x:y,y:w};return y=P.x,w=P.y,f?Object.assign({},O,((A={})[E]=C?"0":"",A[k]=_?"0":"",A.transform=(S.devicePixelRatio||1)<=1?"translate("+y+"px, "+w+"px)":"translate3d("+y+"px, "+w+"px, 0)",A)):Object.assign({},O,((t={})[E]=C?w+"px":"",t[k]=_?y+"px":"",t.transform="",t))}const ne={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,s=n.adaptive,o=void 0===s||s,a=n.roundOffsets,l=void 0===a||a,c={placement:P(t.placement),variation:Z(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,te(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,te(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var re={passive:!0};const ie={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=void 0===i||i,o=r.resize,a=void 0===o||o,l=T(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach((function(e){e.addEventListener("scroll",n.update,re)})),a&&l.addEventListener("resize",n.update,re),function(){s&&c.forEach((function(e){e.removeEventListener("scroll",n.update,re)})),a&&l.removeEventListener("resize",n.update,re)}},data:{}};var se={left:"right",right:"left",bottom:"top",top:"bottom"};function oe(e){return e.replace(/left|right|bottom|top/g,(function(e){return se[e]}))}var ae={start:"end",end:"start"};function le(e){return e.replace(/start|end/g,(function(e){return ae[e]}))}function ce(e){var t=T(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ue(e){return z(H(e)).left+ce(e).scrollLeft}function de(e){var t=B(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function he(e){return["html","body","#document"].indexOf(N(e))>=0?e.ownerDocument.body:I(e)&&de(e)?e:he(q(e))}function fe(e,t){var n;void 0===t&&(t=[]);var r=he(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),s=T(r),o=i?[s].concat(s.visualViewport||[],de(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(fe(q(o)))}function pe(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function me(e,t,n){return t===h?pe(function(e,t){var n=T(e),r=H(e),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=F();(c||!c&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+ue(e),y:l}}(e,n)):j(t)?function(e,t){var n=z(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):pe(function(e){var t,n=H(e),r=ce(e),i=null==(t=e.ownerDocument)?void 0:t.body,s=D(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=D(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+ue(e),l=-r.scrollTop;return"rtl"===B(i||n).direction&&(a+=D(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}(H(e)))}function ge(e,t,n,r){var i="clippingParents"===t?function(e){var t=fe(q(e)),n=["absolute","fixed"].indexOf(B(e).position)>=0&&I(e)?G(e):e;return j(n)?t.filter((function(e){return j(e)&&V(e,n)&&"body"!==N(e)})):[]}(e):[].concat(t),s=[].concat(i,[n]),o=s[0],a=s.reduce((function(t,n){var i=me(e,n,r);return t.top=D(i.top,t.top),t.right=M(i.right,t.right),t.bottom=M(i.bottom,t.bottom),t.left=D(i.left,t.left),t}),me(e,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function ve(e){var t,n=e.reference,a=e.element,l=e.placement,d=l?P(l):null,h=l?Z(l):null,f=n.x+n.width/2-a.width/2,p=n.y+n.height/2-a.height/2;switch(d){case r:t={x:f,y:n.y-a.height};break;case i:t={x:f,y:n.y+n.height};break;case s:t={x:n.x+n.width,y:p};break;case o:t={x:n.x-a.width,y:p};break;default:t={x:n.x,y:n.y}}var m=d?K(d):null;if(null!=m){var g="y"===m?"height":"width";switch(h){case c:t[m]=t[m]-(n[g]/2-a[g]/2);break;case u:t[m]=t[m]+(n[g]/2-a[g]/2)}}return t}function ye(e,t){void 0===t&&(t={});var n=t,o=n.placement,a=void 0===o?e.placement:o,c=n.strategy,u=void 0===c?e.strategy:c,m=n.boundary,g=void 0===m?d:m,v=n.rootBoundary,y=void 0===v?h:v,b=n.elementContext,w=void 0===b?f:b,x=n.altBoundary,_=void 0!==x&&x,C=n.padding,k=void 0===C?0:C,E=Q("number"!==typeof k?k:X(k,l)),S=w===f?p:f,N=e.rects.popper,T=e.elements[_?S:w],I=ge(j(T)?T:T.contextElement||H(e.elements.popper),g,y,u),A=z(e.elements.reference),O=ve({reference:A,element:N,strategy:"absolute",placement:a}),P=pe(Object.assign({},N,O)),D=w===f?P:A,M={top:I.top-D.top+E.top,bottom:D.bottom-I.bottom+E.bottom,left:I.left-D.left+E.left,right:D.right-I.right+E.right},R=e.modifiersData.offset;if(w===f&&R){var L=R[a];Object.keys(M).forEach((function(e){var t=[s,i].indexOf(e)>=0?1:-1,n=[r,i].indexOf(e)>=0?"y":"x";M[e]+=L[n]*t}))}return M}const be={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,u=e.name;if(!t.modifiersData[u]._skip){for(var d=n.mainAxis,h=void 0===d||d,f=n.altAxis,p=void 0===f||f,v=n.fallbackPlacements,y=n.padding,b=n.boundary,w=n.rootBoundary,x=n.altBoundary,_=n.flipVariations,C=void 0===_||_,k=n.allowedAutoPlacements,E=t.options.placement,S=P(E),N=v||(S===E||!C?[oe(E)]:function(e){if(P(e)===a)return[];var t=oe(e);return[le(e),t,le(t)]}(E)),T=[E].concat(N).reduce((function(e,n){return e.concat(P(n)===a?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,u=void 0===c?g:c,d=Z(r),h=d?a?m:m.filter((function(e){return Z(e)===d})):l,f=h.filter((function(e){return u.indexOf(e)>=0}));0===f.length&&(f=h);var p=f.reduce((function(t,n){return t[n]=ye(e,{placement:n,boundary:i,rootBoundary:s,padding:o})[P(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:b,rootBoundary:w,padding:y,flipVariations:C,allowedAutoPlacements:k}):n)}),[]),j=t.rects.reference,I=t.rects.popper,A=new Map,O=!0,D=T[0],M=0;M<T.length;M++){var R=T[M],L=P(R),F=Z(R)===c,z=[r,i].indexOf(L)>=0,U=z?"width":"height",V=ye(t,{placement:R,boundary:b,rootBoundary:w,altBoundary:x,padding:y}),B=z?F?s:o:F?i:r;j[U]>I[U]&&(B=oe(B));var $=oe(B),H=[];if(h&&H.push(V[L]<=0),p&&H.push(V[B]<=0,V[$]<=0),H.every((function(e){return e}))){D=R,O=!1;break}A.set(R,H)}if(O)for(var q=function(e){var t=T.find((function(t){var n=A.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return D=t,"break"},W=C?3:1;W>0;W--){if("break"===q(W))break}t.placement!==D&&(t.modifiersData[u]._skip=!0,t.placement=D,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function we(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function xe(e){return[r,s,i,o].some((function(t){return e[t]>=0}))}const _e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,o=ye(t,{elementContext:"reference"}),a=ye(t,{altBoundary:!0}),l=we(o,r),c=we(a,i,s),u=xe(l),d=xe(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}};const Ce={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,a=n.offset,l=void 0===a?[0,0]:a,c=g.reduce((function(e,n){return e[n]=function(e,t,n){var i=P(e),a=[o,r].indexOf(i)>=0?-1:1,l="function"===typeof n?n(Object.assign({},t,{placement:e})):n,c=l[0],u=l[1];return c=c||0,u=(u||0)*a,[o,s].indexOf(i)>=0?{x:u,y:c}:{x:c,y:u}}(n,t.rects,l),e}),{}),u=c[t.placement],d=u.x,h=u.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=h),t.modifiersData[i]=c}};const ke={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=ve({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};const Ee={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,a=e.name,l=n.mainAxis,u=void 0===l||l,d=n.altAxis,h=void 0!==d&&d,f=n.boundary,p=n.rootBoundary,m=n.altBoundary,g=n.padding,v=n.tether,y=void 0===v||v,b=n.tetherOffset,w=void 0===b?0:b,x=ye(t,{boundary:f,rootBoundary:p,padding:g,altBoundary:m}),_=P(t.placement),C=Z(t.placement),k=!C,E=K(_),S="x"===E?"y":"x",N=t.modifiersData.popperOffsets,T=t.rects.reference,j=t.rects.popper,I="function"===typeof w?w(Object.assign({},t.rects,{placement:t.placement})):w,A="number"===typeof I?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),O=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,R={x:0,y:0};if(N){if(u){var L,F="y"===E?r:o,z="y"===E?i:s,V="y"===E?"height":"width",B=N[E],$=B+x[F],H=B-x[z],q=y?-j[V]/2:0,W=C===c?T[V]:j[V],Q=C===c?-j[V]:-T[V],X=t.elements.arrow,J=y&&X?U(X):{width:0,height:0},ee=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},te=ee[F],ne=ee[z],re=Y(0,T[V],J[V]),ie=k?T[V]/2-q-re-te-A.mainAxis:W-re-te-A.mainAxis,se=k?-T[V]/2+q+re+ne+A.mainAxis:Q+re+ne+A.mainAxis,oe=t.elements.arrow&&G(t.elements.arrow),ae=oe?"y"===E?oe.clientTop||0:oe.clientLeft||0:0,le=null!=(L=null==O?void 0:O[E])?L:0,ce=B+se-le,ue=Y(y?M($,B+ie-le-ae):$,B,y?D(H,ce):H);N[E]=ue,R[E]=ue-B}if(h){var de,he="x"===E?r:o,fe="x"===E?i:s,pe=N[S],me="y"===S?"height":"width",ge=pe+x[he],ve=pe-x[fe],be=-1!==[r,o].indexOf(_),we=null!=(de=null==O?void 0:O[S])?de:0,xe=be?ge:pe-T[me]-j[me]-we+A.altAxis,_e=be?pe+T[me]+j[me]-we-A.altAxis:ve,Ce=y&&be?function(e,t,n){var r=Y(e,t,n);return r>n?n:r}(xe,pe,_e):Y(y?xe:ge,pe,y?_e:ve);N[S]=Ce,R[S]=Ce-pe}t.modifiersData[a]=R}},requiresIfExists:["offset"]};function Se(e,t,n){void 0===n&&(n=!1);var r=I(t),i=I(t)&&function(e){var t=e.getBoundingClientRect(),n=R(t.width)/e.offsetWidth||1,r=R(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),s=H(t),o=z(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==N(t)||de(s))&&(a=function(e){return e!==T(e)&&I(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:ce(e);var t}(t)),I(t)?((l=z(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=ue(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Ne(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function Te(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var je={placement:"bottom",modifiers:[],strategy:"absolute"};function Ie(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Ae(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,s=void 0===i?je:i;return function(e,t,n){void 0===n&&(n=s);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},je,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],a=!1,l={state:i,setOptions:function(n){var a="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},s,i.options,a),i.scrollParents={reference:j(e)?fe(e):e.contextElement?fe(e.contextElement):[],popper:fe(t)};var u=function(e){var t=Ne(e);return S.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=u.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,s=e.effect;if("function"===typeof s){var a=s({state:i,name:t,instance:l,options:r}),c=function(){};o.push(a||c)}})),l.update()},forceUpdate:function(){if(!a){var e=i.elements,t=e.reference,n=e.popper;if(Ie(t,n)){i.rects={reference:Se(t,G(n),"fixed"===i.options.strategy),popper:U(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var s=i.orderedModifiers[r],o=s.fn,c=s.options,u=void 0===c?{}:c,d=s.name;"function"===typeof o&&(i=o({state:i,options:u,name:d,instance:l})||i)}else i.reset=!1,r=-1}}},update:Te((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){c(),a=!0}};if(!Ie(e,t))return l;function c(){o.forEach((function(e){return e()})),o=[]}return l.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var Oe=Ae(),Pe=Ae({defaultModifiers:[ie,ke,ne,O,Ce,be,Ee,J,_e]}),De=Ae({defaultModifiers:[ie,ke,ne,O]})},807:function(e,t,n){e.exports=function(e){"use strict";function t(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e)for(const n in e)if("default"!==n){const r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:()=>e[n]})}return t.default=e,Object.freeze(t)}const n=t(e),r=new Map,i={set(e,t,n){r.has(e)||r.set(e,new Map);const i=r.get(e);i.has(t)||0===i.size?i.set(t,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(e,t)=>r.has(e)&&r.get(e).get(t)||null,remove(e,t){if(!r.has(e))return;const n=r.get(e);n.delete(t),0===n.size&&r.delete(e)}},s="transitionend",o=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,((e,t)=>`#${CSS.escape(t)}`))),e),a=e=>{e.dispatchEvent(new Event(s))},l=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),c=e=>l(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(o(e)):null,u=e=>{if(!l(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const t=e.closest("summary");if(t&&t.parentNode!==n)return!1;if(null===t)return!1}return t},d=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),h=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?h(e.parentNode):null},f=()=>{},p=e=>{e.offsetHeight},m=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,g=[],v=()=>"rtl"===document.documentElement.dir,y=e=>{var t;t=()=>{const t=m();if(t){const n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=r,e.jQueryInterface)}},"loading"===document.readyState?(g.length||document.addEventListener("DOMContentLoaded",(()=>{for(const e of g)e()})),g.push(t)):t()},b=function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return"function"==typeof e?e(...arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]):t},w=function(e,t){if(arguments.length>2&&void 0!==arguments[2]&&!arguments[2])return void b(e);const n=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const r=Number.parseFloat(t),i=Number.parseFloat(n);return r||i?(t=t.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(n))):0})(t)+5;let r=!1;const i=n=>{let{target:o}=n;o===t&&(r=!0,t.removeEventListener(s,i),b(e))};t.addEventListener(s,i),setTimeout((()=>{r||a(t)}),n)},x=(e,t,n,r)=>{const i=e.length;let s=e.indexOf(t);return-1===s?!n&&r?e[i-1]:e[0]:(s+=n?1:-1,r&&(s=(s+i)%i),e[Math.max(0,Math.min(s,i-1))])},_=/[^.]*(?=\..*)\.|.*/,C=/\..*/,k=/::\d+$/,E={};let S=1;const N={mouseenter:"mouseover",mouseleave:"mouseout"},T=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function j(e,t){return t&&`${t}::${S++}`||e.uidEvent||S++}function I(e){const t=j(e);return e.uidEvent=t,E[t]=E[t]||{},E[t]}function A(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object.values(e).find((e=>e.callable===t&&e.delegationSelector===n))}function O(e,t,n){const r="string"==typeof t,i=r?n:t||n;let s=R(e);return T.has(s)||(s=e),[r,i,s]}function P(e,t,n,r,i){if("string"!=typeof t||!e)return;let[s,o,a]=O(t,n,r);if(t in N){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};o=e(o)}const l=I(e),c=l[a]||(l[a]={}),u=A(c,o,s?n:null);if(u)return void(u.oneOff=u.oneOff&&i);const d=j(o,t.replace(_,"")),h=s?function(e,t,n){return function r(i){const s=e.querySelectorAll(t);for(let{target:o}=i;o&&o!==this;o=o.parentNode)for(const a of s)if(a===o)return F(i,{delegateTarget:o}),r.oneOff&&L.off(e,i.type,t,n),n.apply(o,[i])}}(e,n,o):function(e,t){return function n(r){return F(r,{delegateTarget:e}),n.oneOff&&L.off(e,r.type,t),t.apply(e,[r])}}(e,o);h.delegationSelector=s?n:null,h.callable=o,h.oneOff=i,h.uidEvent=d,c[d]=h,e.addEventListener(a,h,s)}function D(e,t,n,r,i){const s=A(t[n],r,i);s&&(e.removeEventListener(n,s,Boolean(i)),delete t[n][s.uidEvent])}function M(e,t,n,r){const i=t[n]||{};for(const[s,o]of Object.entries(i))s.includes(r)&&D(e,t,n,o.callable,o.delegationSelector)}function R(e){return e=e.replace(C,""),N[e]||e}const L={on(e,t,n,r){P(e,t,n,r,!1)},one(e,t,n,r){P(e,t,n,r,!0)},off(e,t,n,r){if("string"!=typeof t||!e)return;const[i,s,o]=O(t,n,r),a=o!==t,l=I(e),c=l[o]||{},u=t.startsWith(".");if(void 0===s){if(u)for(const n of Object.keys(l))M(e,l,n,t.slice(1));for(const[n,r]of Object.entries(c)){const i=n.replace(k,"");a&&!t.includes(i)||D(e,l,o,r.callable,r.delegationSelector)}}else{if(!Object.keys(c).length)return;D(e,l,o,s,i?n:null)}},trigger(e,t,n){if("string"!=typeof t||!e)return null;const r=m();let i=null,s=!0,o=!0,a=!1;t!==R(t)&&r&&(i=r.Event(t,n),r(e).trigger(i),s=!i.isPropagationStopped(),o=!i.isImmediatePropagationStopped(),a=i.isDefaultPrevented());const l=F(new Event(t,{bubbles:s,cancelable:!0}),n);return a&&l.preventDefault(),o&&e.dispatchEvent(l),l.defaultPrevented&&i&&i.preventDefault(),l}};function F(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const[n,r]of Object.entries(t))try{e[n]=r}catch(t){Object.defineProperty(e,n,{configurable:!0,get:()=>r})}return e}function z(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function U(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}const V={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${U(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${U(t)}`)},getDataAttributes(e){if(!e)return{};const t={},n=Object.keys(e.dataset).filter((e=>e.startsWith("bs")&&!e.startsWith("bsConfig")));for(const r of n){let n=r.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1,n.length),t[n]=z(e.dataset[r])}return t},getDataAttribute:(e,t)=>z(e.getAttribute(`data-bs-${U(t)}`))};class B{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const n=l(t)?V.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof n?n:{},...l(t)?V.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.constructor.DefaultType;for(const[r,i]of Object.entries(t)){const t=e[r],s=l(t)?"element":null==(n=t)?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(i).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${s}" but expected type "${i}".`)}var n}}class $ extends B{constructor(e,t){super(),(e=c(e))&&(this._element=e,this._config=this._getConfig(t),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){i.remove(this._element,this.constructor.DATA_KEY),L.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t){w(e,t,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return i.get(c(e),this.DATA_KEY)}static getOrCreateInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const H=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&"#"!==n?n.trim():null}return t?t.split(",").map((e=>o(e))).join(","):null},q={find:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(t,e)},children:(e,t)=>[].concat(...e.children).filter((e=>e.matches(t))),parents(e,t){const n=[];let r=e.parentNode.closest(t);for(;r;)n.push(r),r=r.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((e=>`${e}:not([tabindex^="-"])`)).join(",");return this.find(t,e).filter((e=>!d(e)&&u(e)))},getSelectorFromElement(e){const t=H(e);return t&&q.findOne(t)?t:null},getElementFromSelector(e){const t=H(e);return t?q.findOne(t):null},getMultipleElementsFromSelector(e){const t=H(e);return t?q.find(t):[]}},W=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hide";const n=`click.dismiss${e.EVENT_KEY}`,r=e.NAME;L.on(document,n,`[data-bs-dismiss="${r}"]`,(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),d(this))return;const i=q.getElementFromSelector(this)||this.closest(`.${r}`);e.getOrCreateInstance(i)[t]()}))},G=".bs.alert",K=`close${G}`,Y=`closed${G}`;class Q extends ${static get NAME(){return"alert"}close(){if(L.trigger(this._element,K).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,e)}_destroyElement(){this._element.remove(),L.trigger(this._element,Y),this.dispose()}static jQueryInterface(e){return this.each((function(){const t=Q.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}W(Q,"close"),y(Q);const X='[data-bs-toggle="button"]';class J extends ${static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each((function(){const t=J.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}L.on(document,"click.bs.button.data-api",X,(e=>{e.preventDefault();const t=e.target.closest(X);J.getOrCreateInstance(t).toggle()})),y(J);const Z=".bs.swipe",ee=`touchstart${Z}`,te=`touchmove${Z}`,ne=`touchend${Z}`,re=`pointerdown${Z}`,ie=`pointerup${Z}`,se={endCallback:null,leftCallback:null,rightCallback:null},oe={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ae extends B{constructor(e,t){super(),this._element=e,e&&ae.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return se}static get DefaultType(){return oe}static get NAME(){return"swipe"}dispose(){L.off(this._element,Z)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),b(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&b(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(L.on(this._element,re,(e=>this._start(e))),L.on(this._element,ie,(e=>this._end(e))),this._element.classList.add("pointer-event")):(L.on(this._element,ee,(e=>this._start(e))),L.on(this._element,te,(e=>this._move(e))),L.on(this._element,ne,(e=>this._end(e))))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const le=".bs.carousel",ce=".data-api",ue="next",de="prev",he="left",fe="right",pe=`slide${le}`,me=`slid${le}`,ge=`keydown${le}`,ve=`mouseenter${le}`,ye=`mouseleave${le}`,be=`dragstart${le}`,we=`load${le}${ce}`,xe=`click${le}${ce}`,_e="carousel",Ce="active",ke=".active",Ee=".carousel-item",Se=ke+Ee,Ne={ArrowLeft:fe,ArrowRight:he},Te={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},je={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ie extends ${constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=q.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===_e&&this.cycle()}static get Default(){return Te}static get DefaultType(){return je}static get NAME(){return"carousel"}next(){this._slide(ue)}nextWhenVisible(){!document.hidden&&u(this._element)&&this.next()}prev(){this._slide(de)}pause(){this._isSliding&&a(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?L.one(this._element,me,(()=>this.cycle())):this.cycle())}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void L.one(this._element,me,(()=>this.to(e)));const n=this._getItemIndex(this._getActive());if(n===e)return;const r=e>n?ue:de;this._slide(r,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&L.on(this._element,ge,(e=>this._keydown(e))),"hover"===this._config.pause&&(L.on(this._element,ve,(()=>this.pause())),L.on(this._element,ye,(()=>this._maybeEnableCycle()))),this._config.touch&&ae.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const t of q.find(".carousel-item img",this._element))L.on(t,be,(e=>e.preventDefault()));const e={leftCallback:()=>this._slide(this._directionToOrder(he)),rightCallback:()=>this._slide(this._directionToOrder(fe)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),500+this._config.interval))}};this._swipeHelper=new ae(this._element,e)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Ne[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=q.findOne(ke,this._indicatorsElement);t.classList.remove(Ce),t.removeAttribute("aria-current");const n=q.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(Ce),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this._isSliding)return;const n=this._getActive(),r=e===ue,i=t||x(this._getItems(),n,r,this._config.wrap);if(i===n)return;const s=this._getItemIndex(i),o=t=>L.trigger(this._element,t,{relatedTarget:i,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:s});if(o(pe).defaultPrevented)return;if(!n||!i)return;const a=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=i;const l=r?"carousel-item-start":"carousel-item-end",c=r?"carousel-item-next":"carousel-item-prev";i.classList.add(c),p(i),n.classList.add(l),i.classList.add(l),this._queueCallback((()=>{i.classList.remove(l,c),i.classList.add(Ce),n.classList.remove(Ce,c,l),this._isSliding=!1,o(me)}),n,this._isAnimated()),a&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return q.findOne(Se,this._element)}_getItems(){return q.find(Ee,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return v()?e===he?de:ue:e===he?ue:de}_orderToDirection(e){return v()?e===de?he:fe:e===de?fe:he}static jQueryInterface(e){return this.each((function(){const t=Ie.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)}))}}L.on(document,xe,"[data-bs-slide], [data-bs-slide-to]",(function(e){const t=q.getElementFromSelector(this);if(!t||!t.classList.contains(_e))return;e.preventDefault();const n=Ie.getOrCreateInstance(t),r=this.getAttribute("data-bs-slide-to");return r?(n.to(r),void n._maybeEnableCycle()):"next"===V.getDataAttribute(this,"slide")?(n.next(),void n._maybeEnableCycle()):(n.prev(),void n._maybeEnableCycle())})),L.on(window,we,(()=>{const e=q.find('[data-bs-ride="carousel"]');for(const t of e)Ie.getOrCreateInstance(t)})),y(Ie);const Ae=".bs.collapse",Oe=`show${Ae}`,Pe=`shown${Ae}`,De=`hide${Ae}`,Me=`hidden${Ae}`,Re=`click${Ae}.data-api`,Le="show",Fe="collapse",ze="collapsing",Ue=`:scope .${Fe} .${Fe}`,Ve='[data-bs-toggle="collapse"]',Be={parent:null,toggle:!0},$e={parent:"(null|element)",toggle:"boolean"};class He extends ${constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const n=q.find(Ve);for(const r of n){const e=q.getSelectorFromElement(r),t=q.find(e).filter((e=>e===this._element));null!==e&&t.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Be}static get DefaultType(){return $e}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter((e=>e!==this._element)).map((e=>He.getOrCreateInstance(e,{toggle:!1})))),e.length&&e[0]._isTransitioning)return;if(L.trigger(this._element,Oe).defaultPrevented)return;for(const r of e)r.hide();const t=this._getDimension();this._element.classList.remove(Fe),this._element.classList.add(ze),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const n=`scroll${t[0].toUpperCase()+t.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(ze),this._element.classList.add(Fe,Le),this._element.style[t]="",L.trigger(this._element,Pe)}),this._element,!0),this._element.style[t]=`${this._element[n]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(L.trigger(this._element,De).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,p(this._element),this._element.classList.add(ze),this._element.classList.remove(Fe,Le);for(const t of this._triggerArray){const e=q.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(ze),this._element.classList.add(Fe),L.trigger(this._element,Me)}),this._element,!0)}_isShown(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._element).classList.contains(Le)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=c(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Ve);for(const t of e){const e=q.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){const t=q.find(Ue,this._config.parent);return q.find(e,this._config.parent).filter((e=>!t.includes(e)))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const n of e)n.classList.toggle("collapsed",!t),n.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each((function(){const n=He.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e]()}}))}}L.on(document,Re,Ve,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();for(const t of q.getMultipleElementsFromSelector(this))He.getOrCreateInstance(t,{toggle:!1}).toggle()})),y(He);const qe="dropdown",We=".bs.dropdown",Ge=".data-api",Ke="ArrowUp",Ye="ArrowDown",Qe=`hide${We}`,Xe=`hidden${We}`,Je=`show${We}`,Ze=`shown${We}`,et=`click${We}${Ge}`,tt=`keydown${We}${Ge}`,nt=`keyup${We}${Ge}`,rt="show",it='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',st=`${it}.${rt}`,ot=".dropdown-menu",at=v()?"top-end":"top-start",lt=v()?"top-start":"top-end",ct=v()?"bottom-end":"bottom-start",ut=v()?"bottom-start":"bottom-end",dt=v()?"left-start":"right-start",ht=v()?"right-start":"left-start",ft={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},pt={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class mt extends ${constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=q.next(this._element,ot)[0]||q.prev(this._element,ot)[0]||q.findOne(ot,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ft}static get DefaultType(){return pt}static get NAME(){return qe}toggle(){return this._isShown()?this.hide():this.show()}show(){if(d(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!L.trigger(this._element,Je,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const e of[].concat(...document.body.children))L.on(e,"mouseover",f);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(rt),this._element.classList.add(rt),L.trigger(this._element,Ze,e)}}hide(){if(d(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!L.trigger(this._element,Qe,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))L.off(e,"mouseover",f);this._popper&&this._popper.destroy(),this._menu.classList.remove(rt),this._element.classList.remove(rt),this._element.setAttribute("aria-expanded","false"),V.removeDataAttribute(this._menu,"popper"),L.trigger(this._element,Xe,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!l(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${qe.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===n)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:l(this._config.reference)?e=c(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=n.createPopper(e,this._menu,t)}_isShown(){return this._menu.classList.contains(rt)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return dt;if(e.classList.contains("dropstart"))return ht;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?lt:at:t?ut:ct}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(V.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...b(this._config.popperConfig,[e])}}_selectMenuItem(e){let{key:t,target:n}=e;const r=q.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter((e=>u(e)));r.length&&x(r,n,t===Ye,!r.includes(n)).focus()}static jQueryInterface(e){return this.each((function(){const t=mt.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=q.find(st);for(const n of t){const t=mt.getInstance(n);if(!t||!1===t._config.autoClose)continue;const r=e.composedPath(),i=r.includes(t._menu);if(r.includes(t._element)||"inside"===t._config.autoClose&&!i||"outside"===t._config.autoClose&&i)continue;if(t._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const s={relatedTarget:t._element};"click"===e.type&&(s.clickEvent=e),t._completeHide(s)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),n="Escape"===e.key,r=[Ke,Ye].includes(e.key);if(!r&&!n)return;if(t&&!n)return;e.preventDefault();const i=this.matches(it)?this:q.prev(this,it)[0]||q.next(this,it)[0]||q.findOne(it,e.delegateTarget.parentNode),s=mt.getOrCreateInstance(i);if(r)return e.stopPropagation(),s.show(),void s._selectMenuItem(e);s._isShown()&&(e.stopPropagation(),s.hide(),i.focus())}}L.on(document,tt,it,mt.dataApiKeydownHandler),L.on(document,tt,ot,mt.dataApiKeydownHandler),L.on(document,et,mt.clearMenus),L.on(document,nt,mt.clearMenus),L.on(document,et,it,(function(e){e.preventDefault(),mt.getOrCreateInstance(this).toggle()})),y(mt);const gt="backdrop",vt="show",yt=`mousedown.bs.${gt}`,bt={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},wt={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class xt extends B{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return bt}static get DefaultType(){return wt}static get NAME(){return gt}show(e){if(!this._config.isVisible)return void b(e);this._append();const t=this._getElement();this._config.isAnimated&&p(t),t.classList.add(vt),this._emulateAnimation((()=>{b(e)}))}hide(e){this._config.isVisible?(this._getElement().classList.remove(vt),this._emulateAnimation((()=>{this.dispose(),b(e)}))):b(e)}dispose(){this._isAppended&&(L.off(this._element,yt),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=c(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),L.on(e,yt,(()=>{b(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(e){w(e,this._getElement(),this._config.isAnimated)}}const _t=".bs.focustrap",Ct=`focusin${_t}`,kt=`keydown.tab${_t}`,Et="backward",St={autofocus:!0,trapElement:null},Nt={autofocus:"boolean",trapElement:"element"};class Tt extends B{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return St}static get DefaultType(){return Nt}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),L.off(document,_t),L.on(document,Ct,(e=>this._handleFocusin(e))),L.on(document,kt,(e=>this._handleKeydown(e))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,L.off(document,_t))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const n=q.focusableChildren(t);0===n.length?t.focus():this._lastTabNavDirection===Et?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?Et:"forward")}}const jt=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",It=".sticky-top",At="padding-right",Ot="margin-right";class Pt{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,At,(t=>t+e)),this._setElementAttributes(jt,At,(t=>t+e)),this._setElementAttributes(It,Ot,(t=>t-e))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,At),this._resetElementAttributes(jt,At),this._resetElementAttributes(It,Ot)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){const r=this.getWidth();this._applyManipulationCallback(e,(e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+r)return;this._saveInitialAttribute(e,t);const i=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${n(Number.parseFloat(i))}px`)}))}_saveInitialAttribute(e,t){const n=e.style.getPropertyValue(t);n&&V.setDataAttribute(e,t,n)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,(e=>{const n=V.getDataAttribute(e,t);null!==n?(V.removeDataAttribute(e,t),e.style.setProperty(t,n)):e.style.removeProperty(t)}))}_applyManipulationCallback(e,t){if(l(e))t(e);else for(const n of q.find(e,this._element))t(n)}}const Dt=".bs.modal",Mt=`hide${Dt}`,Rt=`hidePrevented${Dt}`,Lt=`hidden${Dt}`,Ft=`show${Dt}`,zt=`shown${Dt}`,Ut=`resize${Dt}`,Vt=`click.dismiss${Dt}`,Bt=`mousedown.dismiss${Dt}`,$t=`keydown.dismiss${Dt}`,Ht=`click${Dt}.data-api`,qt="modal-open",Wt="show",Gt="modal-static",Kt={backdrop:!0,focus:!0,keyboard:!0},Yt={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Qt extends ${constructor(e,t){super(e,t),this._dialog=q.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Pt,this._addEventListeners()}static get Default(){return Kt}static get DefaultType(){return Yt}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||L.trigger(this._element,Ft,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(qt),this._adjustDialog(),this._backdrop.show((()=>this._showElement(e))))}hide(){this._isShown&&!this._isTransitioning&&(L.trigger(this._element,Mt).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Wt),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated())))}dispose(){L.off(window,Dt),L.off(this._dialog,Dt),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new xt({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Tt({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=q.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),p(this._element),this._element.classList.add(Wt),this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,L.trigger(this._element,zt,{relatedTarget:e})}),this._dialog,this._isAnimated())}_addEventListeners(){L.on(this._element,$t,(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())})),L.on(window,Ut,(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),L.on(this._element,Bt,(e=>{L.one(this._element,Vt,(t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(qt),this._resetAdjustments(),this._scrollBar.reset(),L.trigger(this._element,Lt)}))}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(L.trigger(this._element,Rt).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(Gt)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(Gt),this._queueCallback((()=>{this._element.classList.remove(Gt),this._queueCallback((()=>{this._element.style.overflowY=t}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;if(n&&!e){const e=v()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!n&&e){const e=v()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each((function(){const n=Qt.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e](t)}}))}}L.on(document,Ht,'[data-bs-toggle="modal"]',(function(e){const t=q.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),L.one(t,Ft,(e=>{e.defaultPrevented||L.one(t,Lt,(()=>{u(this)&&this.focus()}))}));const n=q.findOne(".modal.show");n&&Qt.getInstance(n).hide(),Qt.getOrCreateInstance(t).toggle(this)})),W(Qt),y(Qt);const Xt=".bs.offcanvas",Jt=".data-api",Zt=`load${Xt}${Jt}`,en="show",tn="showing",nn="hiding",rn=".offcanvas.show",sn=`show${Xt}`,on=`shown${Xt}`,an=`hide${Xt}`,ln=`hidePrevented${Xt}`,cn=`hidden${Xt}`,un=`resize${Xt}`,dn=`click${Xt}${Jt}`,hn=`keydown.dismiss${Xt}`,fn={backdrop:!0,keyboard:!0,scroll:!1},pn={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class mn extends ${constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return fn}static get DefaultType(){return pn}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||L.trigger(this._element,sn,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Pt).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(tn),this._queueCallback((()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(en),this._element.classList.remove(tn),L.trigger(this._element,on,{relatedTarget:e})}),this._element,!0))}hide(){this._isShown&&(L.trigger(this._element,an).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(nn),this._backdrop.hide(),this._queueCallback((()=>{this._element.classList.remove(en,nn),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Pt).reset(),L.trigger(this._element,cn)}),this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new xt({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():L.trigger(this._element,ln)}:null})}_initializeFocusTrap(){return new Tt({trapElement:this._element})}_addEventListeners(){L.on(this._element,hn,(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():L.trigger(this._element,ln))}))}static jQueryInterface(e){return this.each((function(){const t=mn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}L.on(document,dn,'[data-bs-toggle="offcanvas"]',(function(e){const t=q.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),d(this))return;L.one(t,cn,(()=>{u(this)&&this.focus()}));const n=q.findOne(rn);n&&n!==t&&mn.getInstance(n).hide(),mn.getOrCreateInstance(t).toggle(this)})),L.on(window,Zt,(()=>{for(const e of q.find(rn))mn.getOrCreateInstance(e).show()})),L.on(window,un,(()=>{for(const e of q.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&mn.getOrCreateInstance(e).hide()})),W(mn),y(mn);const gn={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},vn=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),yn=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,bn=(e,t)=>{const n=e.nodeName.toLowerCase();return t.includes(n)?!vn.has(n)||Boolean(yn.test(e.nodeValue)):t.filter((e=>e instanceof RegExp)).some((e=>e.test(n)))},wn={allowList:gn,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},xn={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},_n={entry:"(string|element|function|null)",selector:"(string|element)"};class Cn extends B{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return wn}static get DefaultType(){return xn}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map((e=>this._resolvePossibleFunction(e))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[r,i]of Object.entries(this._config.content))this._setContent(e,i,r);const t=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&t.classList.add(...n.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,n]of Object.entries(e))super._typeCheckConfig({selector:t,entry:n},_n)}_setContent(e,t,n){const r=q.findOne(n,e);r&&((t=this._resolvePossibleFunction(t))?l(t)?this._putElementInTemplate(c(t),r):this._config.html?r.innerHTML=this._maybeSanitize(t):r.textContent=t:r.remove())}_maybeSanitize(e){return this._config.sanitize?function(e,t,n){if(!e.length)return e;if(n&&"function"==typeof n)return n(e);const r=(new window.DOMParser).parseFromString(e,"text/html"),i=[].concat(...r.body.querySelectorAll("*"));for(const s of i){const e=s.nodeName.toLowerCase();if(!Object.keys(t).includes(e)){s.remove();continue}const n=[].concat(...s.attributes),r=[].concat(t["*"]||[],t[e]||[]);for(const t of n)bn(t,r)||s.removeAttribute(t.nodeName)}return r.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return b(e,[this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const kn=new Set(["sanitize","allowList","sanitizeFn"]),En="fade",Sn="show",Nn=".modal",Tn="hide.bs.modal",jn="hover",In="focus",An={AUTO:"auto",TOP:"top",RIGHT:v()?"left":"right",BOTTOM:"bottom",LEFT:v()?"right":"left"},On={allowList:gn,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Pn={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Dn extends ${constructor(e,t){if(void 0===n)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return On}static get DefaultType(){return Pn}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),L.off(this._element.closest(Nn),Tn,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=L.trigger(this._element,this.constructor.eventName("show")),t=(h(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();const n=this._getTipElement();this._element.setAttribute("aria-describedby",n.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(n),L.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(n),n.classList.add(Sn),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))L.on(i,"mouseover",f);this._queueCallback((()=>{L.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1}),this.tip,this._isAnimated())}hide(){if(this._isShown()&&!L.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Sn),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))L.off(e,"mouseover",f);this._activeTrigger.click=!1,this._activeTrigger[In]=!1,this._activeTrigger[jn]=!1,this._isHovered=null,this._queueCallback((()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),L.trigger(this._element,this.constructor.eventName("hidden")))}),this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(En,Sn),t.classList.add(`bs-${this.constructor.NAME}-auto`);const n=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(this.constructor.NAME).toString();return t.setAttribute("id",n),this._isAnimated()&&t.classList.add(En),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Cn({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(En)}_isShown(){return this.tip&&this.tip.classList.contains(Sn)}_createPopper(e){const t=b(this._config.placement,[this,e,this._element]),r=An[t.toUpperCase()];return n.createPopper(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return b(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,...b(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)L.on(this._element,this.constructor.eventName("click"),this._config.selector,(e=>{this._initializeOnDelegatedTarget(e).toggle()}));else if("manual"!==t){const e=t===jn?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),n=t===jn?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");L.on(this._element,e,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?In:jn]=!0,t._enter()})),L.on(this._element,n,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?In:jn]=t._element.contains(e.relatedTarget),t._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},L.on(this._element.closest(Nn),Tn,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=V.getDataAttributes(this._element);for(const n of Object.keys(t))kn.has(n)&&delete t[n];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:c(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,n]of Object.entries(this._config))this.constructor.Default[t]!==n&&(e[t]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each((function(){const t=Dn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}y(Dn);const Mn={...Dn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Rn={...Dn.DefaultType,content:"(null|string|element|function)"};class Ln extends Dn{static get Default(){return Mn}static get DefaultType(){return Rn}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each((function(){const t=Ln.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}y(Ln);const Fn=".bs.scrollspy",zn=`activate${Fn}`,Un=`click${Fn}`,Vn=`load${Fn}.data-api`,Bn="active",$n="[href]",Hn=".nav-link",qn=`${Hn}, .nav-item > ${Hn}, .list-group-item`,Wn={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Gn={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Kn extends ${constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Wn}static get DefaultType(){return Gn}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=c(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map((e=>Number.parseFloat(e)))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(L.off(this._config.target,Un),L.on(this._config.target,Un,$n,(e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const n=this._rootElement||window,r=t.offsetTop-this._element.offsetTop;if(n.scrollTo)return void n.scrollTo({top:r,behavior:"smooth"});n.scrollTop=r}})))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((e=>this._observerCallback(e)),e)}_observerCallback(e){const t=e=>this._targetLinks.get(`#${e.target.id}`),n=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},r=(this._rootElement||document.documentElement).scrollTop,i=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const s of e){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(s));continue}const e=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(i&&e){if(n(s),!r)return}else i||e||n(s)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=q.find($n,this._config.target);for(const t of e){if(!t.hash||d(t))continue;const e=q.findOne(decodeURI(t.hash),this._element);u(e)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Bn),this._activateParents(e),L.trigger(this._element,zn,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))q.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(Bn);else for(const t of q.parents(e,".nav, .list-group"))for(const e of q.prev(t,qn))e.classList.add(Bn)}_clearActiveClass(e){e.classList.remove(Bn);const t=q.find(`${$n}.${Bn}`,e);for(const n of t)n.classList.remove(Bn)}static jQueryInterface(e){return this.each((function(){const t=Kn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}L.on(window,Vn,(()=>{for(const e of q.find('[data-bs-spy="scroll"]'))Kn.getOrCreateInstance(e)})),y(Kn);const Yn=".bs.tab",Qn=`hide${Yn}`,Xn=`hidden${Yn}`,Jn=`show${Yn}`,Zn=`shown${Yn}`,er=`click${Yn}`,tr=`keydown${Yn}`,nr=`load${Yn}`,rr="ArrowLeft",ir="ArrowRight",sr="ArrowUp",or="ArrowDown",ar="Home",lr="End",cr="active",ur="fade",dr="show",hr=".dropdown-toggle",fr=`:not(${hr})`,pr='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',mr=`.nav-link${fr}, .list-group-item${fr}, [role="tab"]${fr}, ${pr}`,gr=`.${cr}[data-bs-toggle="tab"], .${cr}[data-bs-toggle="pill"], .${cr}[data-bs-toggle="list"]`;class vr extends ${constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),L.on(this._element,tr,(e=>this._keydown(e))))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),n=t?L.trigger(t,Qn,{relatedTarget:e}):null;L.trigger(e,Jn,{relatedTarget:t}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(cr),this._activate(q.getElementFromSelector(e)),this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),L.trigger(e,Zn,{relatedTarget:t})):e.classList.add(dr)}),e,e.classList.contains(ur)))}_deactivate(e,t){e&&(e.classList.remove(cr),e.blur(),this._deactivate(q.getElementFromSelector(e)),this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),L.trigger(e,Xn,{relatedTarget:t})):e.classList.remove(dr)}),e,e.classList.contains(ur)))}_keydown(e){if(![rr,ir,sr,or,ar,lr].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter((e=>!d(e)));let n;if([ar,lr].includes(e.key))n=t[e.key===ar?0:t.length-1];else{const r=[ir,or].includes(e.key);n=x(t,e.target,r,!0)}n&&(n.focus({preventScroll:!0}),vr.getOrCreateInstance(n).show())}_getChildren(){return q.find(mr,this._parent)}_getActiveElem(){return this._getChildren().find((e=>this._elemIsActive(e)))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const n of t)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",t),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=q.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const n=this._getOuterElement(e);if(!n.classList.contains("dropdown"))return;const r=(e,r)=>{const i=q.findOne(e,n);i&&i.classList.toggle(r,t)};r(hr,cr),r(".dropdown-menu",dr),n.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,n){e.hasAttribute(t)||e.setAttribute(t,n)}_elemIsActive(e){return e.classList.contains(cr)}_getInnerElement(e){return e.matches(mr)?e:q.findOne(mr,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each((function(){const t=vr.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}L.on(document,er,pr,(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),d(this)||vr.getOrCreateInstance(this).show()})),L.on(window,nr,(()=>{for(const e of q.find(gr))vr.getOrCreateInstance(e)})),y(vr);const yr=".bs.toast",br=`mouseover${yr}`,wr=`mouseout${yr}`,xr=`focusin${yr}`,_r=`focusout${yr}`,Cr=`hide${yr}`,kr=`hidden${yr}`,Er=`show${yr}`,Sr=`shown${yr}`,Nr="hide",Tr="show",jr="showing",Ir={animation:"boolean",autohide:"boolean",delay:"number"},Ar={animation:!0,autohide:!0,delay:5e3};class Or extends ${constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Ar}static get DefaultType(){return Ir}static get NAME(){return"toast"}show(){L.trigger(this._element,Er).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Nr),p(this._element),this._element.classList.add(Tr,jr),this._queueCallback((()=>{this._element.classList.remove(jr),L.trigger(this._element,Sr),this._maybeScheduleHide()}),this._element,this._config.animation))}hide(){this.isShown()&&(L.trigger(this._element,Cr).defaultPrevented||(this._element.classList.add(jr),this._queueCallback((()=>{this._element.classList.add(Nr),this._element.classList.remove(jr,Tr),L.trigger(this._element,kr)}),this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Tr),super.dispose()}isShown(){return this._element.classList.contains(Tr)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){L.on(this._element,br,(e=>this._onInteraction(e,!0))),L.on(this._element,wr,(e=>this._onInteraction(e,!1))),L.on(this._element,xr,(e=>this._onInteraction(e,!0))),L.on(this._element,_r,(e=>this._onInteraction(e,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each((function(){const t=Or.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}return W(Or),y(Or),{Alert:Q,Button:J,Carousel:Ie,Collapse:He,Dropdown:mt,Modal:Qt,Offcanvas:mn,Popover:Ln,ScrollSpy:Kn,Tab:vr,Toast:Or,Tooltip:Dn}}(n(738))},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),N=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var R,L=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var z=!1;function U(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case _:return"Portal";case E:return"Profiler";case k:return"StrictMode";case j:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Ce=null,ke=null;function Ee(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(s(280));var t=e.stateNode;t&&(t=xi(t),_e(e.stateNode,e.type,t))}}function Se(e){Ce?ke?ke.push(e):ke=[e]:Ce=e}function Ne(){if(Ce){var e=Ce,t=ke;if(ke=Ce=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function je(){}var Ie=!1;function Ae(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Te(e,t,n)}finally{Ie=!1,(null!==Ce||null!==ke)&&(je(),Ne())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Pe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Pe=!1}function Me(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,Le=null,Fe=!1,ze=null,Ue={onError:function(e){Re=!0,Le=e}};function Ve(e,t,n,r,i,s,o,a,l){Re=!1,Le=null,Me.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(s(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=dt(a):0!==(s&=o)&&(r=dt(s))}else 0!==(o=n&~i)?r=dt(o):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,_t,Ct,kt,Et,St=!1,Nt=[],Tt=null,jt=null,It=null,At=new Map,Ot=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Rt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void Et(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){St=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==jt&&Ft(jt)&&(jt=null),null!==It&&Ft(It)&&(It=null),At.forEach(zt),Ot.forEach(zt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return Vt(t,e)}if(0<Nt.length){Vt(Nt[0],e);for(var n=1;n<Nt.length;n++){var r=Nt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Vt(Tt,e),null!==jt&&Vt(jt,e),null!==It&&Vt(It,e),At.forEach(t),Ot.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Pt.shift()}var $t=w.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var i=bt,s=$t.transition;$t.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,$t.transition=s}}function Wt(e,t,n,r){var i=bt,s=$t.transition;$t.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,$t.transition=s}}function Gt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Kt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Rt(Tt,e,t,n,r,i),!0;case"dragenter":return jt=Rt(jt,e,t,n,r,i),!0;case"mouseover":return It=Rt(It,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return At.set(s,Rt(At.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ot.set(s,Rt(Ot.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&xt(s),null===(s=Yt(e,t,n,r))&&Hr(e,t,r,Kt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Kt=null;function Yt(e,t,n,r){if(Kt=null,null!==(e=yi(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=L({},cn,{view:0,detail:0}),hn=sn(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(L({},fn,{dataTransfer:0})),gn=sn(L({},dn,{relatedTarget:0})),vn=sn(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(L({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function En(){return kn}var Sn=L({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(Sn),Tn=sn(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=sn(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),In=sn(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=sn(An),Pn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Rn=u&&"TextEvent"in window&&!Mn,Ln=u&&(!Dn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),zn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function qn(e,t,n,r){Se(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Kn(e){Fr(e,0)}function Yn(e){if(G(wi(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];qn(t,Gn,e,xe(e)),Ae(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function sr(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Cr={},kr={};function Er(e){if(Cr[e])return Cr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Cr[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Sr=Er("animationend"),Nr=Er("animationiteration"),Tr=Er("animationstart"),jr=Er("transitionend"),Ir=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ir.set(e,t),l(t,[e])}for(var Pr=0;Pr<Ar.length;Pr++){var Dr=Ar[Pr];Or(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Or(Sr,"onAnimationEnd"),Or(Nr,"onAnimationIteration"),Or(Tr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(jr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(Ve.apply(this,arguments),Re){if(!Re)throw Error(s(198));var u=Le;Re=!1,Le=null,Fe||(Fe=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Lr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Lr(i,a,c),s=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function $r(e,t,n,r){switch(Qt(t)){case 1:var i=qt;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Ae((function(){var r=s,i=xe(n),o=[];e:{var a=Ir.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Nn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case Sr:case Nr:case Tr:l=vn;break;case jr:l=In;break;case"scroll":l=hn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Oe(p,h))&&u.push(qr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:wi(l),f=null==c?a:wi(c),(a=new u(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Kr(o,a,l,u,!1),null!==c&&null!==d&&Kr(o,d,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Qn;else if(Hn(a))if(Xn)g=or;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?qn(o,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(o,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(v=Wr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Rn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Oe(e,n))&&r.unshift(qr(e,s,i)),null!=(s=Oe(e,t))&&r.push(qr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Oe(n,s))&&o.unshift(qr(n,l,a)):i||null!=(l=Oe(n,s))&&o.push(qr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xi(e){return e[fi]||null}var _i=[],Ci=-1;function ki(e){return{current:e}}function Ei(e){0>Ci||(e.current=_i[Ci],_i[Ci]=null,Ci--)}function Si(e,t){Ci++,_i[Ci]=e.current,e.current=t}var Ni={},Ti=ki(Ni),ji=ki(!1),Ii=Ni;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ni;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ei(ji),Ei(Ti)}function Di(e,t,n){if(Ti.current!==Ni)throw Error(s(168));Si(Ti,t),Si(ji,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,$(e)||"Unknown",i));return L({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ni,Ii=Ti.current,Si(Ti,e),Si(ji,ji.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Mi(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,Ei(ji),Ei(Ti),Si(Ti,e)):Ei(ji),Si(ji,n)}var Fi=null,zi=!1,Ui=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,zi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,Ui=!1}}return null}var $i=[],Hi=0,qi=null,Wi=0,Gi=[],Ki=0,Yi=null,Qi=1,Xi="";function Ji(e,t){$i[Hi++]=Wi,$i[Hi++]=qi,qi=e,Wi=t}function Zi(e,t,n){Gi[Ki++]=Qi,Gi[Ki++]=Xi,Gi[Ki++]=Yi,Yi=e;var r=Qi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qi=1<<32-ot(t)+i|n<<i|r,Xi=s+e}else Qi=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===qi;)qi=$i[--Hi],$i[Hi]=null,Wi=$i[--Hi],$i[Hi]=null;for(;e===Yi;)Yi=Gi[--Ki],Gi[Ki]=null,Xi=Gi[--Ki],Gi[Ki]=null,Qi=Gi[--Ki],Gi[Ki]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Qi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===C?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===O&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case _:return(t=Fc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(i,d),is&&Ji(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(s=o(d,s,m),null===u?c=d:u.sibling=d,u=d);return is&&Ji(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),is&&Ji(i,m),c}function g(i,a,l,c){var u=M(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),is&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return is&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),is&&Ji(i,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===C&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===C){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&ys(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=gs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===C?((s=Mc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Dc(o.type,o.key,o.props,null,r.mode,l)).ref=gs(r,s,o),l.return=r,r=l)}return a(r);case _:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(o,r.mode,l)).return=r,r=s}return a(r);case O:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(M(o))return g(r,s,o,l);vs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Lc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var ws=bs(!0),xs=bs(!1),_s=ki(null),Cs=null,ks=null,Es=null;function Ss(){Es=ks=Cs=null}function Ns(e){var t=_s.current;Ei(_s),e._currentValue=t}function Ts(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function js(e,t){Cs=e,Es=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Is(e){var t=e._currentValue;if(Es!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===Cs)throw Error(s(308));ks=e,Cs.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var As=null;function Os(e){null===As?As=[e]:As.push(e)}function Ps(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Os(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ds(e,r)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ms=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ds(e,n)}return null===(i=r.interleaved)?(t.next=t,Os(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ds(e,n)}function Us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Vs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var i=e.updateQueue;Ms=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(o=0,u=c=l=null,a=s;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Ms=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Rl|=o,e.lanes=o,e.memoizedState=d}}function $s(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Hs={},qs=ki(Hs),Ws=ki(Hs),Gs=ki(Hs);function Ks(e){if(e===Hs)throw Error(s(174));return e}function Ys(e,t){switch(Si(Gs,t),Si(Ws,e),Si(qs,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(qs),Si(qs,t)}function Qs(){Ei(qs),Ei(Ws),Ei(Gs)}function Xs(e){Ks(Gs.current);var t=Ks(qs.current),n=le(t,e.type);t!==n&&(Si(Ws,e),Si(qs,n))}function Js(e){Ws.current===e&&(Ei(qs),Ei(Ws))}var Zs=ki(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=w.ReactCurrentDispatcher,io=w.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(s(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ea,e=n(r,i),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,i)}while(uo)}if(ro.current=Jo,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,co=!1,t)throw Error(s(300));return e}function vo(){var e=0!==ho;return ho=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function wo(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((so&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,oo.lanes|=d,Rl|=d}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Rl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _o(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Co(){}function ko(e,t){var n=oo,r=bo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,ba=!0),r=r.queue,Ro(No.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Ao(9,So.bind(null,n,r,i,t),void 0,null),null===jl)throw Error(s(349));0!==(30&so)||Eo(n,t,i)}return i}function Eo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function So(e,t,n,r){t.value=n,t.getSnapshot=r,To(t)&&jo(e)}function No(e,t,n){return n((function(){To(t)&&jo(e)}))}function To(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function jo(e){var t=Ds(e,1);null!==t&&nc(t,e,1,-1)}function Io(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[t.memoizedState,e]}function Ao(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oo(){return bo().memoizedState}function Po(e,t,n,r){var i=yo();oo.flags|=e,i.memoizedState=Ao(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var i=bo();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Ao(t,n,s,r))}oo.flags|=e,i.memoizedState=Ao(1|t,n,s,r)}function Mo(e,t){return Po(8390656,8,e,t)}function Ro(e,t){return Do(2048,8,e,t)}function Lo(e,t){return Do(4,2,e,t)}function Fo(e,t){return Do(4,4,e,t)}function zo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Uo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,zo.bind(null,t,e),n)}function Vo(){}function Bo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),oo.lanes|=n,Rl|=n,e.baseState=!0),t)}function qo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{bt=n,io.transition=r}}function Wo(){return bo().memoizedState}function Go(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yo(e))Qo(t,n);else if(null!==(n=Ps(e,t,n,r))){nc(n,e,r,ec()),Xo(n,t,r)}}function Ko(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))Qo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Os(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ps(e,t,i,r))&&(nc(n,e,r,i=ec()),Xo(n,t,r))}}function Yo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Qo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Jo={readContext:Is,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Is,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Is,useEffect:Mo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Po(4194308,4,zo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Po(4194308,4,e,t)},useInsertionEffect:function(e,t){return Po(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Go.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:Io,useDebugValue:Vo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=Io(!1),t=e[0];return e=qo.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=yo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===jl)throw Error(s(349));0!==(30&so)||Eo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Mo(No.bind(null,r,o,e),[e]),r.flags|=2048,Ao(9,So.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=jl.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Qi&~(1<<32-ot(Qi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Is,useCallback:Bo,useContext:Is,useEffect:Ro,useImperativeHandle:Uo,useInsertionEffect:Lo,useLayoutEffect:Fo,useMemo:$o,useReducer:xo,useRef:Oo,useState:function(){return xo(wo)},useDebugValue:Vo,useDeferredValue:function(e){return Ho(bo(),ao.memoizedState,e)},useTransition:function(){return[xo(wo)[0],bo().memoizedState]},useMutableSource:Co,useSyncExternalStore:ko,useId:Wo,unstable_isNewReconciler:!1},ta={readContext:Is,useCallback:Bo,useContext:Is,useEffect:Ro,useImperativeHandle:Uo,useInsertionEffect:Lo,useLayoutEffect:Fo,useMemo:$o,useReducer:_o,useRef:Oo,useState:function(){return _o(wo)},useDebugValue:Vo,useDeferredValue:function(e){var t=bo();return null===ao?t.memoizedState=e:Ho(t,ao.memoizedState,e)},useTransition:function(){return[_o(wo)[0],bo().memoizedState]},useMutableSource:Co,useSyncExternalStore:ko,useId:Wo,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,i))&&(nc(t,e,i,r),Us(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,i))&&(nc(t,e,i,r),Us(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=zs(e,i,r))&&(nc(t,e,r,n),Us(t,e,r))}};function sa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function oa(e,t,n){var r=!1,i=Ni,s=t.contextType;return"object"===typeof s&&null!==s?s=Is(s):(i=Oi(t)?Ii:Ti.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ni),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Rs(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Is(s):(s=Oi(t)?Ii:Ti.current,i.context=Ai(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ra(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Bs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,ql=r),da(0,t)},n}function pa(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,zs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ya=w.ReactCurrentOwner,ba=!1;function wa(e,t,n,r){t.child=null===e?xs(t,null,n,r):ws(t,e.child,n,r)}function xa(e,t,n,r,i){n=n.render;var s=t.ref;return js(t,i),r=go(e,t,n,r,s,i),n=vo(),null===e||ba?(is&&n&&es(t),t.flags|=1,wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function _a(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Oc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ca(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Pc(s,r)).ref=t.ref,e.return=t,t.child=e}function Ca(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Sa(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Pl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Pl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Si(Pl,Ol),Ol|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Si(Pl,Ol),Ol|=r;return wa(e,t,i,n),t.child}function Ea(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sa(e,t,n,r,i){var s=Oi(n)?Ii:Ti.current;return s=Ai(t,s),js(t,i),n=go(e,t,n,r,s,i),r=vo(),null===e||ba?(is&&r&&es(t),t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Na(e,t,n,r,i){if(Oi(n)){var s=!0;Ri(t)}else s=!1;if(js(t,i),null===t.stateNode)$a(e,t),oa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Is(c):c=Ai(t,c=Oi(n)?Ii:Ti.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,o,r,c),Ms=!1;var h=t.memoizedState;o.state=h,Bs(t,r,o,i),l=t.memoizedState,a!==r||h!==l||ji.current||Ms?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Ms||sa(t,n,a,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ls(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Is(l):l=Ai(t,l=Oi(n)?Ii:Ti.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==d||h!==l)&&aa(t,o,r,l),Ms=!1,h=t.memoizedState,o.state=h,Bs(t,r,o,i);var p=t.memoizedState;a!==d||h!==p||ji.current||Ms?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(c=Ms||sa(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ta(e,t,n,r,s,i)}function Ta(e,t,n,r,i,s){Ea(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Li(t,n,!1),Ha(e,t,s);r=t.stateNode,ya.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,a,s)):wa(e,t,a,s),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function ja(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Ys(e,t.containerInfo)}function Ia(e,t,n,r,i){return fs(),ps(i),t.flags|=256,wa(e,t,n,r),t.child}var Aa,Oa,Pa,Da,Ma={dehydrated:null,treeContext:null,retryLane:0};function Ra(e){return{baseLanes:e,cachePool:null,transitions:null}}function La(e,t,n){var r,i=t.pendingProps,o=Zs.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(Zs,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Rc(l,i,0,null),e=Mc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ra(n),t.memoizedState=Ma,e):Fa(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,za(e,t,a,r=ua(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Rc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,a),t.child.memoizedState=Ra(a),t.memoizedState=Ma,o);if(0===(1&t.mode))return za(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,za(e,t,a,r=ua(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=jl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ds(e,i),nc(r,e,i,-1))}return mc(),za(e,t,a,r=ua(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Ki++]=Qi,Gi[Ki++]=Xi,Gi[Ki++]=Yi,Qi=e.id,Xi=e.overflow,Yi=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Pc(r,a):(a=Mc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ra(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Pc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fa(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function za(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ua(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ts(e.return,t,n)}function Va(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ba(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ua(e,n,t);else if(19===e.tag)Ua(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Va(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Va(t,!0,n,null,s);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $a(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qa(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wa(t),null;case 1:case 17:return Oi(t.type)&&Pi(),Wa(t),null;case 3:return r=t.stateNode,Qs(),Ei(ji),Ei(Ti),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Oa(e,t),Wa(t),null;case 5:Js(t);var i=Ks(Gs.current);if(n=t.type,null!==e&&null!=t.stateNode)Pa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Wa(t),null}if(e=Ks(qs.current),ds(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)zr(Mr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Q(r,o),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zr("invalid",r);break;case"textarea":ie(r,o),zr("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Aa(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)zr(Mr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":Q(e,r),i=Y(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&zr("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wa(t),null;case 6:if(e&&null!=t.stateNode)Da(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ks(Gs.current),Ks(qs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wa(t),null;case 13:if(Ei(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,o=!1;else if(o=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wa(t),o=!1}else null!==ss&&(oc(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Wa(t),null);case 4:return Qs(),Oa(e,t),null===e&&Br(t.stateNode.containerInfo),Wa(t),null;case 10:return Ns(t.type._context),Wa(t),null;case 19:if(Ei(Zs),null===(o=t.memoizedState))return Wa(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)qa(o,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,qa(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Bl&&(t.flags|=128,r=!0,qa(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Wa(t),null}else 2*Xe()-o.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,qa(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=Zs.current,Si(Zs,r?1&n|2:1&n),t):(Wa(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Wa(t),6&t.subtreeFlags&&(t.flags|=8192)):Wa(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ka(e,t){switch(ts(t),t.tag){case 1:return Oi(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qs(),Ei(ji),Ei(Ti),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(Ei(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(Zs),null;case 4:return Qs(),null;case 10:return Ns(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Aa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(){},Pa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ks(qs.current);var s,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Da=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Qa=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){kc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Qa||Za(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Qa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Qa&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kc(n,t,a)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qa=(r=Qa)||null!==n.memoizedState,hl(e,t,n),Qa=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));fl(o,a,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){kc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(i,o),be(l,a);var u=be(l,o);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){kc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){kc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Xe())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qa=(u=Qa)||d,ml(t,e),Qa=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Ja=e,d=e.child;null!==d;){for(h=Ja=d;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Za(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){xl(h);continue}}null!==p?(p.return=f,Ja=p):xl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,al(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(s(161))}}catch(a){kc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Ja=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Ja;){var i=Ja,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ya;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Qa;a=Ya;var c=Qa;if(Ya=o,(Qa=l)&&!c)for(Ja=i;null!==Ja;)l=(o=Ja).child,22===o.tag&&null!==o.memoizedState?_l(i):null!==l?(l.return=o,Ja=l):_l(i);for(;null!==s;)Ja=s,bl(s,t,n),s=s.sibling;Ja=i,Ya=a,Qa=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Ja=s):wl(e)}}function wl(e){for(;null!==Ja;){var t=Ja;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qa||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&$s(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}$s(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(s(163))}Qa||512&t.flags&&il(t)}catch(f){kc(t,t.return,f)}}if(t===e){Ja=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ja=n;break}Ja=t.return}}function xl(e){for(;null!==Ja;){var t=Ja;if(t===e){Ja=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ja=n;break}Ja=t.return}}function _l(e){for(;null!==Ja;){var t=Ja;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var s=t.return;try{il(t)}catch(l){kc(t,s,l)}break;case 5:var o=t.return;try{il(t)}catch(l){kc(t,o,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Ja=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ja=a;break}Ja=t.return}}var Cl,kl=Math.ceil,El=w.ReactCurrentDispatcher,Sl=w.ReactCurrentOwner,Nl=w.ReactCurrentBatchConfig,Tl=0,jl=null,Il=null,Al=0,Ol=0,Pl=ki(0),Dl=0,Ml=null,Rl=0,Ll=0,Fl=0,zl=null,Ul=null,Vl=0,Bl=1/0,$l=null,Hl=!1,ql=null,Wl=null,Gl=!1,Kl=null,Yl=0,Ql=0,Xl=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Tl)?Xe():-1!==Jl?Jl:Jl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Al?Al&-Al:null!==ms.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Ql)throw Ql=0,Xl=null,Error(s(185));vt(e,n,r),0!==(2&Tl)&&e===jl||(e===jl&&(0===(2&Tl)&&(Ll|=n),4===Dl&&ac(e,Al)),rc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Bl=Xe()+500,zi&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=ht(e,e===jl?Al:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){zi=!0,Vi(e)}(lc.bind(null,e)):Vi(lc.bind(null,e)),oi((function(){0===(6&Tl)&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=jc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,Zl=0,0!==(6&Tl))throw Error(s(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===jl?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Tl;Tl|=2;var o=pc();for(jl===e&&Al===t||($l=null,Bl=Xe()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}Ss(),El.current=o,Tl=i,null!==Il?t=0:(jl=null,Al=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Ml,hc(e,0),ac(e,r),rc(e,Xe()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=sc(e,o))),1===t))throw n=Ml,hc(e,0),ac(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:xc(e,Ul,$l);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Vl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Ul,$l),t);break}xc(e,Ul,$l);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Ul,$l),r);break}xc(e,Ul,$l);break;default:throw Error(s(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=n,null!==t&&oc(t)),e}function oc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function ac(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Tl))throw Error(s(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ml,hc(e,0),ac(e,t),rc(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Ul,$l),rc(e,Xe()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Bl=Xe()+500,zi&&Bi())}}function uc(e){null!==Kl&&0===Kl.tag&&0===(6&Tl)&&_c();var t=Tl;Tl|=1;var n=Nl.transition,r=bt;try{if(Nl.transition=null,bt=1,e)return e()}finally{bt=r,Nl.transition=n,0===(6&(Tl=t))&&Bi()}}function dc(){Ol=Pl.current,Ei(Pl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Il)for(n=Il.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:Qs(),Ei(ji),Ei(Ti),no();break;case 5:Js(r);break;case 4:Qs();break;case 13:case 19:Ei(Zs);break;case 10:Ns(r.type._context);break;case 22:case 23:dc()}n=n.return}if(jl=e,Il=e=Pc(e.current,null),Al=Ol=t,Dl=0,Ml=null,Fl=Ll=Rl=0,Ul=zl=null,null!==As){for(t=0;t<As.length;t++)if(null!==(r=(n=As[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}As=null}return e}function fc(e,t){for(;;){var n=Il;try{if(Ss(),ro.current=Jo,co){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}co=!1}if(so=0,lo=ao=oo=null,uo=!1,ho=0,Sl.current=null,null===n||null===n.return){Dl=1,Ml=t,Il=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ma(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(o,u,t),mc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),ps(ca(c,l));break e}}o=c=ca(c,l),4!==Dl&&(Dl=2),null===zl?zl=[o]:zl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Vs(o,fa(0,c,t));break e;case 1:l=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Vs(o,pa(o,l,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(w){t=w,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function pc(){var e=El.current;return El.current=Jo,null===e?Jo:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===jl||0===(268435455&Rl)&&0===(268435455&Ll)||ac(jl,Al)}function gc(e,t){var n=Tl;Tl|=2;var r=pc();for(jl===e&&Al===t||($l=null,hc(e,t));;)try{vc();break}catch(i){fc(e,i)}if(Ss(),Tl=n,El.current=r,null!==Il)throw Error(s(261));return jl=null,Al=0,Dl}function vc(){for(;null!==Il;)bc(Il)}function yc(){for(;null!==Il&&!Ye();)bc(Il)}function bc(e){var t=Cl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?wc(e):Il=t,Sl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Ol)))return void(Il=n)}else{if(null!==(n=Ka(n,t)))return n.flags&=32767,void(Il=n);if(null===e)return Dl=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===Dl&&(Dl=5)}function xc(e,t,n){var r=bt,i=Nl.transition;try{Nl.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==Kl);if(0!==(6&Tl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===jl&&(Il=jl=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,jc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Nl.transition,Nl.transition=null;var a=bt;bt=1;var l=Tl;Tl|=4,Sl.current=null,function(e,t){if(ei=Ht,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==o||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++d===r&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Ja=t;null!==Ja;)if(e=(t=Ja).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ja=e;else for(;null!==Ja;){t=Ja;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(x){kc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Ja=e;break}Ja=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Qe(),Tl=l,bt=a,Nl.transition=o}else e.current=n;if(Gl&&(Gl=!1,Kl=e,Yl=i),o=e.pendingLanes,0===o&&(Wl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=ql,ql=null,e;0!==(1&Yl)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Xl?Ql++:(Ql=0,Xl=e):Ql=0,Bi()}(e,t,n,r)}finally{Nl.transition=i,bt=r}return null}function _c(){if(null!==Kl){var e=wt(Yl),t=Nl.transition,n=bt;try{if(Nl.transition=null,bt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Yl=0,0!==(6&Tl))throw Error(s(331));var i=Tl;for(Tl|=4,Ja=e.current;null!==Ja;){var o=Ja,a=o.child;if(0!==(16&Ja.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var d=Ja;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Ja=h;else for(;null!==Ja;){var f=(d=Ja).sibling,p=d.return;if(sl(d),d===u){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ja=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Ja=a;else e:for(;null!==Ja;){if(0!==(2048&(o=Ja).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Ja=y;break e}Ja=o.return}}var b=e.current;for(Ja=b;null!==Ja;){var w=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Ja=w;else e:for(a=b;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){kc(l,l.return,_)}if(l===a){Ja=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Ja=x;break e}Ja=l.return}}if(Tl=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,Nl.transition=t}}return!1}function Cc(e,t,n){e=zs(e,t=fa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)Cc(e,e,n);else for(;null!==t;){if(3===t.tag){Cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=zs(t,e=pa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,jl===e&&(Al&n)===n&&(4===Dl||3===Dl&&(130023424&Al)===Al&&500>Xe()-Vl?hc(e,0):Fl|=n),rc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ds(e,t))&&(vt(e,t,n),rc(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Sc(e,n)}function jc(e,t){return Ge(e,t)}function Ic(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Ic(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Oc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case C:return Mc(n.children,i,o,t);case k:a=8,i|=8;break;case E:return(e=Ac(12,n,t,2|i)).elementType=E,e.lanes=o,e;case j:return(e=Ac(13,n,t,i)).elementType=j,e.lanes=o,e;case I:return(e=Ac(19,n,t,i)).elementType=I,e.lanes=o,e;case P:return Rc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:a=10;break e;case N:a=9;break e;case T:a=11;break e;case A:a=14;break e;case O:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ac(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,s,o,a,l){return e=new zc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ac(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rs(s),e}function Vc(e){if(!e)return Ni;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Mi(e,n,t)}return t}function Bc(e,t,n,r,i,s,o,a,l){return(e=Uc(n,r,!0,e,0,s,0,a,l)).context=Vc(null),n=e.current,(s=Fs(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,zs(n,s,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function $c(e,t,n,r){var i=t.current,s=ec(),o=tc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zs(i,t,o))&&(nc(e,i,o,s),Us(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ji.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:ja(t),fs();break;case 5:Xs(t);break;case 1:Oi(t.type)&&Ri(t);break;case 4:Ys(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(_s,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?La(e,t,n):(Si(Zs,1&Zs.current),null!==(e=Ha(e,t,n))?e.sibling:null);Si(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ba(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Ha(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,is&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$a(e,t),e=t.pendingProps;var i=Ai(t,Ti.current);js(t,n),i=go(null,t,r,e,i,n);var o=vo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Ri(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Rs(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Ta(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),wa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch($a(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===A)return 14}return 2}(r),e=na(r,e),i){case 0:t=Sa(null,t,r,e,n);break e;case 1:t=Na(null,t,r,e,n);break e;case 11:t=xa(null,t,r,e,n);break e;case 14:t=_a(null,t,r,na(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Na(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(ja(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ls(e,t),Bs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ia(e,t,r,n,i=ca(Error(s(423)),t));break e}if(r!==i){t=Ia(e,t,r,n,i=ca(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ha(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return Xs(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Ea(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return La(e,t,n);case 4:return Ys(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Si(_s,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!ji.current){t=Ha(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Fs(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ts(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ts(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}wa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,js(t,n),r=r(i=Is(i)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),_a(e,t,r,i=na(r.type,i),n);case 15:return Ca(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),$a(e,t),t.tag=1,Oi(r)?(e=!0,Ri(t)):e=!1,js(t,n),oa(t,r,i),la(t,r,i,n),Ta(null,t,r,!0,e,n);case 19:return Ba(e,t,n);case 22:return ka(e,t,n)}throw Error(s(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Hc(o);a.call(e)}}$c(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Hc(o);s.call(e)}}var o=Bc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),uc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Hc(l);a.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),uc((function(){$c(t,l,n,r)})),l}(n,t,e,i,r);return Hc(o)}Yc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));$c(e,t,null,null)},Yc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){$c(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Lt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Xe()),0===(6&Tl)&&(Bl=Xe()+500,Bi()))}break;case 13:uc((function(){var t=Ds(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Wc(e,1)}},_t=function(e){if(13===e.tag){var t=Ds(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},Ct=function(e){if(13===e.tag){var t=tc(e),n=Ds(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},kt=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(s(90));G(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,je=uc;var eu={usingClientEntryPoint:!1,Events:[bi,wi,xi,Se,Ne,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(s(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},195:(e,t,n)=>{e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t){e.exports=n(43)},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var s=typeof r;if("string"===s||"number"===s)e.push(r);else if(Array.isArray(r)&&r.length){var o=i.apply(null,r);o&&e.push(o)}else if("object"===s)for(var a in r)n.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){(function(t){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt,a="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,c=a||l||Function("return this")(),u=Object.prototype.toString,d=c.Symbol,h=d?d.prototype:void 0,f=h?h.toString:void 0;function p(e){if("string"==typeof e)return e;if(g(e))return f?f.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}function v(e){return e?(e=function(e){if("number"==typeof e)return e;if(g(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var a=i.test(e);return a||s.test(e)?o(e.slice(2),a?2:8):r.test(e)?NaN:+e}(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}e.exports=function(e,t,n){var r,i,s;return e=null==(r=e)?"":p(r),i=function(e){var t=v(e),n=t%1;return t==t?n?t-n:t:0}(n),s=e.length,i==i&&(void 0!==s&&(i=i<=s?i:s),i=i>=0?i:0),n=i,t=p(t),e.slice(n,n+t.length)==t}}).call(this,n(3))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){(function(t){var n,r=/^\[object .+?Constructor\]$/,i="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,o=i||s||Function("return this")(),a=Array.prototype,l=Function.prototype,c=Object.prototype,u=o["__core-js_shared__"],d=(n=/[^.]+$/.exec(u&&u.keys&&u.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",h=l.toString,f=c.hasOwnProperty,p=c.toString,m=RegExp("^"+h.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),g=a.splice,v=E(o,"Map"),y=E(Object,"create");function b(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function w(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function x(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!=n&&r!=r)return i;return-1}function C(e){return!(!N(e)||(t=e,d&&d in t))&&(function(e){var t=N(e)?p.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?m:r).test(function(e){if(null!=e){try{return h.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function k(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function E(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return C(n)?n:void 0}function S(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o),o};return n.cache=new(S.Cache||x),n}function N(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}b.prototype.clear=function(){this.__data__=y?y(null):{}},b.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},b.prototype.get=function(e){var t=this.__data__;if(y){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return f.call(t,e)?t[e]:void 0},b.prototype.has=function(e){var t=this.__data__;return y?void 0!==t[e]:f.call(t,e)},b.prototype.set=function(e,t){return this.__data__[e]=y&&void 0===t?"__lodash_hash_undefined__":t,this},w.prototype.clear=function(){this.__data__=[]},w.prototype.delete=function(e){var t=this.__data__,n=_(t,e);return!(n<0)&&(n==t.length-1?t.pop():g.call(t,n,1),!0)},w.prototype.get=function(e){var t=this.__data__,n=_(t,e);return n<0?void 0:t[n][1]},w.prototype.has=function(e){return _(this.__data__,e)>-1},w.prototype.set=function(e,t){var n=this.__data__,r=_(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},x.prototype.clear=function(){this.__data__={hash:new b,map:new(v||w),string:new b}},x.prototype.delete=function(e){return k(this,e).delete(e)},x.prototype.get=function(e){return k(this,e).get(e)},x.prototype.has=function(e){return k(this,e).has(e)},x.prototype.set=function(e,t){return k(this,e).set(e,t),this},S.Cache=x,e.exports=S}).call(this,n(3))},function(e,t,n){(function(t){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt,a="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,c=a||l||Function("return this")(),u=Object.prototype.toString,d=Math.max,h=Math.min,f=function(){return c.Date.now()};function p(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return NaN;if(p(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=p(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var a=i.test(e);return a||s.test(e)?o(e.slice(2),a?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var r,i,s,o,a,l,c=0,u=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,s=i;return r=i=void 0,c=t,o=e.apply(s,n)}function b(e){var n=e-l;return void 0===l||n>=t||n<0||g&&e-c>=s}function w(){var e=f();if(b(e))return x(e);a=setTimeout(w,function(e){var n=t-(e-l);return g?h(n,s-(e-c)):n}(e))}function x(e){return a=void 0,v&&r?y(e):(r=i=void 0,o)}function _(){var e=f(),n=b(e);if(r=arguments,i=this,l=e,n){if(void 0===a)return function(e){return c=e,a=setTimeout(w,t),u?y(e):o}(l);if(g)return a=setTimeout(w,t),y(l)}return void 0===a&&(a=setTimeout(w,t)),o}return t=m(t)||0,p(n)&&(u=!!n.leading,s=(g="maxWait"in n)?d(m(n.maxWait)||0,t):s,v="trailing"in n?!!n.trailing:v),_.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=l=i=a=void 0},_.flush=function(){return void 0===a?o:x(f())},_}}).call(this,n(3))},function(e,t,n){(function(e,n){var r="[object Arguments]",i="[object Map]",s="[object Object]",o="[object Set]",a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,c=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p[r]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p[i]=p["[object Number]"]=p[s]=p["[object RegExp]"]=p[o]=p["[object String]"]=p["[object WeakMap]"]=!1;var m="object"==typeof e&&e&&e.Object===Object&&e,g="object"==typeof self&&self&&self.Object===Object&&self,v=m||g||Function("return this")(),y=t&&!t.nodeType&&t,b=y&&"object"==typeof n&&n&&!n.nodeType&&n,w=b&&b.exports===y&&m.process,x=function(){try{return w&&w.binding("util")}catch(e){}}(),_=x&&x.isTypedArray;function C(e,t,n,r){var i=-1,s=e?e.length:0;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n}function k(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function E(e,t,n,r,i){return i(e,(function(e,i,s){n=r?(r=!1,e):t(n,e,i,s)})),n}function S(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function N(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function T(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var j,I,A,O=Array.prototype,P=Function.prototype,D=Object.prototype,M=v["__core-js_shared__"],R=(j=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",L=P.toString,F=D.hasOwnProperty,z=D.toString,U=RegExp("^"+L.call(F).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),V=v.Symbol,B=v.Uint8Array,$=D.propertyIsEnumerable,H=O.splice,q=(I=Object.keys,A=Object,function(e){return I(A(e))}),W=xe(v,"DataView"),G=xe(v,"Map"),K=xe(v,"Promise"),Y=xe(v,"Set"),Q=xe(v,"WeakMap"),X=xe(Object,"create"),J=je(W),Z=je(G),ee=je(K),te=je(Y),ne=je(Q),re=V?V.prototype:void 0,ie=re?re.valueOf:void 0,se=re?re.toString:void 0;function oe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function le(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ce(e){var t=-1,n=e?e.length:0;for(this.__data__=new le;++t<n;)this.add(e[t])}function ue(e){this.__data__=new ae(e)}function de(e,t){for(var n=e.length;n--;)if(Ae(e[n][0],t))return n;return-1}oe.prototype.clear=function(){this.__data__=X?X(null):{}},oe.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},oe.prototype.get=function(e){var t=this.__data__;if(X){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return F.call(t,e)?t[e]:void 0},oe.prototype.has=function(e){var t=this.__data__;return X?void 0!==t[e]:F.call(t,e)},oe.prototype.set=function(e,t){return this.__data__[e]=X&&void 0===t?"__lodash_hash_undefined__":t,this},ae.prototype.clear=function(){this.__data__=[]},ae.prototype.delete=function(e){var t=this.__data__,n=de(t,e);return!(n<0)&&(n==t.length-1?t.pop():H.call(t,n,1),!0)},ae.prototype.get=function(e){var t=this.__data__,n=de(t,e);return n<0?void 0:t[n][1]},ae.prototype.has=function(e){return de(this.__data__,e)>-1},ae.prototype.set=function(e,t){var n=this.__data__,r=de(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},le.prototype.clear=function(){this.__data__={hash:new oe,map:new(G||ae),string:new oe}},le.prototype.delete=function(e){return we(this,e).delete(e)},le.prototype.get=function(e){return we(this,e).get(e)},le.prototype.has=function(e){return we(this,e).has(e)},le.prototype.set=function(e,t){return we(this,e).set(e,t),this},ce.prototype.add=ce.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ce.prototype.has=function(e){return this.__data__.has(e)},ue.prototype.clear=function(){this.__data__=new ae},ue.prototype.delete=function(e){return this.__data__.delete(e)},ue.prototype.get=function(e){return this.__data__.get(e)},ue.prototype.has=function(e){return this.__data__.has(e)},ue.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ae){var r=n.__data__;if(!G||r.length<199)return r.push([e,t]),this;n=this.__data__=new le(r)}return n.set(e,t),this};var he,fe=(he=function(e,t){return e&&pe(e,t,Ve)},function(e,t){if(null==e)return e;if(!De(e))return he(e,t);for(var n=e.length,r=-1,i=Object(e);++r<n&&!1!==t(i[r],r,i););return e}),pe=function(e,t,n){for(var r=-1,i=Object(e),s=n(e),o=s.length;o--;){var a=s[++r];if(!1===t(i[a],a,i))break}return e};function me(e,t){for(var n=0,r=(t=ke(t,e)?[t]:ye(t)).length;null!=e&&n<r;)e=e[Te(t[n++])];return n&&n==r?e:void 0}function ge(e,t){return null!=e&&t in Object(e)}function ve(e,t,n,a,l){return e===t||(null==e||null==t||!Le(e)&&!Fe(t)?e!=e&&t!=t:function(e,t,n,a,l,c){var u=Pe(e),d=Pe(t),h="[object Array]",f="[object Array]";u||(h=(h=_e(e))==r?s:h),d||(f=(f=_e(t))==r?s:f);var p=h==s&&!S(e),m=f==s&&!S(t),g=h==f;if(g&&!p)return c||(c=new ue),u||Ue(e)?be(e,t,n,a,l,c):function(e,t,n,r,s,a,l){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!r(new B(e),new B(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ae(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case i:var c=N;case o:var u=2&a;if(c||(c=T),e.size!=t.size&&!u)return!1;var d=l.get(e);if(d)return d==t;a|=1,l.set(e,t);var h=be(c(e),c(t),r,s,a,l);return l.delete(e),h;case"[object Symbol]":if(ie)return ie.call(e)==ie.call(t)}return!1}(e,t,h,n,a,l,c);if(!(2&l)){var v=p&&F.call(e,"__wrapped__"),y=m&&F.call(t,"__wrapped__");if(v||y){var b=v?e.value():e,w=y?t.value():t;return c||(c=new ue),n(b,w,a,l,c)}}return!!g&&(c||(c=new ue),function(e,t,n,r,i,s){var o=2&i,a=Ve(e),l=a.length;if(l!=Ve(t).length&&!o)return!1;for(var c=l;c--;){var u=a[c];if(!(o?u in t:F.call(t,u)))return!1}var d=s.get(e);if(d&&s.get(t))return d==t;var h=!0;s.set(e,t),s.set(t,e);for(var f=o;++c<l;){var p=e[u=a[c]],m=t[u];if(r)var g=o?r(m,p,u,t,e,s):r(p,m,u,e,t,s);if(!(void 0===g?p===m||n(p,m,r,i,s):g)){h=!1;break}f||(f="constructor"==u)}if(h&&!f){var v=e.constructor,y=t.constructor;v==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(h=!1)}return s.delete(e),s.delete(t),h}(e,t,n,a,l,c))}(e,t,ve,n,a,l))}function ye(e){return Pe(e)?e:Ne(e)}function be(e,t,n,r,i,s){var o=2&i,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(e);if(c&&s.get(t))return c==t;var u=-1,d=!0,h=1&i?new ce:void 0;for(s.set(e,t),s.set(t,e);++u<a;){var f=e[u],p=t[u];if(r)var m=o?r(p,f,u,t,e,s):r(f,p,u,e,t,s);if(void 0!==m){if(m)continue;d=!1;break}if(h){if(!k(t,(function(e,t){if(!h.has(t)&&(f===e||n(f,e,r,i,s)))return h.add(t)}))){d=!1;break}}else if(f!==p&&!n(f,p,r,i,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function we(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function xe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Le(e)||function(e){return!!R&&R in e}(e))&&(Me(e)||S(e)?U:h).test(je(e))}(n)?n:void 0}var _e=function(e){return z.call(e)};function Ce(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||f.test(e))&&e>-1&&e%1==0&&e<t}function ke(e,t){if(Pe(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ze(e))||l.test(e)||!a.test(e)||null!=t&&e in Object(t)}function Ee(e){return e==e&&!Le(e)}function Se(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}(W&&"[object DataView]"!=_e(new W(new ArrayBuffer(1)))||G&&_e(new G)!=i||K&&"[object Promise]"!=_e(K.resolve())||Y&&_e(new Y)!=o||Q&&"[object WeakMap]"!=_e(new Q))&&(_e=function(e){var t=z.call(e),n=t==s?e.constructor:void 0,r=n?je(n):void 0;if(r)switch(r){case J:return"[object DataView]";case Z:return i;case ee:return"[object Promise]";case te:return o;case ne:return"[object WeakMap]"}return t});var Ne=Ie((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(ze(e))return se?se.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return c.test(e)&&n.push(""),e.replace(u,(function(e,t,r,i){n.push(r?i.replace(d,"$1"):t||e)})),n}));function Te(e){if("string"==typeof e||ze(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function je(e){if(null!=e){try{return L.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ie(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o),o};return n.cache=new(Ie.Cache||le),n}function Ae(e,t){return e===t||e!=e&&t!=t}function Oe(e){return function(e){return Fe(e)&&De(e)}(e)&&F.call(e,"callee")&&(!$.call(e,"callee")||z.call(e)==r)}Ie.Cache=le;var Pe=Array.isArray;function De(e){return null!=e&&Re(e.length)&&!Me(e)}function Me(e){var t=Le(e)?z.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function Re(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Le(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Fe(e){return!!e&&"object"==typeof e}function ze(e){return"symbol"==typeof e||Fe(e)&&"[object Symbol]"==z.call(e)}var Ue=_?function(e){return function(t){return e(t)}}(_):function(e){return Fe(e)&&Re(e.length)&&!!p[z.call(e)]};function Ve(e){return De(e)?function(e,t){var n=Pe(e)||Oe(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var s in e)!t&&!F.call(e,s)||i&&("length"==s||Ce(s,r))||n.push(s);return n}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||D))return q(e);var t,n,r=[];for(var i in Object(e))F.call(e,i)&&"constructor"!=i&&r.push(i);return r}(e)}function Be(e){return e}n.exports=function(e,t,n){var r=Pe(e)?C:E,i=arguments.length<3;return r(e,function(e){return"function"==typeof e?e:null==e?Be:"object"==typeof e?Pe(e)?function(e,t){return ke(e)&&Ee(t)?Se(Te(e),t):function(n){var r=function(e,t){var n=null==e?void 0:me(e,t);return void 0===n?void 0:n}(n,e);return void 0===r&&r===t?function(e,t){return null!=e&&function(e,t,n){for(var r,i=-1,s=(t=ke(t,e)?[t]:ye(t)).length;++i<s;){var o=Te(t[i]);if(!(r=null!=e&&n(e,o)))break;e=e[o]}return r||!!(s=e?e.length:0)&&Re(s)&&Ce(o,s)&&(Pe(e)||Oe(e))}(e,t,ge)}(n,e):ve(t,r,void 0,3)}}(e[0],e[1]):function(e){var t=function(e){for(var t=Ve(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ee(i)]}return t}(e);return 1==t.length&&t[0][2]?Se(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var i=n.length,s=i;if(null==e)return!s;for(e=Object(e);i--;){var o=n[i];if(o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<s;){var a=(o=n[i])[0],l=e[a],c=o[1];if(o[2]){if(void 0===l&&!(a in e))return!1}else{var u,d=new ue;if(!(void 0===u?ve(c,l,r,3,d):u))return!1}}return!0}(n,0,t)}}(e):ke(t=e)?(n=Te(t),function(e){return null==e?void 0:e[n]}):function(e){return function(t){return me(t,e)}}(t);var t,n}(t),n,i,fe)}}).call(this,n(3),n(7)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){String.prototype.padEnd||(String.prototype.padEnd=function(e,t){return e>>=0,t=String(void 0!==t?t:" "),this.length>e?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),String(this)+t.slice(0,e))})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e){if(Array.isArray(e))return e}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){return(d="function"==typeof Symbol&&"symbol"===u(Symbol.iterator)?function(e){return u(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":u(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.r(t);var m=n(0),g=n.n(m),v=n(5),y=n.n(v),b=n(4),w=n.n(b),x=n(6),_=n.n(x),C=n(2),k=n.n(C),E=n(1),S=n.n(E);function N(e,t){return o(e)||function(e,t){var n=[],r=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,s=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}return n}(e,t)||a()}n(8);var T=[["Afghanistan",["asia"],"af","93"],["Albania",["europe"],"al","355"],["Algeria",["africa","north-africa"],"dz","213"],["Andorra",["europe"],"ad","376"],["Angola",["africa"],"ao","244"],["Antigua and Barbuda",["america","carribean"],"ag","1268"],["Argentina",["america","south-america"],"ar","54","(..) ........",0,["11","221","223","261","264","2652","280","2905","291","2920","2966","299","341","342","343","351","376","379","381","3833","385","387","388"]],["Armenia",["asia","ex-ussr"],"am","374",".. ......"],["Aruba",["america","carribean"],"aw","297"],["Australia",["oceania"],"au","61","(..) .... ....",0,["2","3","4","7","8","02","03","04","07","08"]],["Austria",["europe","eu-union"],"at","43"],["Azerbaijan",["asia","ex-ussr"],"az","994","(..) ... .. .."],["Bahamas",["america","carribean"],"bs","1242"],["Bahrain",["middle-east"],"bh","973"],["Bangladesh",["asia"],"bd","880"],["Barbados",["america","carribean"],"bb","1246"],["Belarus",["europe","ex-ussr"],"by","375","(..) ... .. .."],["Belgium",["europe","eu-union"],"be","32","... .. .. .."],["Belize",["america","central-america"],"bz","501"],["Benin",["africa"],"bj","229"],["Bhutan",["asia"],"bt","975"],["Bolivia",["america","south-america"],"bo","591"],["Bosnia and Herzegovina",["europe","ex-yugos"],"ba","387"],["Botswana",["africa"],"bw","267"],["Brazil",["america","south-america"],"br","55","(..) ........."],["British Indian Ocean Territory",["asia"],"io","246"],["Brunei",["asia"],"bn","673"],["Bulgaria",["europe","eu-union"],"bg","359"],["Burkina Faso",["africa"],"bf","226"],["Burundi",["africa"],"bi","257"],["Cambodia",["asia"],"kh","855"],["Cameroon",["africa"],"cm","237"],["Canada",["america","north-america"],"ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde",["africa"],"cv","238"],["Caribbean Netherlands",["america","carribean"],"bq","599","",1],["Central African Republic",["africa"],"cf","236"],["Chad",["africa"],"td","235"],["Chile",["america","south-america"],"cl","56"],["China",["asia"],"cn","86","..-........."],["Colombia",["america","south-america"],"co","57","... ... ...."],["Comoros",["africa"],"km","269"],["Congo",["africa"],"cd","243"],["Congo",["africa"],"cg","242"],["Costa Rica",["america","central-america"],"cr","506","....-...."],["C\xf4te d\u2019Ivoire",["africa"],"ci","225",".. .. .. .."],["Croatia",["europe","eu-union","ex-yugos"],"hr","385"],["Cuba",["america","carribean"],"cu","53"],["Cura\xe7ao",["america","carribean"],"cw","599","",0],["Cyprus",["europe","eu-union"],"cy","357",".. ......"],["Czech Republic",["europe","eu-union"],"cz","420","... ... ..."],["Denmark",["europe","eu-union","baltic"],"dk","45",".. .. .. .."],["Djibouti",["africa"],"dj","253"],["Dominica",["america","carribean"],"dm","1767"],["Dominican Republic",["america","carribean"],"do","1","",2,["809","829","849"]],["Ecuador",["america","south-america"],"ec","593"],["Egypt",["africa","north-africa"],"eg","20"],["El Salvador",["america","central-america"],"sv","503","....-...."],["Equatorial Guinea",["africa"],"gq","240"],["Eritrea",["africa"],"er","291"],["Estonia",["europe","eu-union","ex-ussr","baltic"],"ee","372",".... ......"],["Ethiopia",["africa"],"et","251"],["Fiji",["oceania"],"fj","679"],["Finland",["europe","eu-union","baltic"],"fi","358",".. ... .. .."],["France",["europe","eu-union"],"fr","33",". .. .. .. .."],["French Guiana",["america","south-america"],"gf","594"],["French Polynesia",["oceania"],"pf","689"],["Gabon",["africa"],"ga","241"],["Gambia",["africa"],"gm","220"],["Georgia",["asia","ex-ussr"],"ge","995"],["Germany",["europe","eu-union","baltic"],"de","49",".... ........"],["Ghana",["africa"],"gh","233"],["Greece",["europe","eu-union"],"gr","30"],["Grenada",["america","carribean"],"gd","1473"],["Guadeloupe",["america","carribean"],"gp","590","",0],["Guam",["oceania"],"gu","1671"],["Guatemala",["america","central-america"],"gt","502","....-...."],["Guinea",["africa"],"gn","224"],["Guinea-Bissau",["africa"],"gw","245"],["Guyana",["america","south-america"],"gy","592"],["Haiti",["america","carribean"],"ht","509","....-...."],["Honduras",["america","central-america"],"hn","504"],["Hong Kong",["asia"],"hk","852",".... ...."],["Hungary",["europe","eu-union"],"hu","36"],["Iceland",["europe"],"is","354","... ...."],["India",["asia"],"in","91",".....-....."],["Indonesia",["asia"],"id","62"],["Iran",["middle-east"],"ir","98","... ... ...."],["Iraq",["middle-east"],"iq","964"],["Ireland",["europe","eu-union"],"ie","353",".. ......."],["Israel",["middle-east"],"il","972","... ... ...."],["Italy",["europe","eu-union"],"it","39","... .......",0],["Jamaica",["america","carribean"],"jm","1876"],["Japan",["asia"],"jp","81",".. .... ...."],["Jordan",["middle-east"],"jo","962"],["Kazakhstan",["asia","ex-ussr"],"kz","7","... ...-..-..",1,["310","311","312","313","315","318","321","324","325","326","327","336","7172","73622"]],["Kenya",["africa"],"ke","254"],["Kiribati",["oceania"],"ki","686"],["Kosovo",["europe","ex-yugos"],"xk","383"],["Kuwait",["middle-east"],"kw","965"],["Kyrgyzstan",["asia","ex-ussr"],"kg","996","... ... ..."],["Laos",["asia"],"la","856"],["Latvia",["europe","eu-union","ex-ussr","baltic"],"lv","371",".. ... ..."],["Lebanon",["middle-east"],"lb","961"],["Lesotho",["africa"],"ls","266"],["Liberia",["africa"],"lr","231"],["Libya",["africa","north-africa"],"ly","218"],["Liechtenstein",["europe"],"li","423"],["Lithuania",["europe","eu-union","ex-ussr","baltic"],"lt","370"],["Luxembourg",["europe","eu-union"],"lu","352"],["Macau",["asia"],"mo","853"],["Macedonia",["europe","ex-yugos"],"mk","389"],["Madagascar",["africa"],"mg","261"],["Malawi",["africa"],"mw","265"],["Malaysia",["asia"],"my","60","..-....-...."],["Maldives",["asia"],"mv","960"],["Mali",["africa"],"ml","223"],["Malta",["europe","eu-union"],"mt","356"],["Marshall Islands",["oceania"],"mh","692"],["Martinique",["america","carribean"],"mq","596"],["Mauritania",["africa"],"mr","222"],["Mauritius",["africa"],"mu","230"],["Mexico",["america","central-america"],"mx","52","... ... ....",0,["55","81","33","656","664","998","774","229"]],["Micronesia",["oceania"],"fm","691"],["Moldova",["europe"],"md","373","(..) ..-..-.."],["Monaco",["europe"],"mc","377"],["Mongolia",["asia"],"mn","976"],["Montenegro",["europe","ex-yugos"],"me","382"],["Morocco",["africa","north-africa"],"ma","212"],["Mozambique",["africa"],"mz","258"],["Myanmar",["asia"],"mm","95"],["Namibia",["africa"],"na","264"],["Nauru",["africa"],"nr","674"],["Nepal",["asia"],"np","977"],["Netherlands",["europe","eu-union"],"nl","31",".. ........"],["New Caledonia",["oceania"],"nc","687"],["New Zealand",["oceania"],"nz","64","...-...-...."],["Nicaragua",["america","central-america"],"ni","505"],["Niger",["africa"],"ne","227"],["Nigeria",["africa"],"ng","234"],["North Korea",["asia"],"kp","850"],["Norway",["europe","baltic"],"no","47","... .. ..."],["Oman",["middle-east"],"om","968"],["Pakistan",["asia"],"pk","92","...-......."],["Palau",["oceania"],"pw","680"],["Palestine",["middle-east"],"ps","970"],["Panama",["america","central-america"],"pa","507"],["Papua New Guinea",["oceania"],"pg","675"],["Paraguay",["america","south-america"],"py","595"],["Peru",["america","south-america"],"pe","51"],["Philippines",["asia"],"ph","63",".... ......."],["Poland",["europe","eu-union","baltic"],"pl","48","...-...-..."],["Portugal",["europe","eu-union"],"pt","351"],["Puerto Rico",["america","carribean"],"pr","1","",3,["787","939"]],["Qatar",["middle-east"],"qa","974"],["R\xe9union",["africa"],"re","262"],["Romania",["europe","eu-union"],"ro","40"],["Russia",["europe","asia","ex-ussr","baltic"],"ru","7","(...) ...-..-..",0],["Rwanda",["africa"],"rw","250"],["Saint Kitts and Nevis",["america","carribean"],"kn","1869"],["Saint Lucia",["america","carribean"],"lc","1758"],["Saint Vincent and the Grenadines",["america","carribean"],"vc","1784"],["Samoa",["oceania"],"ws","685"],["San Marino",["europe"],"sm","378"],["S\xe3o Tom\xe9 and Pr\xedncipe",["africa"],"st","239"],["Saudi Arabia",["middle-east"],"sa","966"],["Senegal",["africa"],"sn","221"],["Serbia",["europe","ex-yugos"],"rs","381"],["Seychelles",["africa"],"sc","248"],["Sierra Leone",["africa"],"sl","232"],["Singapore",["asia"],"sg","65","....-...."],["Slovakia",["europe","eu-union"],"sk","421"],["Slovenia",["europe","eu-union","ex-yugos"],"si","386"],["Solomon Islands",["oceania"],"sb","677"],["Somalia",["africa"],"so","252"],["South Africa",["africa"],"za","27"],["South Korea",["asia"],"kr","82","... .... ...."],["South Sudan",["africa","north-africa"],"ss","211"],["Spain",["europe","eu-union"],"es","34","... ... ..."],["Sri Lanka",["asia"],"lk","94"],["Sudan",["africa"],"sd","249"],["Suriname",["america","south-america"],"sr","597"],["Swaziland",["africa"],"sz","268"],["Sweden",["europe","eu-union","baltic"],"se","46","(...) ...-..."],["Switzerland",["europe"],"ch","41",".. ... .. .."],["Syria",["middle-east"],"sy","963"],["Taiwan",["asia"],"tw","886"],["Tajikistan",["asia","ex-ussr"],"tj","992"],["Tanzania",["africa"],"tz","255"],["Thailand",["asia"],"th","66"],["Timor-Leste",["asia"],"tl","670"],["Togo",["africa"],"tg","228"],["Tonga",["oceania"],"to","676"],["Trinidad and Tobago",["america","carribean"],"tt","1868"],["Tunisia",["africa","north-africa"],"tn","216"],["Turkey",["europe"],"tr","90","... ... .. .."],["Turkmenistan",["asia","ex-ussr"],"tm","993"],["Tuvalu",["asia"],"tv","688"],["Uganda",["africa"],"ug","256"],["Ukraine",["europe","ex-ussr"],"ua","380","(..) ... .. .."],["United Arab Emirates",["middle-east"],"ae","971"],["United Kingdom",["europe","eu-union"],"gb","44",".... ......"],["United States",["america","north-america"],"us","1","(...) ...-....",0,["907","205","251","256","334","479","501","870","480","520","602","623","928","209","213","310","323","408","415","510","530","559","562","619","626","650","661","707","714","760","805","818","831","858","909","916","925","949","951","303","719","970","203","860","202","302","239","305","321","352","386","407","561","727","772","813","850","863","904","941","954","229","404","478","706","770","912","808","319","515","563","641","712","208","217","309","312","618","630","708","773","815","847","219","260","317","574","765","812","316","620","785","913","270","502","606","859","225","318","337","504","985","413","508","617","781","978","301","410","207","231","248","269","313","517","586","616","734","810","906","989","218","320","507","612","651","763","952","314","417","573","636","660","816","228","601","662","406","252","336","704","828","910","919","701","308","402","603","201","609","732","856","908","973","505","575","702","775","212","315","516","518","585","607","631","716","718","845","914","216","330","419","440","513","614","740","937","405","580","918","503","541","215","412","570","610","717","724","814","401","803","843","864","605","423","615","731","865","901","931","210","214","254","281","325","361","409","432","512","713","806","817","830","903","915","936","940","956","972","979","435","801","276","434","540","703","757","804","802","206","253","360","425","509","262","414","608","715","920","304","307"]],["Uruguay",["america","south-america"],"uy","598"],["Uzbekistan",["asia","ex-ussr"],"uz","998",".. ... .. .."],["Vanuatu",["oceania"],"vu","678"],["Vatican City",["europe"],"va","39",".. .... ....",1],["Venezuela",["america","south-america"],"ve","58"],["Vietnam",["asia"],"vn","84"],["Yemen",["middle-east"],"ye","967"],["Zambia",["africa"],"zm","260"],["Zimbabwe",["africa"],"zw","263"]],j=[["American Samoa",["oceania"],"as","1684"],["Anguilla",["america","carribean"],"ai","1264"],["Bermuda",["america","north-america"],"bm","1441"],["British Virgin Islands",["america","carribean"],"vg","1284"],["Cayman Islands",["america","carribean"],"ky","1345"],["Cook Islands",["oceania"],"ck","682"],["Falkland Islands",["america","south-america"],"fk","500"],["Faroe Islands",["europe"],"fo","298"],["Gibraltar",["europe"],"gi","350"],["Greenland",["america"],"gl","299"],["Jersey",["europe","eu-union"],"je","44",".... ......"],["Montserrat",["america","carribean"],"ms","1664"],["Niue",["asia"],"nu","683"],["Norfolk Island",["oceania"],"nf","672"],["Northern Mariana Islands",["oceania"],"mp","1670"],["Saint Barth\xe9lemy",["america","carribean"],"bl","590","",1],["Saint Helena",["africa"],"sh","290"],["Saint Martin",["america","carribean"],"mf","590","",2],["Saint Pierre and Miquelon",["america","north-america"],"pm","508"],["Sint Maarten",["america","carribean"],"sx","1721"],["Tokelau",["oceania"],"tk","690"],["Turks and Caicos Islands",["america","carribean"],"tc","1649"],["U.S. Virgin Islands",["america","carribean"],"vi","1340"],["Wallis and Futuna",["oceania"],"wf","681"]];function I(e,t,n,r,i){return!n||i?e+"".padEnd(t.length,".")+" "+r:e+"".padEnd(t.length,".")+" "+n}function A(e,t,n,i,o){var a,l,c=[];return l=!0===t,[(a=[]).concat.apply(a,s(e.map((function(e){var s={name:e[0],regions:e[1],iso2:e[2],countryCode:e[3],dialCode:e[3],format:I(n,e[3],e[4],i,o),priority:e[5]||0},a=[];return e[6]&&e[6].map((function(t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}({},s);n.dialCode=e[3]+t,n.isAreaCode=!0,n.areaCodeLength=t.length,a.push(n)})),a.length>0?(s.mainCode=!0,l||"Array"===t.constructor.name&&t.includes(e[2])?(s.hasAreaCodes=!0,[s].concat(a)):(c=c.concat(a),[s])):[s]})))),c]}function O(e,t,n,r){if(null!==n){var i=Object.keys(n),s=Object.values(n);i.forEach((function(n,i){if(r)return e.push([n,s[i]]);var o=e.findIndex((function(e){return e[0]===n}));if(-1===o){var a=[n];a[t]=s[i],e.push(a)}else e[o][t]=s[i]}))}}function P(e,t){return 0===t.length?e:e.map((function(e){var n=t.findIndex((function(t){return t[0]===e[2]}));if(-1===n)return e;var r=t[n];return r[1]&&(e[4]=r[1]),r[3]&&(e[5]=r[3]),r[2]&&(e[6]=r[2]),e}))}var D=function e(t,n,r,i,o,a,c,u,d,h,f,p,m,g){l(this,e),this.filterRegions=function(e,t){if("string"==typeof e){var n=e;return t.filter((function(e){return e.regions.some((function(e){return e===n}))}))}return t.filter((function(t){return e.map((function(e){return t.regions.some((function(t){return t===e}))})).some((function(e){return e}))}))},this.sortTerritories=function(e,t){var n=[].concat(s(e),s(t));return n.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})),n},this.getFilteredCountryList=function(e,t,n){return 0===e.length?t:n?e.map((function(e){var n=t.find((function(t){return t.iso2===e}));if(n)return n})).filter((function(e){return e})):t.filter((function(t){return e.some((function(e){return e===t.iso2}))}))},this.localizeCountries=function(e,t,n){for(var r=0;r<e.length;r++)void 0!==t[e[r].iso2]?e[r].localName=t[e[r].iso2]:void 0!==t[e[r].name]&&(e[r].localName=t[e[r].name]);return n||e.sort((function(e,t){return e.localName<t.localName?-1:e.localName>t.localName?1:0})),e},this.getCustomAreas=function(e,t){for(var n=[],r=0;r<t.length;r++){var i=JSON.parse(JSON.stringify(e));i.dialCode+=t[r],n.push(i)}return n},this.excludeCountries=function(e,t){return 0===t.length?e:e.filter((function(e){return!t.includes(e.iso2)}))};var v=function(e,t,n){var r=[];return O(r,1,e,!0),O(r,3,t),O(r,2,n),r}(u,d,h),y=P(JSON.parse(JSON.stringify(T)),v),b=P(JSON.parse(JSON.stringify(j)),v),w=N(A(y,t,p,m,g),2),x=w[0],_=w[1];if(n){var C=N(A(b,t,p,m,g),2),k=C[0];C[1],x=this.sortTerritories(k,x)}r&&(x=this.filterRegions(r,x)),this.onlyCountries=this.localizeCountries(this.excludeCountries(this.getFilteredCountryList(i,x,c.includes("onlyCountries")),a),f,c.includes("onlyCountries")),this.preferredCountries=0===o.length?[]:this.localizeCountries(this.getFilteredCountryList(o,x,c.includes("preferredCountries")),f,c.includes("preferredCountries")),this.hiddenAreaCodes=this.excludeCountries(this.getFilteredCountryList(i,_),a)},M=function(e){function t(e){var n;l(this,t),(n=function(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?h(e):t}(this,f(t).call(this,e))).getProbableCandidate=w()((function(e){return e&&0!==e.length?n.state.onlyCountries.filter((function(t){return k()(t.name.toLowerCase(),e.toLowerCase())}),h(h(n)))[0]:null})),n.guessSelectedCountry=w()((function(e,t,r,i){var s;if(!1===n.props.enableAreaCodes&&(i.some((function(t){if(k()(e,t.dialCode))return r.some((function(e){if(t.iso2===e.iso2&&e.mainCode)return s=e,!0})),!0})),s))return s;var o=r.find((function(e){return e.iso2==t}));if(""===e.trim())return o;var a=r.reduce((function(t,n){if(k()(e,n.dialCode)){if(n.dialCode.length>t.dialCode.length)return n;if(n.dialCode.length===t.dialCode.length&&n.priority<t.priority)return n}return t}),{dialCode:"",priority:10001},h(h(n)));return a.name?a:o})),n.updateCountry=function(e){var t,r=n.state.onlyCountries;(t=e.indexOf(0)>="0"&&e.indexOf(0)<="9"?r.find((function(t){return t.dialCode==+e})):r.find((function(t){return t.iso2==e})))&&t.dialCode&&n.setState({selectedCountry:t,formattedNumber:n.props.disableCountryCode?"":n.formatNumber(t.dialCode,t)})},n.scrollTo=function(e,t){if(e){var r=n.dropdownRef;if(r&&document.body){var i=r.offsetHeight,s=r.getBoundingClientRect().top+document.body.scrollTop,o=s+i,a=e,l=a.getBoundingClientRect(),c=a.offsetHeight,u=l.top+document.body.scrollTop,d=u+c,h=u-s+r.scrollTop,f=i/2-c/2;if(n.props.enableSearch?u<s+32:u<s)t&&(h-=f),r.scrollTop=h;else if(d>o){t&&(h+=f);var p=i-c;r.scrollTop=h-p}}}},n.scrollToTop=function(){var e=n.dropdownRef;e&&document.body&&(e.scrollTop=0)},n.formatNumber=function(e,t){if(!t)return e;var r,s=t.format,l=n.props,c=l.disableCountryCode,u=l.enableAreaCodeStretch,d=l.enableLongNumbers,h=l.autoFormat;if(c?((r=s.split(" ")).shift(),r=r.join(" ")):u&&t.isAreaCode?((r=s.split(" "))[1]=r[1].replace(/\.+/,"".padEnd(t.areaCodeLength,".")),r=r.join(" ")):r=s,!e||0===e.length)return c?"":n.props.prefix;if(e&&e.length<2||!r||!h)return c?e:n.props.prefix+e;var f,p=_()(r,(function(e,t){if(0===e.remainingText.length)return e;if("."!==t)return{formattedText:e.formattedText+t,remainingText:e.remainingText};var n,r=o(n=e.remainingText)||i(n)||a(),s=r[0],l=r.slice(1);return{formattedText:e.formattedText+s,remainingText:l}}),{formattedText:"",remainingText:e.split("")});return(f=d?p.formattedText+p.remainingText.join(""):p.formattedText).includes("(")&&!f.includes(")")&&(f+=")"),f},n.cursorToEnd=function(){var e=n.numberInputRef;if(document.activeElement===e){e.focus();var t=e.value.length;")"===e.value.charAt(t-1)&&(t-=1),e.setSelectionRange(t,t)}},n.getElement=function(e){return n["flag_no_".concat(e)]},n.getCountryData=function(){return n.state.selectedCountry?{name:n.state.selectedCountry.name||"",dialCode:n.state.selectedCountry.dialCode||"",countryCode:n.state.selectedCountry.iso2||"",format:n.state.selectedCountry.format||""}:{}},n.handleFlagDropdownClick=function(e){if(e.preventDefault(),n.state.showDropdown||!n.props.disabled){var t=n.state,r=t.preferredCountries,i=t.onlyCountries,s=t.selectedCountry,o=n.concatPreferredCountries(r,i).findIndex((function(e){return e.dialCode===s.dialCode&&e.iso2===s.iso2}));n.setState({showDropdown:!n.state.showDropdown,highlightCountryIndex:o},(function(){n.state.showDropdown&&n.scrollTo(n.getElement(n.state.highlightCountryIndex))}))}},n.handleInput=function(e){var t=e.target.value,r=n.props,i=r.prefix,s=r.onChange,o=n.props.disableCountryCode?"":i,a=n.state.selectedCountry,l=n.state.freezeSelection;if(!n.props.countryCodeEditable){var c=i+(a.hasAreaCodes?n.state.onlyCountries.find((function(e){return e.iso2===a.iso2&&e.mainCode})).dialCode:a.dialCode);if(t.slice(0,c.length)!==c)return}if(t===i)return s&&s("",n.getCountryData(),e,""),n.setState({formattedNumber:""});if(t.replace(/\D/g,"").length>15){if(!1===n.props.enableLongNumbers)return;if("number"==typeof n.props.enableLongNumbers&&t.replace(/\D/g,"").length>n.props.enableLongNumbers)return}if(t!==n.state.formattedNumber){e.preventDefault?e.preventDefault():e.returnValue=!1;var u=n.props.country,d=n.state,h=d.onlyCountries,f=d.selectedCountry,p=d.hiddenAreaCodes;if(s&&e.persist(),t.length>0){var m=t.replace(/\D/g,"");(!n.state.freezeSelection||f&&f.dialCode.length>m.length)&&(a=n.props.disableCountryGuess?f:n.guessSelectedCountry(m.substring(0,6),u,h,p)||f,l=!1),o=n.formatNumber(m,a),a=a.dialCode?a:f}var g=e.target.selectionStart,v=e.target.selectionStart,y=n.state.formattedNumber,b=o.length-y.length;n.setState({formattedNumber:o,freezeSelection:l,selectedCountry:a},(function(){b>0&&(v-=b),")"==o.charAt(o.length-1)?n.numberInputRef.setSelectionRange(o.length-1,o.length-1):v>0&&y.length>=o.length?n.numberInputRef.setSelectionRange(v,v):g<y.length&&n.numberInputRef.setSelectionRange(g,g),s&&s(o.replace(/[^0-9]+/g,""),n.getCountryData(),e,o)}))}},n.handleInputClick=function(e){n.setState({showDropdown:!1}),n.props.onClick&&n.props.onClick(e,n.getCountryData())},n.handleDoubleClick=function(e){var t=e.target.value.length;e.target.setSelectionRange(0,t)},n.handleFlagItemClick=function(e,t){var r=n.state.selectedCountry,i=n.state.onlyCountries.find((function(t){return t==e}));if(i){var s=n.state.formattedNumber.replace(" ","").replace("(","").replace(")","").replace("-",""),o=s.length>1?s.replace(r.dialCode,i.dialCode):i.dialCode,a=n.formatNumber(o.replace(/\D/g,""),i);n.setState({showDropdown:!1,selectedCountry:i,freezeSelection:!0,formattedNumber:a,searchValue:""},(function(){n.cursorToEnd(),n.props.onChange&&n.props.onChange(a.replace(/[^0-9]+/g,""),n.getCountryData(),t,a)}))}},n.handleInputFocus=function(e){n.numberInputRef&&n.numberInputRef.value===n.props.prefix&&n.state.selectedCountry&&!n.props.disableCountryCode&&n.setState({formattedNumber:n.props.prefix+n.state.selectedCountry.dialCode},(function(){n.props.jumpCursorToEnd&&setTimeout(n.cursorToEnd,0)})),n.setState({placeholder:""}),n.props.onFocus&&n.props.onFocus(e,n.getCountryData()),n.props.jumpCursorToEnd&&setTimeout(n.cursorToEnd,0)},n.handleInputBlur=function(e){e.target.value||n.setState({placeholder:n.props.placeholder}),n.props.onBlur&&n.props.onBlur(e,n.getCountryData())},n.handleInputCopy=function(e){if(n.props.copyNumbersOnly){var t=window.getSelection().toString().replace(/[^0-9]+/g,"");e.clipboardData.setData("text/plain",t),e.preventDefault()}},n.getHighlightCountryIndex=function(e){var t=n.state.highlightCountryIndex+e;return t<0||t>=n.state.onlyCountries.length+n.state.preferredCountries.length?t-e:n.props.enableSearch&&t>n.getSearchFilteredCountries().length?0:t},n.searchCountry=function(){var e=n.getProbableCandidate(n.state.queryString)||n.state.onlyCountries[0],t=n.state.onlyCountries.findIndex((function(t){return t==e}))+n.state.preferredCountries.length;n.scrollTo(n.getElement(t),!0),n.setState({queryString:"",highlightCountryIndex:t})},n.handleKeydown=function(e){var t=n.props.keys,r=e.target.className;if(r.includes("selected-flag")&&e.which===t.ENTER&&!n.state.showDropdown)return n.handleFlagDropdownClick(e);if(r.includes("form-control")&&(e.which===t.ENTER||e.which===t.ESC))return e.target.blur();if(n.state.showDropdown&&!n.props.disabled&&(!r.includes("search-box")||e.which===t.UP||e.which===t.DOWN||e.which===t.ENTER||e.which===t.ESC&&""===e.target.value)){e.preventDefault?e.preventDefault():e.returnValue=!1;var i=function(e){n.setState({highlightCountryIndex:n.getHighlightCountryIndex(e)},(function(){n.scrollTo(n.getElement(n.state.highlightCountryIndex),!0)}))};switch(e.which){case t.DOWN:i(1);break;case t.UP:i(-1);break;case t.ENTER:n.props.enableSearch?n.handleFlagItemClick(n.getSearchFilteredCountries()[n.state.highlightCountryIndex]||n.getSearchFilteredCountries()[0],e):n.handleFlagItemClick([].concat(s(n.state.preferredCountries),s(n.state.onlyCountries))[n.state.highlightCountryIndex],e);break;case t.ESC:case t.TAB:n.setState({showDropdown:!1},n.cursorToEnd);break;default:(e.which>=t.A&&e.which<=t.Z||e.which===t.SPACE)&&n.setState({queryString:n.state.queryString+String.fromCharCode(e.which)},n.state.debouncedQueryStingSearcher)}}},n.handleInputKeyDown=function(e){var t=n.props,r=t.keys,i=t.onEnterKeyPress,s=t.onKeyDown;e.which===r.ENTER&&i&&i(e),s&&s(e)},n.handleClickOutside=function(e){n.dropdownRef&&!n.dropdownContainerRef.contains(e.target)&&n.state.showDropdown&&n.setState({showDropdown:!1})},n.handleSearchChange=function(e){var t=e.currentTarget.value,r=n.state,i=r.preferredCountries,s=r.selectedCountry,o=0;if(""===t&&s){var a=n.state.onlyCountries;o=n.concatPreferredCountries(i,a).findIndex((function(e){return e==s})),setTimeout((function(){return n.scrollTo(n.getElement(o))}),100)}n.setState({searchValue:t,highlightCountryIndex:o})},n.concatPreferredCountries=function(e,t){return e.length>0?s(new Set(e.concat(t))):t},n.getDropdownCountryName=function(e){return e.localName||e.name},n.getSearchFilteredCountries=function(){var e=n.state,t=e.preferredCountries,r=e.onlyCountries,i=e.searchValue,o=n.props.enableSearch,a=n.concatPreferredCountries(t,r),l=i.trim().toLowerCase().replace("+","");if(o&&l){if(/^\d+$/.test(l))return a.filter((function(e){var t=e.dialCode;return["".concat(t)].some((function(e){return e.toLowerCase().includes(l)}))}));var c=a.filter((function(e){var t=e.iso2;return["".concat(t)].some((function(e){return e.toLowerCase().includes(l)}))})),u=a.filter((function(e){var t=e.name,n=e.localName;return e.iso2,["".concat(t),"".concat(n||"")].some((function(e){return e.toLowerCase().includes(l)}))}));return n.scrollToTop(),s(new Set([].concat(c,u)))}return a},n.getCountryDropdownList=function(){var e=n.state,t=e.preferredCountries,i=e.highlightCountryIndex,s=e.showDropdown,o=e.searchValue,a=n.props,l=a.disableDropdown,c=a.prefix,u=n.props,d=u.enableSearch,h=u.searchNotFound,f=u.disableSearchIcon,p=u.searchClass,m=u.searchStyle,v=u.searchPlaceholder,y=u.autocompleteSearch,b=n.getSearchFilteredCountries().map((function(e,t){var r=i===t,s=S()({country:!0,preferred:"us"===e.iso2||"gb"===e.iso2,active:"us"===e.iso2,highlight:r}),o="flag ".concat(e.iso2);return g.a.createElement("li",Object.assign({ref:function(e){return n["flag_no_".concat(t)]=e},key:"flag_no_".concat(t),"data-flag-key":"flag_no_".concat(t),className:s,"data-dial-code":"1",tabIndex:l?"-1":"0","data-country-code":e.iso2,onClick:function(t){return n.handleFlagItemClick(e,t)},role:"option"},r?{"aria-selected":!0}:{}),g.a.createElement("div",{className:o}),g.a.createElement("span",{className:"country-name"},n.getDropdownCountryName(e)),g.a.createElement("span",{className:"dial-code"},e.format?n.formatNumber(e.dialCode,e):c+e.dialCode))})),w=g.a.createElement("li",{key:"dashes",className:"divider"});t.length>0&&(!d||d&&!o.trim())&&b.splice(t.length,0,w);var x=S()(r({"country-list":!0,hide:!s},n.props.dropdownClass,!0));return g.a.createElement("ul",{ref:function(e){return!d&&e&&e.focus(),n.dropdownRef=e},className:x,style:n.props.dropdownStyle,role:"listbox",tabIndex:"0"},d&&g.a.createElement("li",{className:S()(r({search:!0},p,p))},!f&&g.a.createElement("span",{className:S()(r({"search-emoji":!0},"".concat(p,"-emoji"),p)),role:"img","aria-label":"Magnifying glass"},"\ud83d\udd0e"),g.a.createElement("input",{className:S()(r({"search-box":!0},"".concat(p,"-box"),p)),style:m,type:"search",placeholder:v,autoFocus:!0,autoComplete:y?"on":"off",value:o,onChange:n.handleSearchChange})),b.length>0?b:g.a.createElement("li",{className:"no-entries-message"},g.a.createElement("span",null,h)))};var c,u=new D(e.enableAreaCodes,e.enableTerritories,e.regions,e.onlyCountries,e.preferredCountries,e.excludeCountries,e.preserveOrder,e.masks,e.priority,e.areaCodes,e.localization,e.prefix,e.defaultMask,e.alwaysDefaultMask),p=u.onlyCountries,m=u.preferredCountries,v=u.hiddenAreaCodes,b=e.value?e.value.replace(/\D/g,""):"";c=e.disableInitialCountryGuess?0:b.length>1?n.guessSelectedCountry(b.substring(0,6),e.country,p,v)||0:e.country&&p.find((function(t){return t.iso2==e.country}))||0;var x,C=b.length<2&&c&&!k()(b,c.dialCode)?c.dialCode:"";x=""===b&&0===c?"":n.formatNumber((e.disableCountryCode?"":C)+b,c.name?c:void 0);var E=p.findIndex((function(e){return e==c}));return n.state={showDropdown:e.showDropdown,formattedNumber:x,onlyCountries:p,preferredCountries:m,hiddenAreaCodes:v,selectedCountry:c,highlightCountryIndex:E,queryString:"",freezeSelection:!1,debouncedQueryStingSearcher:y()(n.searchCountry,250),searchValue:""},n}var n,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(u=[{key:"componentDidMount",value:function(){document.addEventListener&&this.props.enableClickOutside&&document.addEventListener("mousedown",this.handleClickOutside),this.props.onMount&&this.props.onMount(this.state.formattedNumber.replace(/[^0-9]+/g,""),this.getCountryData(),this.state.formattedNumber)}},{key:"componentWillUnmount",value:function(){document.removeEventListener&&this.props.enableClickOutside&&document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"componentDidUpdate",value:function(e,t,n){e.country!==this.props.country?this.updateCountry(this.props.country):e.value!==this.props.value&&this.updateFormattedNumber(this.props.value)}},{key:"updateFormattedNumber",value:function(e){if(null===e)return this.setState({selectedCountry:0,formattedNumber:""});var t=this.state,n=t.onlyCountries,r=t.selectedCountry,i=t.hiddenAreaCodes,s=this.props,o=s.country,a=s.prefix;if(""===e)return this.setState({selectedCountry:r,formattedNumber:""});var l,c,u=e.replace(/\D/g,"");if(r&&k()(e,a+r.dialCode))c=this.formatNumber(u,r),this.setState({formattedNumber:c});else{var d=(l=this.props.disableCountryGuess?r:this.guessSelectedCountry(u.substring(0,6),o,n,i)||r)&&k()(u,a+l.dialCode)?l.dialCode:"";c=this.formatNumber((this.props.disableCountryCode?"":d)+u,l||void 0),this.setState({selectedCountry:l,formattedNumber:c})}}},{key:"render",value:function(){var e,t,n,i=this,s=this.state,o=s.onlyCountries,a=s.selectedCountry,l=s.showDropdown,c=s.formattedNumber,u=s.hiddenAreaCodes,d=this.props,h=d.disableDropdown,f=d.renderStringAsFlag,p=d.isValid,m=d.defaultErrorMessage,v=d.specialLabel;if("boolean"==typeof p)t=p;else{var y=p(c.replace(/\D/g,""),a,o,u);"boolean"==typeof y?!1===(t=y)&&(n=m):(t=!1,n=y)}var b=S()((r(e={},this.props.containerClass,!0),r(e,"react-tel-input",!0),e)),w=S()({arrow:!0,up:l}),x=S()(r({"form-control":!0,"invalid-number":!t,open:l},this.props.inputClass,!0)),_=S()({"selected-flag":!0,open:l}),C=S()(r({"flag-dropdown":!0,"invalid-number":!t,open:l},this.props.buttonClass,!0)),k="flag ".concat(a&&a.iso2);return g.a.createElement("div",{className:"".concat(b," ").concat(this.props.className),style:this.props.style||this.props.containerStyle,onKeyDown:this.handleKeydown},v&&g.a.createElement("div",{className:"special-label"},v),n&&g.a.createElement("div",{className:"invalid-number-message"},n),g.a.createElement("input",Object.assign({className:x,style:this.props.inputStyle,onChange:this.handleInput,onClick:this.handleInputClick,onDoubleClick:this.handleDoubleClick,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onCopy:this.handleInputCopy,value:c,onKeyDown:this.handleInputKeyDown,placeholder:this.props.placeholder,disabled:this.props.disabled,type:"tel"},this.props.inputProps,{ref:function(e){i.numberInputRef=e,"function"==typeof i.props.inputProps.ref?i.props.inputProps.ref(e):"object"==typeof i.props.inputProps.ref&&(i.props.inputProps.ref.current=e)}})),g.a.createElement("div",{className:C,style:this.props.buttonStyle,ref:function(e){return i.dropdownContainerRef=e}},f?g.a.createElement("div",{className:_},f):g.a.createElement("div",{onClick:h?void 0:this.handleFlagDropdownClick,className:_,title:a?"".concat(a.localName||a.name,": + ").concat(a.dialCode):"",tabIndex:h?"-1":"0",role:"button","aria-haspopup":"listbox","aria-expanded":!!l||void 0},g.a.createElement("div",{className:k},!h&&g.a.createElement("div",{className:w}))),l&&this.getCountryDropdownList()))}}])&&c(n.prototype,u),t}(g.a.Component);M.defaultProps={country:"",value:"",onlyCountries:[],preferredCountries:[],excludeCountries:[],placeholder:"1 (702) 123-4567",searchPlaceholder:"search",searchNotFound:"No entries to show",flagsImagePath:"./flags.png",disabled:!1,containerStyle:{},inputStyle:{},buttonStyle:{},dropdownStyle:{},searchStyle:{},containerClass:"",inputClass:"",buttonClass:"",dropdownClass:"",searchClass:"",className:"",autoFormat:!0,enableAreaCodes:!1,enableTerritories:!1,disableCountryCode:!1,disableDropdown:!1,enableLongNumbers:!1,countryCodeEditable:!0,enableSearch:!1,disableSearchIcon:!1,disableInitialCountryGuess:!1,disableCountryGuess:!1,regions:"",inputProps:{},localization:{},masks:null,priority:null,areaCodes:null,preserveOrder:[],defaultMask:"... ... ... ... ..",alwaysDefaultMask:!1,prefix:"+",copyNumbersOnly:!0,renderStringAsFlag:"",autocompleteSearch:!1,jumpCursorToEnd:!0,enableAreaCodeStretch:!1,enableClickOutside:!0,showDropdown:!1,isValid:!0,defaultErrorMessage:"",specialLabel:"Phone",onEnterKeyPress:null,keys:{UP:38,DOWN:40,RIGHT:39,LEFT:37,ENTER:13,ESC:27,PLUS:43,A:65,Z:90,SPACE:32,TAB:9}},t.default=M}])},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,C={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!k.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:C.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function j(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+T(l,0):s,x(o)?(i="",null!=e&&(i=e.replace(N,"$&/")+"/"),j(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(N,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+T(a=e[c],c);l+=j(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=j(a=a.value,t,i,u=s+T(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],i=0;return j(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},P={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:P,ReactCurrentOwner:C};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=C.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,P(_);else{var t=r(u);null!==t&&D(x,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,y(S),S=-1),p=!0;var s=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!j());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var a=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(x,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,k=!1,E=null,S=-1,N=5,T=-1;function j(){return!(t.unstable_now()-T<N)}function I(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?C():(k=!1,E=null)}}else k=!1}if("function"===typeof b)C=function(){b(I)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,O=A.port2;A.port1.onmessage=I,C=function(){O.postMessage(null)}}else C=function(){v(I,0)};function P(e){E=e,k||(k=!0,C())}function D(e,n){S=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(S),S=-1):g=!0,D(x,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,P(_))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},64:function(e){e.exports=function(){"use strict";function e(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(t,n){return t.get(e(t,n))}function r(e,n,r){t(e,n),n.set(e,r)}function i(t,n,r){return t.set(e(t,n),r),r}const s=100,o={},a=()=>{o.previousActiveElement instanceof HTMLElement?(o.previousActiveElement.focus(),o.previousActiveElement=null):document.body&&document.body.focus()},l=e=>new Promise((t=>{if(!e)return t();const n=window.scrollX,r=window.scrollY;o.restoreFocusTimeout=setTimeout((()=>{a(),t()}),s),window.scrollTo(n,r)})),c="swal2-",u=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce(((e,t)=>(e[t]=c+t,e)),{}),d=["success","warning","info","question","error"].reduce(((e,t)=>(e[t]=c+t,e)),{}),h="SweetAlert2:",f=e=>e.charAt(0).toUpperCase()+e.slice(1),p=e=>{console.warn(`${h} ${"object"===typeof e?e.join(" "):e}`)},m=e=>{console.error(`${h} ${e}`)},g=[],v=e=>{g.includes(e)||(g.push(e),p(e))},y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;v(`"${e}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},b=e=>"function"===typeof e?e():e,w=e=>e&&"function"===typeof e.toPromise,x=e=>w(e)?e.toPromise():Promise.resolve(e),_=e=>e&&Promise.resolve(e)===e,C=()=>document.body.querySelector(`.${u.container}`),k=e=>{const t=C();return t?t.querySelector(e):null},E=e=>k(`.${e}`),S=()=>E(u.popup),N=()=>E(u.icon),T=()=>E(u["icon-content"]),j=()=>E(u.title),I=()=>E(u["html-container"]),A=()=>E(u.image),O=()=>E(u["progress-steps"]),P=()=>E(u["validation-message"]),D=()=>k(`.${u.actions} .${u.confirm}`),M=()=>k(`.${u.actions} .${u.cancel}`),R=()=>k(`.${u.actions} .${u.deny}`),L=()=>E(u["input-label"]),F=()=>k(`.${u.loader}`),z=()=>E(u.actions),U=()=>E(u.footer),V=()=>E(u["timer-progress-bar"]),B=()=>E(u.close),$='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',H=()=>{const e=S();if(!e)return[];const t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(t).sort(((e,t)=>{const n=parseInt(e.getAttribute("tabindex")||"0"),r=parseInt(t.getAttribute("tabindex")||"0");return n>r?1:n<r?-1:0})),r=e.querySelectorAll($),i=Array.from(r).filter((e=>"-1"!==e.getAttribute("tabindex")));return[...new Set(n.concat(i))].filter((e=>ue(e)))},q=()=>Y(document.body,u.shown)&&!Y(document.body,u["toast-shown"])&&!Y(document.body,u["no-backdrop"]),W=()=>{const e=S();return!!e&&Y(e,u.toast)},G=()=>{const e=S();return!!e&&e.hasAttribute("data-loading")},K=(e,t)=>{if(e.textContent="",t){const n=(new DOMParser).parseFromString(t,"text/html"),r=n.querySelector("head");r&&Array.from(r.childNodes).forEach((t=>{e.appendChild(t)}));const i=n.querySelector("body");i&&Array.from(i.childNodes).forEach((t=>{t instanceof HTMLVideoElement||t instanceof HTMLAudioElement?e.appendChild(t.cloneNode(!0)):e.appendChild(t)}))}},Y=(e,t)=>{if(!t)return!1;const n=t.split(/\s+/);for(let r=0;r<n.length;r++)if(!e.classList.contains(n[r]))return!1;return!0},Q=(e,t)=>{Array.from(e.classList).forEach((n=>{Object.values(u).includes(n)||Object.values(d).includes(n)||Object.values(t.showClass||{}).includes(n)||e.classList.remove(n)}))},X=(e,t,n)=>{if(Q(e,t),!t.customClass)return;const r=t.customClass[n];r&&("string"===typeof r||r.forEach?te(e,r):p(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`))},J=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(`.${u.popup} > .${u[t]}`);case"checkbox":return e.querySelector(`.${u.popup} > .${u.checkbox} input`);case"radio":return e.querySelector(`.${u.popup} > .${u.radio} input:checked`)||e.querySelector(`.${u.popup} > .${u.radio} input:first-child`);case"range":return e.querySelector(`.${u.popup} > .${u.range} input`);default:return e.querySelector(`.${u.popup} > .${u.input}`)}},Z=e=>{if(e.focus(),"file"!==e.type){const t=e.value;e.value="",e.value=t}},ee=(e,t,n)=>{e&&t&&("string"===typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((t=>{Array.isArray(e)?e.forEach((e=>{n?e.classList.add(t):e.classList.remove(t)})):n?e.classList.add(t):e.classList.remove(t)})))},te=(e,t)=>{ee(e,t,!0)},ne=(e,t)=>{ee(e,t,!1)},re=(e,t)=>{const n=Array.from(e.children);for(let r=0;r<n.length;r++){const e=n[r];if(e instanceof HTMLElement&&Y(e,t))return e}},ie=(e,t,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||0===parseInt(n)?e.style.setProperty(t,"number"===typeof n?`${n}px`:n):e.style.removeProperty(t)},se=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e&&(e.style.display=t)},oe=e=>{e&&(e.style.display="none")},ae=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";e&&new MutationObserver((()=>{ce(e,e.innerHTML,t)})).observe(e,{childList:!0,subtree:!0})},le=(e,t,n,r)=>{const i=e.querySelector(t);i&&i.style.setProperty(n,r)},ce=function(e,t){t?se(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):oe(e)},ue=e=>!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),de=()=>!ue(D())&&!ue(R())&&!ue(M()),he=e=>!!(e.scrollHeight>e.clientHeight),fe=e=>{const t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),r=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||r>0},pe=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=V();n&&ue(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout((()=>{n.style.transition=`width ${e/1e3}s linear`,n.style.width="0%"}),10))},me=()=>{const e=V();if(!e)return;const t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const n=t/parseInt(window.getComputedStyle(e).width)*100;e.style.width=`${n}%`},ge=()=>"undefined"===typeof window||"undefined"===typeof document,ve=`\n <div aria-labelledby="${u.title}" aria-describedby="${u["html-container"]}" class="${u.popup}" tabindex="-1">\n   <button type="button" class="${u.close}"></button>\n   <ul class="${u["progress-steps"]}"></ul>\n   <div class="${u.icon}"></div>\n   <img class="${u.image}" />\n   <h2 class="${u.title}" id="${u.title}"></h2>\n   <div class="${u["html-container"]}" id="${u["html-container"]}"></div>\n   <input class="${u.input}" id="${u.input}" />\n   <input type="file" class="${u.file}" />\n   <div class="${u.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${u.select}" id="${u.select}"></select>\n   <div class="${u.radio}"></div>\n   <label class="${u.checkbox}">\n     <input type="checkbox" id="${u.checkbox}" />\n     <span class="${u.label}"></span>\n   </label>\n   <textarea class="${u.textarea}" id="${u.textarea}"></textarea>\n   <div class="${u["validation-message"]}" id="${u["validation-message"]}"></div>\n   <div class="${u.actions}">\n     <div class="${u.loader}"></div>\n     <button type="button" class="${u.confirm}"></button>\n     <button type="button" class="${u.deny}"></button>\n     <button type="button" class="${u.cancel}"></button>\n   </div>\n   <div class="${u.footer}"></div>\n   <div class="${u["timer-progress-bar-container"]}">\n     <div class="${u["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),ye=()=>{const e=C();return!!e&&(e.remove(),ne([document.documentElement,document.body],[u["no-backdrop"],u["toast-shown"],u["has-column"]]),!0)},be=()=>{o.currentInstance.resetValidationMessage()},we=()=>{const e=S(),t=re(e,u.input),n=re(e,u.file),r=e.querySelector(`.${u.range} input`),i=e.querySelector(`.${u.range} output`),s=re(e,u.select),o=e.querySelector(`.${u.checkbox} input`),a=re(e,u.textarea);t.oninput=be,n.onchange=be,s.onchange=be,o.onchange=be,a.oninput=be,r.oninput=()=>{be(),i.value=r.value},r.onchange=()=>{be(),i.value=r.value}},xe=e=>"string"===typeof e?document.querySelector(e):e,_e=e=>{const t=S();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},Ce=e=>{"rtl"===window.getComputedStyle(e).direction&&te(C(),u.rtl)},ke=e=>{const t=ye();if(ge())return void m("SweetAlert2 requires document to initialize");const n=document.createElement("div");n.className=u.container,t&&te(n,u["no-transition"]),K(n,ve);const r=xe(e.target);r.appendChild(n),_e(e),Ce(r),we()},Ee=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):"object"===typeof e?Se(e,t):e&&K(t,e)},Se=(e,t)=>{e.jquery?Ne(t,e):K(t,e.toString())},Ne=(e,t)=>{if(e.textContent="",0 in t)for(let n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},Te=(()=>{if(ge())return!1;const e=document.createElement("div");return"undefined"!==typeof e.style.webkitAnimation?"webkitAnimationEnd":"undefined"!==typeof e.style.animation&&"animationend"})(),je=(e,t)=>{const n=z(),r=F();n&&r&&(t.showConfirmButton||t.showDenyButton||t.showCancelButton?se(n):oe(n),X(n,t,"actions"),Ie(n,r,t),K(r,t.loaderHtml||""),X(r,t,"loader"))};function Ie(e,t,n){const r=D(),i=R(),s=M();r&&i&&s&&(Oe(r,"confirm",n),Oe(i,"deny",n),Oe(s,"cancel",n),Ae(r,i,s,n),n.reverseButtons&&(n.toast?(e.insertBefore(s,r),e.insertBefore(i,r)):(e.insertBefore(s,t),e.insertBefore(i,t),e.insertBefore(r,t))))}function Ae(e,t,n,r){r.buttonsStyling?(te([e,t,n],u.styled),r.confirmButtonColor&&(e.style.backgroundColor=r.confirmButtonColor,te(e,u["default-outline"])),r.denyButtonColor&&(t.style.backgroundColor=r.denyButtonColor,te(t,u["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,te(n,u["default-outline"]))):ne([e,t,n],u.styled)}function Oe(e,t,n){const r=f(t);ce(e,n[`show${r}Button`],"inline-block"),K(e,n[`${t}ButtonText`]||""),e.setAttribute("aria-label",n[`${t}ButtonAriaLabel`]||""),e.className=u[t],X(e,n,`${t}Button`)}const Pe=(e,t)=>{const n=B();n&&(K(n,t.closeButtonHtml||""),X(n,t,"closeButton"),ce(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel||""))},De=(e,t)=>{const n=C();n&&(Me(n,t.backdrop),Re(n,t.position),Le(n,t.grow),X(n,t,"container"))};function Me(e,t){"string"===typeof t?e.style.background=t:t||te([document.documentElement,document.body],u["no-backdrop"])}function Re(e,t){t&&(t in u?te(e,u[t]):(p('The "position" parameter is not valid, defaulting to "center"'),te(e,u.center)))}function Le(e,t){t&&te(e,u[`grow-${t}`])}var Fe={innerParams:new WeakMap,domCache:new WeakMap};const ze=["input","file","range","select","radio","checkbox","textarea"],Ue=(e,t)=>{const n=S();if(!n)return;const r=Fe.innerParams.get(e),i=!r||t.input!==r.input;ze.forEach((e=>{const r=re(n,u[e]);r&&($e(e,t.inputAttributes),r.className=u[e],i&&oe(r))})),t.input&&(i&&Ve(t),He(t))},Ve=e=>{if(!e.input)return;if(!Ye[e.input])return void m(`Unexpected type of input! Expected ${Object.keys(Ye).join(" | ")}, got "${e.input}"`);const t=Ge(e.input);if(!t)return;const n=Ye[e.input](t,e);se(t),e.inputAutoFocus&&setTimeout((()=>{Z(n)}))},Be=e=>{for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;["id","type","value","style"].includes(n)||e.removeAttribute(n)}},$e=(e,t)=>{const n=S();if(!n)return;const r=J(n,e);if(r){Be(r);for(const e in t)r.setAttribute(e,t[e])}},He=e=>{if(!e.input)return;const t=Ge(e.input);t&&X(t,e,"input")},qe=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},We=(e,t,n)=>{if(n.inputLabel){const r=document.createElement("label"),i=u["input-label"];r.setAttribute("for",e.id),r.className=i,"object"===typeof n.customClass&&te(r,n.customClass.inputLabel),r.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",r)}},Ge=e=>{const t=S();if(t)return re(t,u[e]||u.input)},Ke=(e,t)=>{["string","number"].includes(typeof t)?e.value=`${t}`:_(t)||p(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},Ye={};Ye.text=Ye.email=Ye.password=Ye.number=Ye.tel=Ye.url=Ye.search=Ye.date=Ye["datetime-local"]=Ye.time=Ye.week=Ye.month=(e,t)=>(Ke(e,t.inputValue),We(e,e,t),qe(e,t),e.type=t.input,e),Ye.file=(e,t)=>(We(e,e,t),qe(e,t),e),Ye.range=(e,t)=>{const n=e.querySelector("input"),r=e.querySelector("output");return Ke(n,t.inputValue),n.type=t.input,Ke(r,t.inputValue),We(n,e,t),e},Ye.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const n=document.createElement("option");K(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return We(e,e,t),e},Ye.radio=e=>(e.textContent="",e),Ye.checkbox=(e,t)=>{const n=J(S(),"checkbox");n.value="1",n.checked=Boolean(t.inputValue);const r=e.querySelector("span");return K(r,t.inputPlaceholder||t.inputLabel),n},Ye.textarea=(e,t)=>{Ke(e,t.inputValue),qe(e,t),We(e,e,t);const n=e=>parseInt(window.getComputedStyle(e).marginLeft)+parseInt(window.getComputedStyle(e).marginRight);return setTimeout((()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(S()).width);new MutationObserver((()=>{if(!document.body.contains(e))return;const i=e.offsetWidth+n(e);i>r?S().style.width=`${i}px`:ie(S(),"width",t.width)})).observe(e,{attributes:!0,attributeFilter:["style"]})}})),e};const Qe=(e,t)=>{const n=I();n&&(ae(n),X(n,t,"htmlContainer"),t.html?(Ee(t.html,n),se(n,"block")):t.text?(n.textContent=t.text,se(n,"block")):oe(n),Ue(e,t))},Xe=(e,t)=>{const n=U();n&&(ae(n),ce(n,t.footer,"block"),t.footer&&Ee(t.footer,n),X(n,t,"footer"))},Je=(e,t)=>{const n=Fe.innerParams.get(e),r=N();if(r){if(n&&t.icon===n.icon)return rt(r,t),void Ze(r,t);if(t.icon||t.iconHtml){if(t.icon&&-1===Object.keys(d).indexOf(t.icon))return m(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),void oe(r);se(r),rt(r,t),Ze(r,t),te(r,t.showClass&&t.showClass.icon)}else oe(r)}},Ze=(e,t)=>{for(const[n,r]of Object.entries(d))t.icon!==n&&ne(e,r);te(e,t.icon&&d[t.icon]),it(e,t),et(),X(e,t,"icon")},et=()=>{const e=S();if(!e)return;const t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=t},tt='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',nt='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n',rt=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let n=e.innerHTML,r="";t.iconHtml?r=st(t.iconHtml):"success"===t.icon?(r=tt,n=n.replace(/ style=".*?"/g,"")):"error"===t.icon?r=nt:t.icon&&(r=st({question:"?",warning:"!",info:"i"}[t.icon])),n.trim()!==r.trim()&&K(e,r)},it=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])le(e,n,"background-color",t.iconColor);le(e,".swal2-success-ring","border-color",t.iconColor)}},st=e=>`<div class="${u["icon-content"]}">${e}</div>`,ot=(e,t)=>{const n=A();n&&(t.imageUrl?(se(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt||""),ie(n,"width",t.imageWidth),ie(n,"height",t.imageHeight),n.className=u.image,X(n,t,"image")):oe(n))},at=(e,t)=>{const n=C(),r=S();if(n&&r){if(t.toast){ie(n,"width",t.width),r.style.width="100%";const e=F();e&&r.insertBefore(e,N())}else ie(r,"width",t.width);ie(r,"padding",t.padding),t.color&&(r.style.color=t.color),t.background&&(r.style.background=t.background),oe(P()),lt(r,t)}},lt=(e,t)=>{const n=t.showClass||{};e.className=`${u.popup} ${ue(e)?n.popup:""}`,t.toast?(te([document.documentElement,document.body],u["toast-shown"]),te(e,u.toast)):te(e,u.modal),X(e,t,"popup"),"string"===typeof t.customClass&&te(e,t.customClass),t.icon&&te(e,u[`icon-${t.icon}`])},ct=(e,t)=>{const n=O();if(!n)return;const{progressSteps:r,currentProgressStep:i}=t;r&&0!==r.length&&void 0!==i?(se(n),n.textContent="",i>=r.length&&p("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach(((e,s)=>{const o=ut(e);if(n.appendChild(o),s===i&&te(o,u["active-progress-step"]),s!==r.length-1){const e=dt(t);n.appendChild(e)}}))):oe(n)},ut=e=>{const t=document.createElement("li");return te(t,u["progress-step"]),K(t,e),t},dt=e=>{const t=document.createElement("li");return te(t,u["progress-step-line"]),e.progressStepsDistance&&ie(t,"width",e.progressStepsDistance),t},ht=(e,t)=>{const n=j();n&&(ae(n),ce(n,t.title||t.titleText,"block"),t.title&&Ee(t.title,n),t.titleText&&(n.innerText=t.titleText),X(n,t,"title"))},ft=(e,t)=>{at(e,t),De(e,t),ct(e,t),Je(e,t),ot(e,t),ht(e,t),Pe(e,t),Qe(e,t),je(e,t),Xe(e,t);const n=S();"function"===typeof t.didRender&&n&&t.didRender(n),o.eventEmitter.emit("didRender",n)},pt=()=>ue(S()),mt=()=>{var e;return null===(e=D())||void 0===e?void 0:e.click()},gt=()=>{var e;return null===(e=R())||void 0===e?void 0:e.click()},vt=()=>{var e;return null===(e=M())||void 0===e?void 0:e.click()},yt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),bt=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},wt=(e,t,n)=>{bt(e),t.toast||(e.keydownHandler=e=>kt(t,e,n),e.keydownTarget=t.keydownListenerCapture?window:S(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},xt=(e,t)=>{var n;const r=H();if(r.length)return(e+=t)===r.length?e=0:-1===e&&(e=r.length-1),void r[e].focus();null===(n=S())||void 0===n||n.focus()},_t=["ArrowRight","ArrowDown"],Ct=["ArrowLeft","ArrowUp"],kt=(e,t,n)=>{e&&(t.isComposing||229===t.keyCode||(e.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?Et(t,e):"Tab"===t.key?St(t):[..._t,...Ct].includes(t.key)?Nt(t.key):"Escape"===t.key&&Tt(t,e,n)))},Et=(e,t)=>{if(!b(t.allowEnterKey))return;const n=J(S(),t.input);if(e.target&&n&&e.target instanceof HTMLElement&&e.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(t.input))return;mt(),e.preventDefault()}},St=e=>{const t=e.target,n=H();let r=-1;for(let i=0;i<n.length;i++)if(t===n[i]){r=i;break}e.shiftKey?xt(r,-1):xt(r,1),e.stopPropagation(),e.preventDefault()},Nt=e=>{const t=z(),n=D(),r=R(),i=M();if(!t||!n||!r||!i)return;const s=[n,r,i];if(document.activeElement instanceof HTMLElement&&!s.includes(document.activeElement))return;const o=_t.includes(e)?"nextElementSibling":"previousElementSibling";let a=document.activeElement;if(a){for(let e=0;e<t.children.length;e++){if(a=a[o],!a)return;if(a instanceof HTMLButtonElement&&ue(a))break}a instanceof HTMLButtonElement&&a.focus()}},Tt=(e,t,n)=>{b(t.allowEscapeKey)&&(e.preventDefault(),n(yt.esc))};var jt={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const It=()=>{const e=C();Array.from(document.body.children).forEach((t=>{t.contains(e)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))}))},At=()=>{Array.from(document.body.children).forEach((e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))},Ot="undefined"!==typeof window&&!!window.GestureEvent,Pt=()=>{if(Ot&&!Y(document.body,u.iosfix)){const e=document.body.scrollTop;document.body.style.top=-1*e+"px",te(document.body,u.iosfix),Dt()}},Dt=()=>{const e=C();if(!e)return;let t;e.ontouchstart=e=>{t=Mt(e)},e.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},Mt=e=>{const t=e.target,n=C(),r=I();return!(!n||!r)&&!Rt(e)&&!Lt(e)&&(t===n||!he(n)&&t instanceof HTMLElement&&"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&(!he(r)||!r.contains(t)))},Rt=e=>e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType,Lt=e=>e.touches&&e.touches.length>1,Ft=()=>{if(Y(document.body,u.iosfix)){const e=parseInt(document.body.style.top,10);ne(document.body,u.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},zt=()=>{const e=document.createElement("div");e.className=u["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t};let Ut=null;const Vt=e=>{null===Ut&&(document.body.scrollHeight>window.innerHeight||"scroll"===e)&&(Ut=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ut+zt()}px`)},Bt=()=>{null!==Ut&&(document.body.style.paddingRight=`${Ut}px`,Ut=null)};function $t(e,t,n,r){W()?Jt(e,r):(l(n).then((()=>Jt(e,r))),bt(o)),Ot?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),q()&&(Bt(),Ft(),At()),Ht()}function Ht(){ne([document.documentElement,document.body],[u.shown,u["height-auto"],u["no-backdrop"],u["toast-shown"]])}function qt(e){e=Yt(e);const t=jt.swalPromiseResolve.get(this),n=Wt(this);this.isAwaitingPromise?e.isDismissed||(Kt(this),t(e)):n&&t(e)}const Wt=e=>{const t=S();if(!t)return!1;const n=Fe.innerParams.get(e);if(!n||Y(t,n.hideClass.popup))return!1;ne(t,n.showClass.popup),te(t,n.hideClass.popup);const r=C();return ne(r,n.showClass.backdrop),te(r,n.hideClass.backdrop),Qt(e,t,n),!0};function Gt(e){const t=jt.swalPromiseReject.get(this);Kt(this),t&&t(e)}const Kt=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,Fe.innerParams.get(e)||e._destroy())},Yt=e=>"undefined"===typeof e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),Qt=(e,t,n)=>{const r=C(),i=Te&&fe(t);"function"===typeof n.willClose&&n.willClose(t),o.eventEmitter.emit("willClose",t),i?Xt(e,t,r,n.returnFocus,n.didClose):$t(e,r,n.returnFocus,n.didClose)},Xt=(e,t,n,r,i)=>{Te&&(o.swalCloseEventFinishedCallback=$t.bind(null,e,n,r,i),t.addEventListener(Te,(function(e){e.target===t&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback)})))},Jt=(e,t)=>{setTimeout((()=>{"function"===typeof t&&t.bind(e.params)(),o.eventEmitter.emit("didClose"),e._destroy&&e._destroy()}))},Zt=e=>{let t=S();if(t||new ri,t=S(),!t)return;const n=F();W()?oe(N()):en(t,e),se(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},en=(e,t)=>{const n=z(),r=F();n&&r&&(!t&&ue(D())&&(t=D()),se(n),t&&(oe(t),r.setAttribute("data-button-to-replace",t.className),n.insertBefore(r,t)),te([e,n],u.loading))},tn=(e,t)=>{"select"===t.input||"radio"===t.input?an(e,t):["text","email","number","tel","textarea"].some((e=>e===t.input))&&(w(t.inputValue)||_(t.inputValue))&&(Zt(D()),ln(e,t))},nn=(e,t)=>{const n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return rn(n);case"radio":return sn(n);case"file":return on(n);default:return t.inputAutoTrim?n.value.trim():n.value}},rn=e=>e.checked?1:0,sn=e=>e.checked?e.value:null,on=e=>e.files&&e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null,an=(e,t)=>{const n=S();if(!n)return;const r=e=>{"select"===t.input?cn(n,dn(e),t):"radio"===t.input&&un(n,dn(e),t)};w(t.inputOptions)||_(t.inputOptions)?(Zt(D()),x(t.inputOptions).then((t=>{e.hideLoading(),r(t)}))):"object"===typeof t.inputOptions?r(t.inputOptions):m("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof t.inputOptions)},ln=(e,t)=>{const n=e.getInput();n&&(oe(n),x(t.inputValue).then((r=>{n.value="number"===t.input?`${parseFloat(r)||0}`:`${r}`,se(n),n.focus(),e.hideLoading()})).catch((t=>{m(`Error in inputValue promise: ${t}`),n.value="",se(n),n.focus(),e.hideLoading()})))};function cn(e,t,n){const r=re(e,u.select);if(!r)return;const i=(e,t,r)=>{const i=document.createElement("option");i.value=r,K(i,t),i.selected=hn(r,n.inputValue),e.appendChild(i)};t.forEach((e=>{const t=e[0],n=e[1];if(Array.isArray(n)){const e=document.createElement("optgroup");e.label=t,e.disabled=!1,r.appendChild(e),n.forEach((t=>i(e,t[1],t[0])))}else i(r,n,t)})),r.focus()}function un(e,t,n){const r=re(e,u.radio);if(!r)return;t.forEach((e=>{const t=e[0],i=e[1],s=document.createElement("input"),o=document.createElement("label");s.type="radio",s.name=u.radio,s.value=t,hn(t,n.inputValue)&&(s.checked=!0);const a=document.createElement("span");K(a,i),a.className=u.label,o.appendChild(s),o.appendChild(a),r.appendChild(o)}));const i=r.querySelectorAll("input");i.length&&i[0].focus()}const dn=e=>{const t=[];return e instanceof Map?e.forEach(((e,n)=>{let r=e;"object"===typeof r&&(r=dn(r)),t.push([n,r])})):Object.keys(e).forEach((n=>{let r=e[n];"object"===typeof r&&(r=dn(r)),t.push([n,r])})),t},hn=(e,t)=>!!t&&t.toString()===e.toString(),fn=e=>{const t=Fe.innerParams.get(e);e.disableButtons(),t.input?gn(e,"confirm"):xn(e,!0)},pn=e=>{const t=Fe.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?gn(e,"deny"):yn(e,!1)},mn=(e,t)=>{e.disableButtons(),t(yt.cancel)},gn=(e,t)=>{const n=Fe.innerParams.get(e);if(!n.input)return void m(`The "input" parameter is needed to be set when using returnInputValueOn${f(t)}`);const r=e.getInput(),i=nn(e,n);n.inputValidator?vn(e,i,t):r&&!r.checkValidity()?(e.enableButtons(),e.showValidationMessage(n.validationMessage||r.validationMessage)):"deny"===t?yn(e,i):xn(e,i)},vn=(e,t,n)=>{const r=Fe.innerParams.get(e);e.disableInput(),Promise.resolve().then((()=>x(r.inputValidator(t,r.validationMessage)))).then((r=>{e.enableButtons(),e.enableInput(),r?e.showValidationMessage(r):"deny"===n?yn(e,t):xn(e,t)}))},yn=(e,t)=>{const n=Fe.innerParams.get(e||void 0);n.showLoaderOnDeny&&Zt(R()),n.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then((()=>x(n.preDeny(t,n.validationMessage)))).then((n=>{!1===n?(e.hideLoading(),Kt(e)):e.close({isDenied:!0,value:"undefined"===typeof n?t:n})})).catch((t=>wn(e||void 0,t)))):e.close({isDenied:!0,value:t})},bn=(e,t)=>{e.close({isConfirmed:!0,value:t})},wn=(e,t)=>{e.rejectPromise(t)},xn=(e,t)=>{const n=Fe.innerParams.get(e||void 0);n.showLoaderOnConfirm&&Zt(),n.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then((()=>x(n.preConfirm(t,n.validationMessage)))).then((n=>{ue(P())||!1===n?(e.hideLoading(),Kt(e)):bn(e,"undefined"===typeof n?t:n)})).catch((t=>wn(e||void 0,t)))):bn(e,t)};function _n(){const e=Fe.innerParams.get(this);if(!e)return;const t=Fe.domCache.get(this);oe(t.loader),W()?e.icon&&se(N()):Cn(t),ne([t.popup,t.actions],u.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const Cn=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?se(t[0],"inline-block"):de()&&oe(e.actions)};function kn(){const e=Fe.innerParams.get(this),t=Fe.domCache.get(this);return t?J(t.popup,e.input):null}function En(e,t,n){const r=Fe.domCache.get(e);t.forEach((e=>{r[e].disabled=n}))}function Sn(e,t){const n=S();if(n&&e)if("radio"===e.type){const e=n.querySelectorAll(`[name="${u.radio}"]`);for(let n=0;n<e.length;n++)e[n].disabled=t}else e.disabled=t}function Nn(){En(this,["confirmButton","denyButton","cancelButton"],!1)}function Tn(){En(this,["confirmButton","denyButton","cancelButton"],!0)}function jn(){Sn(this.getInput(),!1)}function In(){Sn(this.getInput(),!0)}function An(e){const t=Fe.domCache.get(this),n=Fe.innerParams.get(this);K(t.validationMessage,e),t.validationMessage.className=u["validation-message"],n.customClass&&n.customClass.validationMessage&&te(t.validationMessage,n.customClass.validationMessage),se(t.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",u["validation-message"]),Z(r),te(r,u.inputerror))}function On(){const e=Fe.domCache.get(this);e.validationMessage&&oe(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),ne(t,u.inputerror))}const Pn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Dn=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Mn={allowEnterKey:void 0},Rn=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Ln=e=>Object.prototype.hasOwnProperty.call(Pn,e),Fn=e=>-1!==Dn.indexOf(e),zn=e=>Mn[e],Un=e=>{Ln(e)||p(`Unknown parameter "${e}"`)},Vn=e=>{Rn.includes(e)&&p(`The parameter "${e}" is incompatible with toasts`)},Bn=e=>{const t=zn(e);t&&y(e,t)},$n=e=>{!1===e.backdrop&&e.allowOutsideClick&&p('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const t in e)Un(t),e.toast&&Vn(t),Bn(t)};function Hn(e){const t=S(),n=Fe.innerParams.get(this);if(!t||Y(t,n.hideClass.popup))return void p("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const r=qn(e),i=Object.assign({},n,r);ft(this,i),Fe.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const qn=e=>{const t={};return Object.keys(e).forEach((n=>{Fn(n)?t[n]=e[n]:p(`Invalid parameter to update: ${n}`)})),t};function Wn(){const e=Fe.domCache.get(this),t=Fe.innerParams.get(this);t?(e.popup&&o.swalCloseEventFinishedCallback&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback),"function"===typeof t.didDestroy&&t.didDestroy(),o.eventEmitter.emit("didDestroy"),Gn(this)):Kn(this)}const Gn=e=>{Kn(e),delete e.params,delete o.keydownHandler,delete o.keydownTarget,delete o.currentInstance},Kn=e=>{e.isAwaitingPromise?(Yn(Fe,e),e.isAwaitingPromise=!0):(Yn(jt,e),Yn(Fe,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},Yn=(e,t)=>{for(const n in e)e[n].delete(t)};var Qn=Object.freeze({__proto__:null,_destroy:Wn,close:qt,closeModal:qt,closePopup:qt,closeToast:qt,disableButtons:Tn,disableInput:In,disableLoading:_n,enableButtons:Nn,enableInput:jn,getInput:kn,handleAwaitingPromise:Kt,hideLoading:_n,rejectPromise:Gt,resetValidationMessage:On,showValidationMessage:An,update:Hn});const Xn=(e,t,n)=>{e.toast?Jn(e,t,n):(tr(t),nr(t),rr(e,t,n))},Jn=(e,t,n)=>{t.popup.onclick=()=>{e&&(Zn(e)||e.timer||e.input)||n(yt.close)}},Zn=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let er=!1;const tr=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(er=!0)}}},nr=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(t){e.popup.onmouseup=()=>{},(t.target===e.popup||t.target instanceof HTMLElement&&e.popup.contains(t.target))&&(er=!0)}}},rr=(e,t,n)=>{t.container.onclick=r=>{er?er=!1:r.target===t.container&&b(e.allowOutsideClick)&&n(yt.backdrop)}},ir=e=>"object"===typeof e&&e.jquery,sr=e=>e instanceof Element||ir(e),or=e=>{const t={};return"object"!==typeof e[0]||sr(e[0])?["title","html","icon"].forEach(((n,r)=>{const i=e[r];"string"===typeof i||sr(i)?t[n]=i:void 0!==i&&m(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof i}`)})):Object.assign(t,e[0]),t};function ar(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new this(...t)}function lr(e){class t extends(this){_main(t,n){return super._main(t,Object.assign({},e,n))}}return t}const cr=()=>o.timeout&&o.timeout.getTimerLeft(),ur=()=>{if(o.timeout)return me(),o.timeout.stop()},dr=()=>{if(o.timeout){const e=o.timeout.start();return pe(e),e}},hr=()=>{const e=o.timeout;return e&&(e.running?ur():dr())},fr=e=>{if(o.timeout){const t=o.timeout.increase(e);return pe(t,!0),t}},pr=()=>!(!o.timeout||!o.timeout.isRunning());let mr=!1;const gr={};function vr(){gr[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,mr||(document.body.addEventListener("click",yr),mr=!0)}const yr=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const e in gr){const n=t.getAttribute(e);if(n)return void gr[e].fire({template:n})}};class br{constructor(){this.events={}}_getHandlersByEventName(e){return"undefined"===typeof this.events[e]&&(this.events[e]=[]),this.events[e]}on(e,t){const n=this._getHandlersByEventName(e);n.includes(t)||n.push(t)}once(e,t){var n=this;const r=function(){n.removeListener(e,r);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];t.apply(n,s)};this.on(e,r)}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._getHandlersByEventName(e).forEach((e=>{try{e.apply(this,n)}catch(m){console.error(m)}}))}removeListener(e,t){const n=this._getHandlersByEventName(e),r=n.indexOf(t);r>-1&&n.splice(r,1)}removeAllListeners(e){void 0!==this.events[e]&&(this.events[e].length=0)}reset(){this.events={}}}o.eventEmitter=new br;const wr=(e,t)=>{o.eventEmitter.on(e,t)},xr=(e,t)=>{o.eventEmitter.once(e,t)},_r=(e,t)=>{e?t?o.eventEmitter.removeListener(e,t):o.eventEmitter.removeAllListeners(e):o.eventEmitter.reset()};var Cr=Object.freeze({__proto__:null,argsToParams:or,bindClickHandler:vr,clickCancel:vt,clickConfirm:mt,clickDeny:gt,enableLoading:Zt,fire:ar,getActions:z,getCancelButton:M,getCloseButton:B,getConfirmButton:D,getContainer:C,getDenyButton:R,getFocusableElements:H,getFooter:U,getHtmlContainer:I,getIcon:N,getIconContent:T,getImage:A,getInputLabel:L,getLoader:F,getPopup:S,getProgressSteps:O,getTimerLeft:cr,getTimerProgressBar:V,getTitle:j,getValidationMessage:P,increaseTimer:fr,isDeprecatedParameter:zn,isLoading:G,isTimerRunning:pr,isUpdatableParameter:Fn,isValidParameter:Ln,isVisible:pt,mixin:lr,off:_r,on:wr,once:xr,resumeTimer:dr,showLoading:Zt,stopTimer:ur,toggleTimer:hr});class kr{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Er=["swal-title","swal-html","swal-footer"],Sr=e=>{const t="string"===typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};const n=t.content;return Dr(n),Object.assign(Nr(n),Tr(n),jr(n),Ir(n),Ar(n),Or(n),Pr(n,Er))},Nr=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach((e=>{Mr(e,["name","value"]);const n=e.getAttribute("name"),r=e.getAttribute("value");n&&r&&("boolean"===typeof Pn[n]?t[n]="false"!==r:"object"===typeof Pn[n]?t[n]=JSON.parse(r):t[n]=r)})),t},Tr=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach((e=>{const n=e.getAttribute("name"),r=e.getAttribute("value");n&&r&&(t[n]=new Function(`return ${r}`)())})),t},jr=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach((e=>{Mr(e,["type","color","aria-label"]);const n=e.getAttribute("type");n&&["confirm","cancel","deny"].includes(n)&&(t[`${n}ButtonText`]=e.innerHTML,t[`show${f(n)}Button`]=!0,e.hasAttribute("color")&&(t[`${n}ButtonColor`]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(t[`${n}ButtonAriaLabel`]=e.getAttribute("aria-label")))})),t},Ir=e=>{const t={},n=e.querySelector("swal-image");return n&&(Mr(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt")||void 0)),t},Ar=e=>{const t={},n=e.querySelector("swal-icon");return n&&(Mr(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},Or=e=>{const t={},n=e.querySelector("swal-input");n&&(Mr(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));const r=Array.from(e.querySelectorAll("swal-input-option"));return r.length&&(t.inputOptions={},r.forEach((e=>{Mr(e,["value"]);const n=e.getAttribute("value");if(!n)return;const r=e.innerHTML;t.inputOptions[n]=r}))),t},Pr=(e,t)=>{const n={};for(const r in t){const i=t[r],s=e.querySelector(i);s&&(Mr(s,[]),n[i.replace(/^swal-/,"")]=s.innerHTML.trim())}return n},Dr=e=>{const t=Er.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach((e=>{const n=e.tagName.toLowerCase();t.includes(n)||p(`Unrecognized element <${n}>`)}))},Mr=(e,t)=>{Array.from(e.attributes).forEach((n=>{-1===t.indexOf(n.name)&&p([`Unrecognized attribute "${n.name}" on <${e.tagName.toLowerCase()}>.`,t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."])}))},Rr=10,Lr=e=>{const t=C(),n=S();"function"===typeof e.willOpen&&e.willOpen(n),o.eventEmitter.emit("willOpen",n);const r=window.getComputedStyle(document.body).overflowY;Vr(t,n,e),setTimeout((()=>{zr(t,n)}),Rr),q()&&(Ur(t,e.scrollbarPadding,r),It()),W()||o.previousActiveElement||(o.previousActiveElement=document.activeElement),"function"===typeof e.didOpen&&setTimeout((()=>e.didOpen(n))),o.eventEmitter.emit("didOpen",n),ne(t,u["no-transition"])},Fr=e=>{const t=S();if(e.target!==t||!Te)return;const n=C();t.removeEventListener(Te,Fr),n.style.overflowY="auto"},zr=(e,t)=>{Te&&fe(t)?(e.style.overflowY="hidden",t.addEventListener(Te,Fr)):e.style.overflowY="auto"},Ur=(e,t,n)=>{Pt(),t&&"hidden"!==n&&Vt(n),setTimeout((()=>{e.scrollTop=0}))},Vr=(e,t,n)=>{te(e,n.showClass.backdrop),n.animation?(t.style.setProperty("opacity","0","important"),se(t,"grid"),setTimeout((()=>{te(t,n.showClass.popup),t.style.removeProperty("opacity")}),Rr)):se(t,"grid"),te([document.documentElement,document.body],u.shown),n.heightAuto&&n.backdrop&&!n.toast&&te([document.documentElement,document.body],u["height-auto"])};var Br={email:(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function $r(e){e.inputValidator||("email"===e.input&&(e.inputValidator=Br.email),"url"===e.input&&(e.inputValidator=Br.url))}function Hr(e){(!e.target||"string"===typeof e.target&&!document.querySelector(e.target)||"string"!==typeof e.target&&!e.target.appendChild)&&(p('Target parameter is not valid, defaulting to "body"'),e.target="body")}function qr(e){$r(e),e.showLoaderOnConfirm&&!e.preConfirm&&p("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),Hr(e),"string"===typeof e.title&&(e.title=e.title.split("\n").join("<br />")),ke(e)}let Wr;var Gr=new WeakMap;class Kr{constructor(){if(r(this,Gr,void 0),"undefined"===typeof window)return;Wr=this;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const s=Object.freeze(this.constructor.argsToParams(t));this.params=s,this.isAwaitingPromise=!1,i(Gr,this,this._main(Wr.params))}_main(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if($n(Object.assign({},t,e)),o.currentInstance){const e=jt.swalPromiseResolve.get(o.currentInstance),{isAwaitingPromise:t}=o.currentInstance;o.currentInstance._destroy(),t||e({isDismissed:!0}),q()&&At()}o.currentInstance=Wr;const n=Qr(e,t);qr(n),Object.freeze(n),o.timeout&&(o.timeout.stop(),delete o.timeout),clearTimeout(o.restoreFocusTimeout);const r=Xr(Wr);return ft(Wr,n),Fe.innerParams.set(Wr,n),Yr(Wr,r,n)}then(e){return n(Gr,this).then(e)}finally(e){return n(Gr,this).finally(e)}}const Yr=(e,t,n)=>new Promise(((r,i)=>{const s=t=>{e.close({isDismissed:!0,dismiss:t})};jt.swalPromiseResolve.set(e,r),jt.swalPromiseReject.set(e,i),t.confirmButton.onclick=()=>{fn(e)},t.denyButton.onclick=()=>{pn(e)},t.cancelButton.onclick=()=>{mn(e,s)},t.closeButton.onclick=()=>{s(yt.close)},Xn(n,t,s),wt(o,n,s),tn(e,n),Lr(n),Jr(o,n,s),Zr(t,n),setTimeout((()=>{t.container.scrollTop=0}))})),Qr=(e,t)=>{const n=Sr(e),r=Object.assign({},Pn,t,n,e);return r.showClass=Object.assign({},Pn.showClass,r.showClass),r.hideClass=Object.assign({},Pn.hideClass,r.hideClass),!1===r.animation&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},Xr=e=>{const t={popup:S(),container:C(),actions:z(),confirmButton:D(),denyButton:R(),cancelButton:M(),loader:F(),closeButton:B(),validationMessage:P(),progressSteps:O()};return Fe.domCache.set(e,t),t},Jr=(e,t,n)=>{const r=V();oe(r),t.timer&&(e.timeout=new kr((()=>{n("timer"),delete e.timeout}),t.timer),t.timerProgressBar&&(se(r),X(r,t,"timerProgressBar"),setTimeout((()=>{e.timeout&&e.timeout.running&&pe(t.timer)}))))},Zr=(e,t)=>{if(!t.toast)return b(t.allowEnterKey)?void(ei(e)||ti(e,t)||xt(-1,1)):(y("allowEnterKey"),void ni())},ei=e=>{const t=e.popup.querySelectorAll("[autofocus]");for(const n of t)if(n instanceof HTMLElement&&ue(n))return n.focus(),!0;return!1},ti=(e,t)=>t.focusDeny&&ue(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&ue(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!ue(e.confirmButton))&&(e.confirmButton.focus(),!0),ni=()=>{document.activeElement instanceof HTMLElement&&"function"===typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!==typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const e=new Date,t=localStorage.getItem("swal-initiation");t?(e.getTime()-Date.parse(t))/864e5>3&&setTimeout((()=>{document.body.style.pointerEvents="none";const e=document.createElement("audio");e.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",e.loop=!0,document.body.appendChild(e),setTimeout((()=>{e.play().catch((()=>{}))}),2500)}),500):localStorage.setItem("swal-initiation",`${e}`)}Kr.prototype.disableButtons=Tn,Kr.prototype.enableButtons=Nn,Kr.prototype.getInput=kn,Kr.prototype.disableInput=In,Kr.prototype.enableInput=jn,Kr.prototype.hideLoading=_n,Kr.prototype.disableLoading=_n,Kr.prototype.showValidationMessage=An,Kr.prototype.resetValidationMessage=On,Kr.prototype.close=qt,Kr.prototype.closePopup=qt,Kr.prototype.closeModal=qt,Kr.prototype.closeToast=qt,Kr.prototype.rejectPromise=Gt,Kr.prototype.update=Hn,Kr.prototype._destroy=Wn,Object.assign(Kr,Cr),Object.keys(Qn).forEach((e=>{Kr[e]=function(){return Wr&&Wr[e]?Wr[e](...arguments):null}})),Kr.DismissReason=yt,Kr.version="11.14.0";const ri=Kr;return ri.default=ri,ri}(),"undefined"!==typeof this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},895:(e,t,n)=>{"use strict";var r=n(43);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=r.useSyncExternalStore,o=r.useRef,a=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,u){var d=o(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=l((function(){function e(e){if(!a){if(a=!0,s=e,e=r(e),void 0!==u&&h.hasValue){var t=h.value;if(u(t,e))return o=t}return o=e}if(t=o,i(s,e))return t;var n=r(e);return void 0!==u&&u(t,n)?t:(s=e,o=n)}var s,o,a=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,u]);var f=s(e,d[0],d[1]);return a((function(){h.hasValue=!0,h.value=f}),[f]),c(f),f}},237:(e,t,n)=>{"use strict";e.exports=n(895)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".3c5ec6a4.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="gymhub:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Gymhub-Project/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],c=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkgymhub=self.webpackChunkgymhub||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(43),t=n(391),r=n(237),i=e,s=Symbol.for("react-redux-context"),o="undefined"!==typeof globalThis?globalThis:{};function a(){if(!i.createContext)return{};const e=o[s]??(o[s]=new Map);let t=e.get(i.createContext);return t||(t=i.createContext(null),e.set(i.createContext,t)),t}var l=a(),c=()=>{throw new Error("uSES not initialized!")};function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return function(){return i.useContext(e)}}var d=u(),h=c,f=(e,t)=>e===t;function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;const t=e===l?d:u(e),n=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:r=f,devModeChecks:s={}}="function"===typeof n?{equalityFn:n}:n;const{store:o,subscription:a,getServerState:l,stabilityCheck:c,identityFunctionCheck:u}=t(),d=(i.useRef(!0),i.useCallback({[e.name]:t=>e(t)}[e.name],[e,c,s.stabilityCheck])),p=h(a.addNestedSub,o.getState,l||o.getState,d,r);return i.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var m=p();Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.client.reference");function g(e){e()}var v={notify(){},get:()=>[]};function y(e,t){let n,r=v,i=0,s=!1;function o(){c.onStateChange&&c.onStateChange()}function a(){i++,n||(n=t?t.addNestedSub(o):e.subscribe(o),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){g((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=v)}const c={addNestedSub:function(e){a();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:o,isSubscribed:function(){return s},trySubscribe:function(){s||(s=!0,a())},tryUnsubscribe:function(){s&&(s=!1,l())},getListeners:()=>r};return c}var b=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),w="undefined"!==typeof navigator&&"ReactNative"===navigator.product,x=b||w?i.useLayoutEffect:i.useEffect;Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var _=function(e){let{store:t,context:n,children:r,serverState:s,stabilityCheck:o="once",identityFunctionCheck:a="once"}=e;const c=i.useMemo((()=>{const e=y(t);return{store:t,subscription:e,getServerState:s?()=>s:void 0,stabilityCheck:o,identityFunctionCheck:a}}),[t,s,o,a]),u=i.useMemo((()=>t.getState()),[t]);x((()=>{const{subscription:e}=c;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[c,u]);const d=n||l;return i.createElement(d.Provider,{value:c},r)};function C(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;const t=e===l?d:u(e),n=()=>{const{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}var k=C();function E(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;const t=e===l?k:C(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var S,N=E();S=r.useSyncExternalStoreWithSelector,h=S,(e=>{e})(e.useSyncExternalStore);const T=n.p+"static/media/LogoGymHub.012aa057b1337cfd071e.png";var j=n(64),I=n.n(j);const A=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},O={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;a||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(A(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new P;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class P extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D=function(e){return function(e){const t=A(e);return O.encodeByteArray(t,!0)}(e).replace(/\./g,"")},M=function(e){try{return O.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const R=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,L=()=>{try{return R()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/Gymhub-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&M(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},F=e=>{var t,n;return null===(n=null===(t=L())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},z=e=>{const t=F(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},U=()=>{var e;return null===(e=L())||void 0===e?void 0:e.config},V=e=>{var t;return null===(t=L())||void 0===t?void 0:t[`_${e}`]};class B{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function $(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[D(JSON.stringify({alg:"none",type:"JWT"})),D(JSON.stringify(s)),""].join(".")}function H(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function q(){return!function(){var e;const t=null===(e=L())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W(){try{return"object"===typeof indexedDB}catch(e){return!1}}class G extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,G.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,K.prototype.create)}}class K{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(Y,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new G(n,s,t)}}const Y=/\{\$([^}]+)}/g;function Q(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(X(n)&&X(s)){if(!Q(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function X(e){return null!==e&&"object"===typeof e}function J(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Z(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function ee(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class te{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ne),void 0===r.error&&(r.error=ne),void 0===r.complete&&(r.complete=ne);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ne(){}function re(e){return e&&e._delegate?e._delegate:e}class ie{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const se="[DEFAULT]";class oe{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new B;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:se})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===se?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se;return this.component?this.component.multipleInstances?e:se:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ae{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new oe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const le=[];var ce;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ce||(ce={}));const ue={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},de=ce.INFO,he={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},fe=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=he[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r](`[${n}]  ${e.name}:`,...s)};class pe{constructor(e){this.name=e,this._logLevel=de,this._logHandler=fe,this._userLogHandler=null,le.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?ue[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...t),this._logHandler(this,ce.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...t),this._logHandler(this,ce.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ce.INFO,...t),this._logHandler(this,ce.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ce.WARN,...t),this._logHandler(this,ce.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...t),this._logHandler(this,ce.ERROR,...t)}}let me,ge;const ve=new WeakMap,ye=new WeakMap,be=new WeakMap,we=new WeakMap,xe=new WeakMap;let _e={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ye.get(e);if("objectStoreNames"===t)return e.objectStoreNames||be.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ee(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ce(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Se(this),n),Ee(ve.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ee(e.apply(Se(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Se(this),t,...r);return be.set(s,t.sort?t.sort():[t]),Ee(s)}}function ke(e){return"function"===typeof e?Ce(e):(e instanceof IDBTransaction&&function(e){if(ye.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));ye.set(e,t)}(e),t=e,(me||(me=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,_e):e);var t}function Ee(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Ee(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&ve.set(t,e)})).catch((()=>{})),xe.set(t,e),t}(e);if(we.has(e))return we.get(e);const t=ke(e);return t!==e&&(we.set(e,t),xe.set(t,e)),t}const Se=e=>xe.get(e);const Ne=["get","getKey","getAll","getAllKeys","count"],Te=["put","add","delete","clear"],je=new Map;function Ie(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(je.get(t))return je.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Te.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ne.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return je.set(t,s),s}!function(e){_e=e(_e)}((e=>({...e,get:(t,n,r)=>Ie(t,n)||e.get(t,n,r),has:(t,n)=>!!Ie(t,n)||e.has(t,n)})));class Ae{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Oe="@firebase/app",Pe="0.10.11",De=new pe("@firebase/app"),Me="@firebase/app-compat",Re="@firebase/analytics-compat",Le="@firebase/analytics",Fe="@firebase/app-check-compat",ze="@firebase/app-check",Ue="@firebase/auth",Ve="@firebase/auth-compat",Be="@firebase/database",$e="@firebase/database-compat",He="@firebase/functions",qe="@firebase/functions-compat",We="@firebase/installations",Ge="@firebase/installations-compat",Ke="@firebase/messaging",Ye="@firebase/messaging-compat",Qe="@firebase/performance",Xe="@firebase/performance-compat",Je="@firebase/remote-config",Ze="@firebase/remote-config-compat",et="@firebase/storage",tt="@firebase/storage-compat",nt="@firebase/firestore",rt="@firebase/vertexai-preview",it="@firebase/firestore-compat",st="firebase",ot="[DEFAULT]",at={[Oe]:"fire-core",[Me]:"fire-core-compat",[Le]:"fire-analytics",[Re]:"fire-analytics-compat",[ze]:"fire-app-check",[Fe]:"fire-app-check-compat",[Ue]:"fire-auth",[Ve]:"fire-auth-compat",[Be]:"fire-rtdb",[$e]:"fire-rtdb-compat",[He]:"fire-fn",[qe]:"fire-fn-compat",[We]:"fire-iid",[Ge]:"fire-iid-compat",[Ke]:"fire-fcm",[Ye]:"fire-fcm-compat",[Qe]:"fire-perf",[Xe]:"fire-perf-compat",[Je]:"fire-rc",[Ze]:"fire-rc-compat",[et]:"fire-gcs",[tt]:"fire-gcs-compat",[nt]:"fire-fst",[it]:"fire-fst-compat",[rt]:"fire-vertex","fire-js":"fire-js",[st]:"fire-js-all"},lt=new Map,ct=new Map,ut=new Map;function dt(e,t){try{e.container.addComponent(t)}catch(n){De.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ht(e){const t=e.name;if(ut.has(t))return De.debug(`There were multiple attempts to register component ${t}.`),!1;ut.set(t,e);for(const n of lt.values())dt(n,e);for(const n of ct.values())dt(n,e);return!0}function ft(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function pt(e){return void 0!==e.settings}const mt=new K("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class gt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ie("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mt.create("app-deleted",{appName:this._name})}}const vt="10.13.2";function yt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:ot,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw mt.create("bad-app-name",{appName:String(i)});if(n||(n=U()),!n)throw mt.create("no-options");const s=lt.get(i);if(s){if(Q(n,s.options)&&Q(r,s.config))return s;throw mt.create("duplicate-app",{appName:i})}const o=new ae(i);for(const l of ut.values())o.addComponent(l);const a=new gt(n,r,o);return lt.set(i,a),a}function bt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot;const t=lt.get(e);if(!t&&e===ot&&U())return yt();if(!t)throw mt.create("no-app",{appName:e});return t}function wt(e,t,n){var r;let i=null!==(r=at[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void De.warn(e.join(" "))}ht(new ie(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const xt="firebase-heartbeat-store";let _t=null;function Ct(){return _t||(_t=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=Ee(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Ee(o.result),e.oldVersion,e.newVersion,Ee(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(xt)}catch(n){console.warn(n)}}}).catch((e=>{throw mt.create("idb-open",{originalErrorMessage:e.message})}))),_t}async function kt(e,t){try{const n=(await Ct()).transaction(xt,"readwrite"),r=n.objectStore(xt);await r.put(t,Et(e)),await n.done}catch(n){if(n instanceof G)De.warn(n.message);else{const e=mt.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});De.warn(e.message)}}}function Et(e){return`${e.name}!${e.options.appId}`}class St{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Tt(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Nt();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(n){De.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Nt(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),jt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=D(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return De.warn(t),""}}}function Nt(){return(new Date).toISOString().substring(0,10)}class Tt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!W()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Ct()).transaction(xt),n=await t.objectStore(xt).get(Et(e));return await t.done,n}catch(t){if(t instanceof G)De.warn(t.message);else{const e=mt.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});De.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return kt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return kt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function jt(e){return D(JSON.stringify({version:2,heartbeats:e})).length}var It;It="",ht(new ie("platform-logger",(e=>new Ae(e)),"PRIVATE")),ht(new ie("heartbeat",(e=>new St(e)),"PRIVATE")),wt(Oe,Pe,It),wt(Oe,Pe,"esm2017"),wt("fire-js","");var At,Ot,Pt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Dt={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return h(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=o(n)).j(t);d(c)||0<c.l(e);)c=(s=o(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],o=0;o<i;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var o=i+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Ot=Dt.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=a,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(c))):i=(i=i.j(r)).add(o(c))}return i},At=Dt.Integer=r}).apply("undefined"!==typeof Pt?Pt:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Mt,Rt,Lt,Ft,zt,Ut,Vt,Bt,$t,Ht="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},qt={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ht&&Ht];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function C(e){i.setTimeout((()=>{throw e}),0)}function k(){var e=j;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var E=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new S),(e=>e.reset()));class S{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let N,T=!1,j=new class{constructor(){this.h=this.g=null}add(e,t){const n=E.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=i.Promise.resolve(void 0);N=()=>{e.then(A)}};var A=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(n){C(n)}var t=E;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}T=!1};function O(){this.s=this.s,this.C=this.C}function P(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function M(e,t){if(P.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:R[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}d(M,P);var R={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function z(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}V.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=$(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new z(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),q={};function W(e,t,n,r,i){if(r&&r.once)return K(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)W(e,t[s],n,r,i);return null}return n=te(n),e&&e[L]?e.K(t,n,o(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,l=Z(e);if(l||(e[H]=l=new V(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function K(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);return null}return n=te(n),e&&e[L]?e.L(t,n,o(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Y(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(s=e.g[t],n,r,i))&&(U(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,i)),(n=-1<e?t[e]:null)&&Q(n))}function Q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[H]=null)):U(e)}}}function X(e){return e in q?q[e]:q[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Q(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){O.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new P(t,e);else if(t instanceof P)t.target=t.target||e;else{var i=t;x(t=new P(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(o=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&B(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,O),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends O{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){O.call(this),this.h=e,this.g={}}d(le,O);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Q(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){P.call(this,"d")}function be(){P.call(this,"c")}d(ye,P),d(be,P);var we={},xe=null;function _e(){return xe=xe||new ne}function Ce(e){P.call(this,we.La,e)}function ke(e){const t=_e();re(t,new Ce(t))}function Ee(e,t){P.call(this,we.STAT_EVENT,e),this.stat=t}function Se(e){const t=_e();re(t,new Ee(t,e))}function Ne(e,t){P.call(this,we.Ma,e),this.size=t}function Te(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function je(){this.g=!0}function Ie(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return de(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",d(Ce,P),we.STAT_EVENT="statevent",d(Ee,P),we.Ma="timingevent",d(Ne,P),je.prototype.xa=function(){this.g=!1},je.prototype.info=function(){};var Ae,Oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Ae=new De;var Le={},Fe={};function ze(e,t,n){e.L=1,e.v=dt(ot(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),$e(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Et(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Re,e.g=En(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var o=W(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Te(c(e.ba,e),t)}function qe(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||wn(e.j,e)}function Ge(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ke(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;bn(n),cn(n)}gn(n),Se(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Te(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else _n(n,11)}else if((e.K||n.g==e)&&bn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=kn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(qe(a),$e(a)),r.g=o}else mn(r);0<n.i.length&&dn(n)}else"stop"!=c[0]&&"close"!=c[0]||_n(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?_n(n,7):ln(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ke()}catch(u){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==rn(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const h=rn(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||sn(this.g)))){this.J||4!=h||7==t||ke(),qe(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=sn(this.g);e="";var s=r.length,o=4==rn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),We(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Se(12),Ge(this),We(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ke(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Be(this,a),e==Fe){4==h&&(this.s=4,Se(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,Se(15),Ie(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),Ke(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,Se(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),vn(d),d.M=!0,Se(11))}}else Ie(this.i,this.l,a,"[Invalid Chunked Response]"),Ge(this),We(this)}else Ie(this.i,this.l,a,null),Ke(this,a);4==h&&Ge(this),this.o&&!this.J&&(4==h?wn(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=rn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=_(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Se(12)):(this.s=0,Se(13)),Ge(this),We(this)}}}catch(h){}},Me.prototype.cancel=function(){this.J=!0,Ge(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(ke(),Se(17)),Ge(this),this.s=2,We(this)):He(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Qe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Qe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function ot(e){return new st(e)}function at(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(_t(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ct(this,t),Et(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new xt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _t(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ct(e,t){_t(e),t=St(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return _t(e),t=St(e,t),e.g.has(t)}function Et(e,t,n){Ct(e,t),0<n.length&&(e.i=null,e.g.set(St(e,t),h(n)),e.h+=n.length)}function St(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Nt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Tt(){this.g=new fe}function jt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;o(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function It(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ot(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Pt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Dt(e)}function Dt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Wt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Gt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Wt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Yt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){_t(this),this.i=null,e=St(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){_t(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){_t(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){_t(this);let t=[];if("string"===typeof e)kt(this,e)&&(t=t.concat(this.g.get(St(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return _t(this),this.i=null,kt(this,e=St(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},d(It,pe),It.prototype.g=function(){return new At(this.l,this.j)},It.prototype.i=(mt={},function(){return mt}),d(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Dt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dt(this)),this.g&&(this.readyState=3,Dt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ot(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pt(this):Dt(this),3==this.readyState&&Ot(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Pt(this))},e.Qa=function(e){this.g&&(this.response=e,Pt(this))},e.ga=function(){this.g&&Pt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Yt,ne);var Qt=/^https?$/i,Xt=["POST","PUT"];function Jt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Zt(e),tn(e)}function Zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function en(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=rn(e)||2!=e.Z()))if(e.u&&4==rn(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==rn(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!Qt.test(o?o.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<rn(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",Zt(e)}}finally{tn(e)}}}function tn(e,t){if(e.g){nn(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function nn(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function rn(e){return e.g?e.g.readyState:0}function sn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Kt){return null}}function on(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function an(e){this.Aa=0,this.i=[],this.j=new je,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=on("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=on("baseRetryDelayMs",5e3,e),this.cb=on("retryDelaySeedMs",1e4,e),this.Wa=on("forwardChannelMaxRetries",2,e),this.wa=on("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Qe(e&&e.concurrentRequestLimit),this.Da=new Tt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function ln(e){if(un(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),fn(e,n),(t=new Me(e,e.j,t)).L=2,t.v=dt(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=En(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}Cn(e)}function cn(e){e.g&&(vn(e),e.g.cancel(),e.g=null)}function un(e){cn(e),e.u&&(i.clearTimeout(e.u),e.u=null),bn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function dn(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;N||I(),T||(N(),T=!0),j.add(t,e),e.B=0}}function hn(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),fn(e,r),e.m&&e.o&&Gt(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=pn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),ze(n,r,t)}function fn(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function pn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{jt(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function mn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;N||I(),T||(N(),T=!0),j.add(t,e),e.v=0}}function gn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Te(c(e.Fa,e),xn(e,e.v)),e.v++,!0)}function vn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function yn(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),fn(e,t),e.m&&e.o&&Gt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(ot(t)),n.m=null,n.P=!0,Ue(n,e)}function bn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function wn(e,t){var n=null;if(e.g==t){bn(e),vn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=_e(),new Ne(r,n)),dn(e)}else mn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Te(c(e.Ga,e,t),xn(e,e.B)),e.B++,!0))}(e,t)||2==r&&gn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:_n(e,5);break;case 4:_n(e,10);break;case 3:_n(e,6);break;default:_n(e,2)}}function xn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function _n(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),dt(r),t?function(e,t){const n=new je;if(i.Image){const r=new Image;r.onload=u(Nt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Nt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Nt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Nt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new je;const n=new AbortController,r=setTimeout((()=>{n.abort(),Nt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Nt(0,0,!0,t):Nt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Nt(0,0,!1,t)}))}(r.toString(),n)}else Se(2);e.G=0,e.l&&e.l.sa(t),Cn(e),un(e)}function Cn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function kn(e,t,n){var r=n instanceof st?ot(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new st(null);r&&at(o,r),t&&(o.g=t),s&&lt(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),fn(e,r),r}function En(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Yt(new It({eb:n})):new Yt(e.pa)).Ha(e.J),t}function Sn(){}function Nn(){}function Tn(e,t){ne.call(this),this.g=new an(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new An(this)}function jn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function In(){be.call(this),this.status=1}function An(e){this.g=e}(e=Yt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Jt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Xt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nn(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Jt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),tn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tn(this,!0)),Yt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?en(this):this.bb())},e.bb=function(){en(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=an.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Se(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=kn(this,null,this.W),dn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Me(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),x(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=pn(this,i,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),fn(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Wt(s)))+"&"+t:this.m&&Gt(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,ze(i,n,null)):ze(i,n,t),this.G=2}}else 3==this.G&&(e?hn(this,e):0==this.i.length||Xe(this.h)||hn(this))},e.Fa=function(){if(this.u=null,yn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Te(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Se(10),cn(this),yn(this))},e.Za=function(){null!=this.C&&(this.C=null,cn(this),gn(this),Se(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=Sn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},Nn.prototype.g=function(e,t){return new Tn(e,t)},d(Tn,ne),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){ln(this.g)},Tn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&dn(t)},Tn.prototype.N=function(){this.g.l=null,delete this.j,ln(this.g),delete this.g,Tn.aa.N.call(this)},d(jn,ye),d(In,be),d(An,Sn),An.prototype.ua=function(){re(this.g,"a")},An.prototype.ta=function(e){re(this.g,new jn(e))},An.prototype.sa=function(e){re(this.g,new In)},An.prototype.ra=function(){re(this.g,"b")},Nn.prototype.createWebChannel=Nn.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,$t=qt.createWebChannelTransport=function(){return new Nn},Bt=qt.getStatEventTarget=function(){return _e()},Vt=qt.Event=we,Ut=qt.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,zt=qt.ErrorCode=Oe,Pe.COMPLETE="complete",Ft=qt.EventType=Pe,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Lt=qt.WebChannel=ge,Rt=qt.FetchXmlHttpFactory=It,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,Mt=qt.XhrIo=Yt}).apply("undefined"!==typeof Ht?Ht:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Wt="@firebase/firestore";class Gt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");let Kt="10.13.2";const Yt=new pe("@firebase/firestore");function Qt(){return Yt.logLevel}function Xt(e){if(Yt.logLevel<=ce.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(en);Yt.debug(`Firestore (${Kt}): ${e}`,...i)}}function Jt(e){if(Yt.logLevel<=ce.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(en);Yt.error(`Firestore (${Kt}): ${e}`,...i)}}function Zt(e){if(Yt.logLevel<=ce.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(en);Yt.warn(`Firestore (${Kt}): ${e}`,...i)}}function en(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function tn(){const e=`FIRESTORE (${Kt}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw Jt(e),new Error(e)}function nn(e,t){e||tn()}function rn(e,t){return e}const sn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class on extends G{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class an{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ln{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Gt.UNAUTHENTICATED)))}shutdown(){}}class un{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class dn{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new an;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new an,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new an)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(nn("string"==typeof t.accessToken),new ln(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return nn(null===e||"string"==typeof e),new Gt(e)}}class hn{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fn{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new hn(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Gt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mn{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Xt("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(nn("string"==typeof e.token),this.R=e.token,new pn(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function gn(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class vn{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=gn(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function yn(e,t){return e<t?-1:e>t?1:0}function bn(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class wn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new on(sn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new on(sn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new on(sn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new on(sn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wn.fromMillis(Date.now())}static fromDate(e){return wn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new wn(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?yn(this.nanoseconds,e.nanoseconds):yn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xn(e)}static min(){return new xn(new wn(0,0))}static max(){return new xn(new wn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class _n{constructor(e,t,n){void 0===t?t=0:t>e.length&&tn(),void 0===n?n=e.length-t:n>e.length-t&&tn(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===_n.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _n?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Cn extends _n{construct(e,t,n){return new Cn(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new on(sn.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Cn(e)}static emptyPath(){return new Cn([])}}const kn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class En extends _n{construct(e,t,n){return new En(e,t,n)}static isValidIdentifier(e){return kn.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),En.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new En(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new on(sn.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new on(sn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new on(sn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new on(sn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new En(t)}static emptyPath(){return new En([])}}class Sn{constructor(e){this.path=e}static fromPath(e){return new Sn(Cn.fromString(e))}static fromName(e){return new Sn(Cn.fromString(e).popFirst(5))}static empty(){return new Sn(Cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Cn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Sn(new Cn(e.slice()))}}class Nn{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Nn.UNKNOWN_ID=-1;function Tn(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=xn.fromTimestamp(1e9===r?new wn(n+1,0):new wn(n,r));return new In(i,Sn.empty(),t)}function jn(e){return new In(e.readTime,e.key,-1)}class In{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new In(xn.min(),Sn.empty(),-1)}static max(){return new In(xn.max(),Sn.empty(),-1)}}function An(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Sn.comparator(e.documentKey,t.documentKey),0!==n?n:yn(e.largestBatchId,t.largestBatchId))}const On="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Pn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Dn(e){if(e.code!==sn.FAILED_PRECONDITION||e.message!==On)throw e;Xt("LocalStore","Unexpectedly lost primary lease")}class Mn{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Mn(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Mn?t:Mn.resolve(t)}catch(e){return Mn.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Mn.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Mn.reject(t)}static resolve(e){return new Mn(((t,n)=>{t(e)}))}static reject(e){return new Mn(((t,n)=>{n(e)}))}static waitFor(e){return new Mn(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Mn.resolve(!1);for(const n of e)t=t.next((e=>e?Mn.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Mn(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Mn(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Rn(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ln(e){return"IndexedDbTransactionError"===e.name}class Fn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function zn(e){return null==e}function Un(e){return 0===e&&1/e==-1/0}function Vn(e){return"number"==typeof e&&Number.isInteger(e)&&!Un(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Fn.oe=-1;const Bn=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$n=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Hn=$n,qn=[...Hn,"indexConfiguration","indexState","indexEntries"];function Wn(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Gn(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Kn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Yn{constructor(e,t){this.comparator=e,this.root=t||Xn.EMPTY}insert(e,t){return new Yn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xn.BLACK,null,null))}remove(e){return new Yn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qn(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qn(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qn(this.root,e,this.comparator,!0)}}class Qn{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xn{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Xn.RED,this.left=null!=r?r:Xn.EMPTY,this.right=null!=i?i:Xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Xn(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Xn.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw tn();if(this.right.isRed())throw tn();const e=this.left.check();if(e!==this.right.check())throw tn();return e+(this.isRed()?0:1)}}Xn.EMPTY=null,Xn.RED=!0,Xn.BLACK=!1,Xn.EMPTY=new class{constructor(){this.size=0}get key(){throw tn()}get value(){throw tn()}get color(){throw tn()}get left(){throw tn()}get right(){throw tn()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Xn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jn{constructor(e){this.comparator=e,this.data=new Yn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zn(this.data.getIterator())}getIteratorFrom(e){return new Zn(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Jn))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Jn(this.comparator);return t.data=e,t}}class Zn{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class er{constructor(e){this.fields=e,e.sort(En.comparator)}static empty(){return new er([])}unionWith(e){let t=new Jn(En.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new er(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bn(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class tr extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new tr("Invalid base64 string: "+e):e}}(e);return new nr(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new nr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nr.EMPTY_BYTE_STRING=new nr("");const rr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(e){if(nn(!!e),"string"==typeof e){let t=0;const n=rr.exec(e);if(nn(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:sr(e.seconds),nanos:sr(e.nanos)}}function sr(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function or(e){return"string"==typeof e?nr.fromBase64String(e):nr.fromUint8Array(e)}function ar(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function lr(e){const t=e.mapValue.fields.__previous_value__;return ar(t)?lr(t):t}function cr(e){const t=ir(e.mapValue.fields.__local_write_time__.timestampValue);return new wn(t.seconds,t.nanos)}class ur{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class dr{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new dr("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof dr&&e.projectId===this.projectId&&e.database===this.database}}const hr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ar(e)?4:jr(e)?9007199254740991:Nr(e)?10:11:tn()}function pr(e,t){if(e===t)return!0;const n=fr(e);if(n!==fr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return cr(e).isEqual(cr(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ir(e.timestampValue),r=ir(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return or(e.bytesValue).isEqual(or(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return sr(e.geoPointValue.latitude)===sr(t.geoPointValue.latitude)&&sr(e.geoPointValue.longitude)===sr(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return sr(e.integerValue)===sr(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=sr(e.doubleValue),r=sr(t.doubleValue);return n===r?Un(n)===Un(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return bn(e.arrayValue.values||[],t.arrayValue.values||[],pr);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Wn(n)!==Wn(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!pr(n[i],r[i])))return!1;return!0}(e,t);default:return tn()}}function mr(e,t){return void 0!==(e.values||[]).find((e=>pr(e,t)))}function gr(e,t){if(e===t)return 0;const n=fr(e),r=fr(t);if(n!==r)return yn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return yn(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=sr(e.integerValue||e.doubleValue),r=sr(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return vr(e.timestampValue,t.timestampValue);case 4:return vr(cr(e),cr(t));case 5:return yn(e.stringValue,t.stringValue);case 6:return function(e,t){const n=or(e),r=or(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=yn(n[i],r[i]);if(0!==e)return e}return yn(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=yn(sr(e.latitude),sr(t.latitude));return 0!==n?n:yn(sr(e.longitude),sr(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return yr(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const o=e.fields||{},a=t.fields||{},l=null===(n=o.value)||void 0===n?void 0:n.arrayValue,c=null===(r=a.value)||void 0===r?void 0:r.arrayValue,u=yn((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:yr(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===hr.mapValue&&t===hr.mapValue)return 0;if(e===hr.mapValue)return 1;if(t===hr.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=yn(r[o],s[o]);if(0!==e)return e;const t=gr(n[r[o]],i[s[o]]);if(0!==t)return t}return yn(r.length,s.length)}(e.mapValue,t.mapValue);default:throw tn()}}function vr(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return yn(e,t);const n=ir(e),r=ir(t),i=yn(n.seconds,r.seconds);return 0!==i?i:yn(n.nanos,r.nanos)}function yr(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=gr(n[i],r[i]);if(e)return e}return yn(n.length,r.length)}function br(e){return wr(e)}function wr(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ir(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return or(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Sn.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=wr(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${wr(e.fields[i])}`;return n+"}"}(e.mapValue):tn()}function xr(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function _r(e){return!!e&&"integerValue"in e}function Cr(e){return!!e&&"arrayValue"in e}function kr(e){return!!e&&"nullValue"in e}function Er(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Sr(e){return!!e&&"mapValue"in e}function Nr(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Tr(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Gn(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Tr(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Tr(e.arrayValue.values[n]);return t}return Object.assign({},e)}function jr(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ir{constructor(e){this.value=e}static empty(){return new Ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Sr(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tr(t)}setAll(e){let t=En.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Tr(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Sr(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Sr(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Gn(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Ir(Tr(this.value))}}function Ar(e){const t=[];return Gn(e.fields,((e,n)=>{const r=new En([e]);if(Sr(n)){const e=Ar(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new er(t)}class Or{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Or(e,0,xn.min(),xn.min(),xn.min(),Ir.empty(),0)}static newFoundDocument(e,t,n,r){return new Or(e,1,t,xn.min(),n,r,0)}static newNoDocument(e,t){return new Or(e,2,t,xn.min(),xn.min(),Ir.empty(),0)}static newUnknownDocument(e,t){return new Or(e,3,t,xn.min(),xn.min(),Ir.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Or&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Or(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Pr{constructor(e,t){this.position=e,this.inclusive=t}}function Dr(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Sn.comparator(Sn.fromName(o.referenceValue),n.key):gr(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Mr(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!pr(e.position[n],t.position[n]))return!1;return!0}class Rr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Lr(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Fr{}class zr extends Fr{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Gr(e,t,n):"array-contains"===t?new Xr(e,n):"in"===t?new Jr(e,n):"not-in"===t?new Zr(e,n):"array-contains-any"===t?new ei(e,n):new zr(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Kr(e,n):new Yr(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(gr(t,this.value)):null!==t&&fr(this.value)===fr(t)&&this.matchesComparison(gr(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ur extends Fr{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Ur(e,t)}matches(e){return Vr(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Vr(e){return"and"===e.op}function Br(e){return $r(e)&&Vr(e)}function $r(e){for(const t of e.filters)if(t instanceof Ur)return!1;return!0}function Hr(e){if(e instanceof zr)return e.field.canonicalString()+e.op.toString()+br(e.value);if(Br(e))return e.filters.map((e=>Hr(e))).join(",");{const t=e.filters.map((e=>Hr(e))).join(",");return`${e.op}(${t})`}}function qr(e,t){return e instanceof zr?function(e,t){return t instanceof zr&&e.op===t.op&&e.field.isEqual(t.field)&&pr(e.value,t.value)}(e,t):e instanceof Ur?function(e,t){return t instanceof Ur&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&qr(n,t.filters[r])),!0)}(e,t):void tn()}function Wr(e){return e instanceof zr?function(e){return`${e.field.canonicalString()} ${e.op} ${br(e.value)}`}(e):e instanceof Ur?function(e){return e.op.toString()+" {"+e.getFilters().map(Wr).join(" ,")+"}"}(e):"Filter"}class Gr extends zr{constructor(e,t,n){super(e,t,n),this.key=Sn.fromName(n.referenceValue)}matches(e){const t=Sn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Kr extends zr{constructor(e,t){super(e,"in",t),this.keys=Qr("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Yr extends zr{constructor(e,t){super(e,"not-in",t),this.keys=Qr("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Qr(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Sn.fromName(e.referenceValue)))}class Xr extends zr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cr(t)&&mr(t.arrayValue,this.value)}}class Jr extends zr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&mr(this.value.arrayValue,t)}}class Zr extends zr{constructor(e,t){super(e,"not-in",t)}matches(e){if(mr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!mr(this.value.arrayValue,t)}}class ei extends zr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cr(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>mr(this.value.arrayValue,e)))}}class ti{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function ni(e){return new ti(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ri(e){const t=rn(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Hr(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),zn(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>br(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>br(e))).join(",")),t.ue=e}return t.ue}function ii(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Lr(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!qr(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Mr(e.startAt,t.startAt)&&Mr(e.endAt,t.endAt)}function si(e){return Sn.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class oi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ai(e,t,n,r,i,s,o,a){return new oi(e,t,n,r,i,s,o,a)}function li(e){return new oi(e)}function ci(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ui(e){return null!==e.collectionGroup}function di(e){const t=rn(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Jn(En.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Rr(r,n))})),e.has(En.keyField().canonicalString())||t.ce.push(new Rr(En.keyField(),n))}return t.ce}function hi(e){const t=rn(e);return t.le||(t.le=fi(t,di(e))),t.le}function fi(e,t){if("F"===e.limitType)return ni(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Rr(e.field,t)}));const n=e.endAt?new Pr(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Pr(e.startAt.position,e.startAt.inclusive):null;return ni(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function pi(e,t){const n=e.filters.concat([t]);return new oi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function mi(e,t,n){return new oi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function gi(e,t){return ii(hi(e),hi(t))&&e.limitType===t.limitType}function vi(e){return`${ri(hi(e))}|lt:${e.limitType}`}function yi(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Wr(e))).join(", ")}]`),zn(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>br(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>br(e))).join(",")),`Target(${t})`}(hi(e))}; limitType=${e.limitType})`}function bi(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Sn.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of di(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Dr(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,di(e),t))&&!(e.endAt&&!function(e,t,n){const r=Dr(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,di(e),t))}(e,t)}function wi(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function xi(e){return(t,n)=>{let r=!1;for(const i of di(e)){const e=_i(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function _i(e,t,n){const r=e.field.isKeyField()?Sn.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?gr(r,i):tn()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return tn()}}class Ci{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Gn(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Kn(this.inner)}size(){return this.innerSize}}const ki=new Yn(Sn.comparator);function Ei(){return ki}const Si=new Yn(Sn.comparator);function Ni(){let e=Si;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Ti(e){let t=Si;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function ji(){return Ai()}function Ii(){return Ai()}function Ai(){return new Ci((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Oi=new Yn(Sn.comparator),Pi=new Jn(Sn.comparator);function Di(){let e=Pi;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Mi=new Jn(yn);function Ri(){return Mi}function Li(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Un(t)?"-0":t}}function Fi(e){return{integerValue:""+e}}function zi(e,t){return Vn(t)?Fi(t):Li(e,t)}class Ui{constructor(){this._=void 0}}function Vi(e,t,n){return e instanceof Hi?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ar(t)&&(t=lr(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof qi?Wi(e,t):e instanceof Gi?Ki(e,t):function(e,t){const n=$i(e,t),r=Qi(n)+Qi(e.Pe);return _r(n)&&_r(e.Pe)?Fi(r):Li(e.serializer,r)}(e,t)}function Bi(e,t,n){return e instanceof qi?Wi(e,t):e instanceof Gi?Ki(e,t):n}function $i(e,t){return e instanceof Yi?function(e){return _r(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Hi extends Ui{}class qi extends Ui{constructor(e){super(),this.elements=e}}function Wi(e,t){const n=Xi(t);for(const r of e.elements)n.some((e=>pr(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Gi extends Ui{constructor(e){super(),this.elements=e}}function Ki(e,t){let n=Xi(t);for(const r of e.elements)n=n.filter((e=>!pr(e,r)));return{arrayValue:{values:n}}}class Yi extends Ui{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Qi(e){return sr(e.integerValue||e.doubleValue)}function Xi(e){return Cr(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ji{constructor(e,t){this.field=e,this.transform=t}}class Zi{constructor(e,t){this.version=e,this.transformResults=t}}class es{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new es}static exists(e){return new es(void 0,e)}static updateTime(e){return new es(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ts(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ns{}function rs(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new fs(e.key,es.none()):new ls(e.key,e.data,es.none());{const n=e.data,r=Ir.empty();let i=new Jn(En.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new cs(e.key,r,new er(i.toArray()),es.none())}}function is(e,t,n){e instanceof ls?function(e,t,n){const r=e.value.clone(),i=ds(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof cs?function(e,t,n){if(!ts(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=ds(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(us(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ss(e,t,n,r){return e instanceof ls?function(e,t,n,r){if(!ts(e.precondition,t))return n;const i=e.value.clone(),s=hs(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof cs?function(e,t,n,r){if(!ts(e.precondition,t))return n;const i=hs(e.fieldTransforms,r,t),s=t.data;return s.setAll(us(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return ts(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function os(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=$i(r.transform,e||null);null!=i&&(null===n&&(n=Ir.empty()),n.set(r.field,i))}return n||null}function as(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&bn(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof qi&&t instanceof qi||e instanceof Gi&&t instanceof Gi?bn(e.elements,t.elements,pr):e instanceof Yi&&t instanceof Yi?pr(e.Pe,t.Pe):e instanceof Hi&&t instanceof Hi}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ls extends ns{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class cs extends ns{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function us(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function ds(e,t,n){const r=new Map;nn(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Bi(o,a,n[i]))}return r}function hs(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Vi(e,s,t))}return r}class fs extends ns{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ps extends ns{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ms{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&is(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ss(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ss(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ii();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=rs(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(xn.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Di())}isEqual(e){return this.batchId===e.batchId&&bn(this.mutations,e.mutations,((e,t)=>as(e,t)))&&bn(this.baseMutations,e.baseMutations,((e,t)=>as(e,t)))}}class gs{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){nn(e.mutations.length===n.length);let r=Oi;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new gs(e,t,n,r)}}class vs{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ys{constructor(e,t){this.count=e,this.unchangedNames=t}}var bs,ws;function xs(e){switch(e){default:return tn();case sn.CANCELLED:case sn.UNKNOWN:case sn.DEADLINE_EXCEEDED:case sn.RESOURCE_EXHAUSTED:case sn.INTERNAL:case sn.UNAVAILABLE:case sn.UNAUTHENTICATED:return!1;case sn.INVALID_ARGUMENT:case sn.NOT_FOUND:case sn.ALREADY_EXISTS:case sn.PERMISSION_DENIED:case sn.FAILED_PRECONDITION:case sn.ABORTED:case sn.OUT_OF_RANGE:case sn.UNIMPLEMENTED:case sn.DATA_LOSS:return!0}}function _s(e){if(void 0===e)return Jt("GRPC error has no .code"),sn.UNKNOWN;switch(e){case bs.OK:return sn.OK;case bs.CANCELLED:return sn.CANCELLED;case bs.UNKNOWN:return sn.UNKNOWN;case bs.DEADLINE_EXCEEDED:return sn.DEADLINE_EXCEEDED;case bs.RESOURCE_EXHAUSTED:return sn.RESOURCE_EXHAUSTED;case bs.INTERNAL:return sn.INTERNAL;case bs.UNAVAILABLE:return sn.UNAVAILABLE;case bs.UNAUTHENTICATED:return sn.UNAUTHENTICATED;case bs.INVALID_ARGUMENT:return sn.INVALID_ARGUMENT;case bs.NOT_FOUND:return sn.NOT_FOUND;case bs.ALREADY_EXISTS:return sn.ALREADY_EXISTS;case bs.PERMISSION_DENIED:return sn.PERMISSION_DENIED;case bs.FAILED_PRECONDITION:return sn.FAILED_PRECONDITION;case bs.ABORTED:return sn.ABORTED;case bs.OUT_OF_RANGE:return sn.OUT_OF_RANGE;case bs.UNIMPLEMENTED:return sn.UNIMPLEMENTED;case bs.DATA_LOSS:return sn.DATA_LOSS;default:return tn()}}(ws=bs||(bs={}))[ws.OK=0]="OK",ws[ws.CANCELLED=1]="CANCELLED",ws[ws.UNKNOWN=2]="UNKNOWN",ws[ws.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ws[ws.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ws[ws.NOT_FOUND=5]="NOT_FOUND",ws[ws.ALREADY_EXISTS=6]="ALREADY_EXISTS",ws[ws.PERMISSION_DENIED=7]="PERMISSION_DENIED",ws[ws.UNAUTHENTICATED=16]="UNAUTHENTICATED",ws[ws.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ws[ws.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ws[ws.ABORTED=10]="ABORTED",ws[ws.OUT_OF_RANGE=11]="OUT_OF_RANGE",ws[ws.UNIMPLEMENTED=12]="UNIMPLEMENTED",ws[ws.INTERNAL=13]="INTERNAL",ws[ws.UNAVAILABLE=14]="UNAVAILABLE",ws[ws.DATA_LOSS=15]="DATA_LOSS";let Cs=null;function ks(){return new TextEncoder}const Es=new At([4294967295,4294967295],0);function Ss(e){const t=ks().encode(e),n=new Ot;return n.update(t),new Uint8Array(n.digest())}function Ns(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new At([n,r],0),new At([i,s],0)]}class Ts{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new js(`Invalid padding: ${t}`);if(n<0)throw new js(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new js(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new js(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=At.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(At.fromNumber(n)));return 1===r.compare(Es)&&(r=new At([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Ss(e),[n,r]=Ns(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Ts(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=Ss(e),[n,r]=Ns(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class js extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Is{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,As.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Is(xn.min(),r,new Yn(yn),Ei(),Di())}}class As{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new As(n,t,Di(),Di(),Di())}}class Os{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Ps{constructor(e,t){this.targetId=e,this.me=t}}class Ds{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nr.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Ms{constructor(){this.fe=0,this.ge=Fs(),this.pe=nr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Di(),t=Di(),n=Di();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:tn()}})),new As(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Fs()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,nn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Rs{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ei(),this.qe=Ls(),this.Qe=new Yn(yn)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:tn()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(si(i))if(0===n){const e=new Sn(i.path);this.Ue(t,e,Or.newNoDocument(e,xn.min()))}else nn(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Cs||Cs.et(function(e,t,n,r,i){var s,o,a,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=or(n).toUint8Array()}catch(e){if(e instanceof tr)return Zt("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Ts(s,r,i)}catch(e){return Zt(e instanceof js?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ie?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&si(i.target)){const t=new Sn(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,Or.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=Di();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new Is(e,t,this.Qe,this.ke,n);return this.ke=Ei(),this.qe=Ls(),this.Qe=new Yn(yn),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Ms,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Jn(yn),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Xt("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ms),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Ls(){return new Yn(Sn.comparator)}function Fs(){return new Yn(Sn.comparator)}const zs={asc:"ASCENDING",desc:"DESCENDING"},Us={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vs={and:"AND",or:"OR"};class Bs{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $s(e,t){return e.useProto3Json||zn(t)?t:{value:t}}function Hs(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function qs(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ws(e,t){return Hs(e,t.toTimestamp())}function Gs(e){return nn(!!e),xn.fromTimestamp(function(e){const t=ir(e);return new wn(t.seconds,t.nanos)}(e))}function Ks(e,t){return Ys(e,t).canonicalString()}function Ys(e,t){const n=function(e){return new Cn(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Qs(e){const t=Cn.fromString(e);return nn(vo(t)),t}function Xs(e,t){return Ks(e.databaseId,t.path)}function Js(e,t){const n=Qs(t);if(n.get(1)!==e.databaseId.projectId)throw new on(sn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new on(sn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Sn(no(n))}function Zs(e,t){return Ks(e.databaseId,t)}function eo(e){const t=Qs(e);return 4===t.length?Cn.emptyPath():no(t)}function to(e){return new Cn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function no(e){return nn(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ro(e,t,n){return{name:Xs(e,t),fields:n.value.mapValue.fields}}function io(e,t){let n;if(t instanceof ls)n={update:ro(e,t.key,t.value)};else if(t instanceof fs)n={delete:Xs(e,t.key)};else if(t instanceof cs)n={update:ro(e,t.key,t.data),updateMask:go(t.fieldMask)};else{if(!(t instanceof ps))return tn();n={verify:Xs(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Hi)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof qi)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Gi)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Yi)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw tn()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ws(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:tn()}(e,t.precondition)),n}function so(e,t){return{documents:[Zs(e,t.path)]}}function oo(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Zs(e,i);const s=function(e){if(0!==e.length)return mo(Ur.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:fo(e.field),direction:co(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=$s(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function ao(e){let t=eo(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){nn(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=lo(e);return t instanceof Ur&&Br(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Rr(po(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,zn(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Pr(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Pr(n,t)}(n.endAt)),ai(t,i,o,s,a,"F",l,c)}function lo(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=po(e.unaryFilter.field);return zr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=po(e.unaryFilter.field);return zr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=po(e.unaryFilter.field);return zr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=po(e.unaryFilter.field);return zr.create(i,"!=",{nullValue:"NULL_VALUE"});default:return tn()}}(e):void 0!==e.fieldFilter?function(e){return zr.create(po(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tn()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ur.create(e.compositeFilter.filters.map((e=>lo(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return tn()}}(e.compositeFilter.op))}(e):tn()}function co(e){return zs[e]}function uo(e){return Us[e]}function ho(e){return Vs[e]}function fo(e){return{fieldPath:e.canonicalString()}}function po(e){return En.fromServerFormat(e.fieldPath)}function mo(e){return e instanceof zr?function(e){if("=="===e.op){if(Er(e.value))return{unaryFilter:{field:fo(e.field),op:"IS_NAN"}};if(kr(e.value))return{unaryFilter:{field:fo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Er(e.value))return{unaryFilter:{field:fo(e.field),op:"IS_NOT_NAN"}};if(kr(e.value))return{unaryFilter:{field:fo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(e.field),op:uo(e.op),value:e.value}}}(e):e instanceof Ur?function(e){const t=e.getFilters().map((e=>mo(e)));return 1===t.length?t[0]:{compositeFilter:{op:ho(e.op),filters:t}}}(e):tn()}function go(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function vo(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class yo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:xn.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:xn.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:nr.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class bo{constructor(e){this.ct=e}}function wo(e){const t=ao({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?mi(t,t.limit,"L"):t}class xo{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(sr(e.integerValue));else if("doubleValue"in e){const n=sr(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Un(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=ir(n)),t.Rt(`${n.seconds||""}`),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(or(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?jr(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Nr(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):tn()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const s="value",o=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(sr(o)),this.Vt(s,t),this.Tt(i[s],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),Sn.fromName(e).path.forEach((e=>{this.dt(t,60),this.Dt(e,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}}xo.vt=new xo;class _o{constructor(){this.un=new Co}addToCollectionParentIndex(e,t){return this.un.add(t),Mn.resolve()}getCollectionParents(e,t){return Mn.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Mn.resolve()}deleteFieldIndex(e,t){return Mn.resolve()}deleteAllFieldIndexes(e){return Mn.resolve()}createTargetIndexes(e,t){return Mn.resolve()}getDocumentsMatchingTarget(e,t){return Mn.resolve(null)}getIndexType(e,t){return Mn.resolve(0)}getFieldIndexes(e,t){return Mn.resolve([])}getNextCollectionGroupToUpdate(e){return Mn.resolve(null)}getMinOffset(e,t){return Mn.resolve(In.min())}getMinOffsetFromCollectionGroup(e,t){return Mn.resolve(In.min())}updateCollectionGroup(e,t,n){return Mn.resolve()}updateIndexEntries(e,t){return Mn.resolve()}}class Co{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Jn(Cn.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Jn(Cn.comparator)).toArray()}}new Uint8Array(0);class ko{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new ko(e,ko.DEFAULT_COLLECTION_PERCENTILE,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ko.DEFAULT_COLLECTION_PERCENTILE=10,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ko.DEFAULT=new ko(41943040,ko.DEFAULT_COLLECTION_PERCENTILE,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ko.DISABLED=new ko(-1,0,0);class Eo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Eo(0)}static kn(){return new Eo(-1)}}class So{constructor(){this.changes=new Ci((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Or.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Mn.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class No{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class To{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&ss(n.mutation,e,er.empty(),wn.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Di()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Di();const r=ji();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Ni();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=ji();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Di())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Ei();const s=Ai(),o=Ai();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof cs)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),ss(o.mutation,t,o.mutation.getFieldMask(),wn.now())):s.set(t.key,er.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new No(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Ai();let r=new Yn(((e,t)=>e-t)),i=Di();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||er.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Di()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=Ii();l.forEach((e=>{if(!i.has(e)){const r=rs(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Mn.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Sn.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ui(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Mn.resolve(ji());let o=-1,a=i;return s.next((t=>Mn.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Mn.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Di()))).next((e=>({batchId:o,changes:Ti(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Sn(t)).next((e=>{let t=Ni();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Ni();return this.indexManager.getCollectionParents(e,i).next((o=>Mn.forEach(o,(o=>{const a=function(e,t){return new oi(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Or.newInvalidDocument(r)))}));let n=Ni();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&ss(s.mutation,r,er.empty(),wn.now()),bi(t,r)&&(n=n.insert(e,r))})),n}))}}class jo{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Mn.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Gs(e.createTime)}}(t)),Mn.resolve()}getNamedQuery(e,t){return Mn.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:wo(e.bundledQuery),readTime:Gs(e.readTime)}}(t)),Mn.resolve()}}class Io{constructor(){this.overlays=new Yn(Sn.comparator),this.Ir=new Map}getOverlay(e,t){return Mn.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ji();return Mn.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Mn.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ir.delete(n)),Mn.resolve()}getOverlaysForCollection(e,t,n){const r=ji(),i=t.length+1,s=new Sn(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Mn.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Yn(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ji(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=ji(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Mn.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new vs(t,n));let i=this.Ir.get(t);void 0===i&&(i=Di(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class Ao{constructor(){this.sessionToken=nr.EMPTY_BYTE_STRING}getSessionToken(e){return Mn.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Mn.resolve()}}class Oo{constructor(){this.Tr=new Jn(Po.Er),this.dr=new Jn(Po.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new Po(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Vr(new Po(e,t))}mr(e,t){e.forEach((e=>this.removeReference(e,t)))}gr(e){const t=new Sn(new Cn([])),n=new Po(t,e),r=new Po(t,e+1),i=[];return this.dr.forEachInRange([n,r],(e=>{this.Vr(e),i.push(e.key)})),i}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Sn(new Cn([])),n=new Po(t,e),r=new Po(t,e+1);let i=Di();return this.dr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Po(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Po{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Sn.comparator(e.key,t.key)||yn(e.wr,t.wr)}static Ar(e,t){return yn(e.wr,t.wr)||Sn.comparator(e.key,t.key)}}class Do{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Jn(Po.Er)}checkEmpty(e){return Mn.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new ms(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.br=this.br.add(new Po(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Mn.resolve(s)}lookupMutationBatch(e,t){return Mn.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return Mn.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Mn.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return Mn.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Po(t,0),r=new Po(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],(e=>{const t=this.Dr(e.wr);i.push(t)})),Mn.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Jn(yn);return t.forEach((e=>{const t=new Po(e,0),r=new Po(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],(e=>{n=n.add(e.wr)}))})),Mn.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Sn.isDocumentKey(i)||(i=i.child(""));const s=new Po(new Sn(i),0);let o=new Jn(yn);return this.br.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.wr)),!0)}),s),Mn.resolve(this.Cr(o))}Cr(e){const t=[];return e.forEach((e=>{const n=this.Dr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){nn(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return Mn.forEach(t.mutations,(r=>{const i=new Po(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new Po(t,0),r=this.br.firstAfterOrEqual(n);return Mn.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Mn.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Mo{constructor(e){this.Mr=e,this.docs=new Yn(Sn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Mn.resolve(n?n.document.mutableCopy():Or.newInvalidDocument(t))}getEntries(e,t){let n=Ei();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Or.newInvalidDocument(e))})),Mn.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Ei();const s=t.path,o=new Sn(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||An(jn(o),n)<=0||(r.has(o.key)||bi(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Mn.resolve(i)}getAllFromCollectionGroup(e,t,n,r){tn()}Or(e,t){return Mn.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Ro(this)}getSize(e){return Mn.resolve(this.size)}}class Ro extends So{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)})),Mn.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class Lo{constructor(e){this.persistence=e,this.Nr=new Ci((e=>ri(e)),ii),this.lastRemoteSnapshotVersion=xn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Oo,this.targetCount=0,this.kr=Eo.Bn()}forEachTarget(e,t){return this.Nr.forEach(((e,n)=>t(n))),Mn.resolve()}getLastRemoteSnapshotVersion(e){return Mn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Mn.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Mn.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),Mn.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Eo(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Mn.resolve()}updateTargetData(e,t){return this.Kn(t),Mn.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Mn.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Mn.waitFor(i).next((()=>r))}getTargetCount(e){return Mn.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return Mn.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),Mn.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Mn.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Mn.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return Mn.resolve(n)}containsKey(e,t){return Mn.resolve(this.Br.containsKey(t))}}class Fo{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Fn(0),this.Kr=!1,this.Kr=!0,this.$r=new Ao,this.referenceDelegate=e(this),this.Ur=new Lo(this),this.indexManager=new _o,this.remoteDocumentCache=function(e){return new Mo(e)}((e=>this.referenceDelegate.Wr(e))),this.serializer=new bo(t),this.Gr=new jo(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Io,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new Do(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){Xt("MemoryPersistence","Starting transaction:",e);const r=new zo(this.Qr.next());return this.referenceDelegate.zr(),n(r).next((e=>this.referenceDelegate.jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Hr(e,t){return Mn.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class zo extends Pn{constructor(e){super(),this.currentSequenceNumber=e}}class Uo{constructor(e){this.persistence=e,this.Jr=new Oo,this.Yr=null}static Zr(e){return new Uo(e)}get Xr(){if(this.Yr)return this.Yr;throw tn()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),Mn.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),Mn.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Mn.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((e=>this.Xr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Mn.forEach(this.Xr,(n=>{const r=Sn.fromPath(n);return this.ei(e,r).next((e=>{e||t.removeEntry(r,xn.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return Mn.or([()=>Mn.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Vo{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=Di(),r=Di();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Vo(e,t.fromCache,n,r)}}class Bo{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class $o{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=q()?8:Rn(H())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Zi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Bo;return this.Xi(e,t,n).next((r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)}))})).next((()=>i.result))}es(e,t,n,r){return n.documentReadCount<this.ji?(Qt()<=ce.DEBUG&&Xt("QueryEngine","SDK will not create cache indexes for query:",yi(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Mn.resolve()):(Qt()<=ce.DEBUG&&Xt("QueryEngine","Query:",yi(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(Qt()<=ce.DEBUG&&Xt("QueryEngine","The SDK decides to create cache indexes for query:",yi(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hi(t))):Mn.resolve())}Yi(e,t){if(ci(t))return Mn.resolve(null);let n=hi(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=mi(t,null,"F"),n=hi(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Di(...r);return this.Ji.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ts(t,r);return this.ns(t,s,i,n.readTime)?this.Yi(e,mi(t,null,"F")):this.rs(e,s,t,n)}))))})))))}Zi(e,t,n,r){return ci(t)||r.isEqual(xn.min())?Mn.resolve(null):this.Ji.getDocuments(e,n).next((i=>{const s=this.ts(t,i);return this.ns(t,s,n,r)?Mn.resolve(null):(Qt()<=ce.DEBUG&&Xt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),yi(t)),this.rs(e,s,t,Tn(r,-1)).next((e=>e)))}))}ts(e,t){let n=new Jn(xi(e));return t.forEach(((t,r)=>{bi(e,r)&&(n=n.add(r))})),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return Qt()<=ce.DEBUG&&Xt("QueryEngine","Using full collection scan to execute query:",yi(t)),this.Ji.getDocumentsMatchingQuery(e,t,In.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Ho{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new Yn(yn),this._s=new Ci((e=>ri(e)),ii),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new To(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function qo(e,t,n,r){return new Ho(e,t,n,r)}async function Wo(e,t){const n=rn(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Di();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({hs:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Go(e){const t=rn(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function Ko(e,t,n){let r=Di(),i=Di();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Ei();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(xn.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Xt("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{Ps:r,Is:i}}))}function Yo(e,t){const n=rn(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Qo(e,t){const n=rn(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ur.getTargetData(e,t).next((i=>i?(r=i,Mn.resolve(r)):n.Ur.allocateTargetId(e).next((i=>(r=new yo(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e}))}async function Xo(e,t,n){const r=rn(e),i=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Ln(e))throw e;Xt("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function Jo(e,t,n){const r=rn(e);let i=xn.min(),s=Di();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=rn(e),i=r._s.get(n);return void 0!==i?Mn.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,hi(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:xn.min(),n?s:Di()))).next((e=>(Zo(r,wi(t),e),{documents:e,Ts:s})))))}function Zo(e,t,n){let r=e.us.get(t)||xn.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.us.set(t,r)}class ea{constructor(){this.activeTargetIds=Ri()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ta{constructor(){this.so=new ea,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ea,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class na{_o(e){}shutdown(){}}class ra{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Xt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Xt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ia=null;function sa(){return null===ia?ia=268435456+Math.round(2147483648*Math.random()):ia++,"0x"+ia.toString(16)}const oa={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aa{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const la="WebChannelConnection";class ca extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo=`projects/${n}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Fo(){return!1}Mo(e,t,n,r,i){const s=sa(),o=this.xo(e,t.toUriEncodedString());Xt("RestConnection",`Sending RPC '${e}' ${s}:`,o,n);const a={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(a,r,i),this.No(e,o,a,n).then((t=>(Xt("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw Zt("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t}))}Lo(e,t,n,r,i,s){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Kt,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}xo(e,t){const n=oa[e];return`${this.Do}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=sa();return new Promise(((s,o)=>{const a=new Mt;a.setWithCredentials(!0),a.listenOnce(Ft.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case zt.NO_ERROR:const t=a.getResponseJson();Xt(la,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case zt.TIMEOUT:Xt(la,`RPC '${e}' ${i} timed out`),o(new on(sn.DEADLINE_EXCEEDED,"Request time out"));break;case zt.HTTP_ERROR:const n=a.getStatus();if(Xt(la,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(sn).indexOf(t)>=0?t:sn.UNKNOWN}(t.status);o(new on(e,t.message))}else o(new on(sn.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new on(sn.UNAVAILABLE,"Connection failed."));break;default:tn()}}finally{Xt(la,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);Xt(la,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}Bo(e,t,n){const r=sa(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=$t(),o=Bt(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new Rt({})),this.Oo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Xt(la,`Creating RPC '${e}' stream ${r}: ${c}`,a);const u=s.createWebChannel(c,a);let d=!1,h=!1;const f=new aa({Io:t=>{h?Xt(la,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Xt(la,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),Xt(la,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},To:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Lt.EventType.OPEN,(()=>{h||(Xt(la,`RPC '${e}' stream ${r} transport opened.`),f.yo())})),p(u,Lt.EventType.CLOSE,(()=>{h||(h=!0,Xt(la,`RPC '${e}' stream ${r} transport closed`),f.So())})),p(u,Lt.EventType.ERROR,(t=>{h||(h=!0,Zt(la,`RPC '${e}' stream ${r} transport errored:`,t),f.So(new on(sn.UNAVAILABLE,"The operation could not be completed")))})),p(u,Lt.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];nn(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Xt(la,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=bs[e];if(void 0!==t)return _s(t)}(t),i=o.message;void 0===n&&(n=sn.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,f.So(new on(n,i)),u.close()}else Xt(la,`RPC '${e}' stream ${r} received:`,i),f.bo(i)}})),p(o,Vt.STAT_EVENT,(t=>{t.stat===Ut.PROXY?Xt(la,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Ut.NOPROXY&&Xt(la,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.wo()}),0),f}}function ua(){return"undefined"!=typeof document?document:null}function da(e){return new Bs(e,!0)}class ha{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&Xt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class fa{constructor(e,t,n,r,i,s,o,a){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ha(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===sn.RESOURCE_EXHAUSTED?(Jt(t.toString()),Jt("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===sn.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)}),(t=>{e((()=>{const e=new on(sn.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((e=>{n((()=>this.I_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.e_?this.E_(e):this.onNext(e)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Xt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(Xt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pa extends fa{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:tn()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(nn(void 0===t||"string"==typeof t),nr.fromBase64String(t||"")):(nn(void 0===t||t instanceof Buffer||t instanceof Uint8Array),nr.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?sn.UNKNOWN:_s(e.code);return new on(t,e.message||"")}(o);n=new Ds(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Js(e,r.document.name),s=Gs(r.document.updateTime),o=r.document.createTime?Gs(r.document.createTime):xn.min(),a=new Ir({mapValue:{fields:r.document.fields}}),l=Or.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Os(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Js(e,r.document),s=r.readTime?Gs(r.readTime):xn.min(),o=Or.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Os([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Js(e,r.document),s=r.removedTargetIds||[];n=new Os([],s,i,null)}else{if(!("filter"in t))return tn();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new ys(r,i),o=e.targetId;n=new Ps(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return xn.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?xn.min():t.readTime?Gs(t.readTime):xn.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=to(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=si(r)?{documents:so(e,r)}:{query:oo(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=qs(e,t.resumeToken);const r=$s(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(xn.min())>0){n.readTime=Hs(e,t.snapshotVersion.toTimestamp());const r=$s(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tn()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=to(this.serializer),t.removeTarget=e,this.a_(t)}}class ma extends fa{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return nn(!!e.streamToken),this.lastStreamToken=e.streamToken,nn(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){nn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(nn(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Gs(e.updateTime):Gs(t);return n.isEqual(xn.min())&&(n=Gs(t)),new Zi(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Gs(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=to(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>io(this.serializer,e)))};this.a_(t)}}class ga extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new on(sn.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Mo(e,Ys(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===sn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new on(sn.UNKNOWN,e.toString())}))}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.Lo(e,Ys(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===sn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new on(sn.UNKNOWN,e.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class va{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Jt(t),this.D_=!1):Xt("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class ya{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o((e=>{n.enqueueAndForget((async()=>{Na(this)&&(Xt("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=rn(e);t.L_.add(4),await wa(t),t.q_.set("Unknown"),t.L_.delete(4),await ba(t)}(this))}))})),this.q_=new va(n,r)}}async function ba(e){if(Na(e))for(const t of e.B_)await t(!0)}async function wa(e){for(const t of e.B_)await t(!1)}function xa(e,t){const n=rn(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),Sa(n)?Ea(n):Wa(n).r_()&&Ca(n,t))}function _a(e,t){const n=rn(e),r=Wa(n);n.N_.delete(t),r.r_()&&ka(n,t),0===n.N_.size&&(r.r_()?r.o_():Na(n)&&n.q_.set("Unknown"))}function Ca(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xn.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Wa(e).A_(t)}function ka(e,t){e.Q_.xe(t),Wa(e).R_(t)}function Ea(e){e.Q_=new Rs({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Wa(e).start(),e.q_.v_()}function Sa(e){return Na(e)&&!Wa(e).n_()&&e.N_.size>0}function Na(e){return 0===rn(e).L_.size}function Ta(e){e.Q_=void 0}async function ja(e){e.q_.set("Online")}async function Ia(e){e.N_.forEach(((t,n)=>{Ca(e,t)}))}async function Aa(e,t){Ta(e),Sa(e)?(e.q_.M_(t),Ea(e)):e.q_.set("Unknown")}async function Oa(e,t,n){if(e.q_.set("Online"),t instanceof Ds&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){Xt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Pa(e,n)}else if(t instanceof Os?e.Q_.Ke(t):t instanceof Ps?e.Q_.He(t):e.Q_.We(t),!n.isEqual(xn.min()))try{const t=await Go(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(nr.EMPTY_BYTE_STRING,r.snapshotVersion)),ka(e,t);const i=new yo(r.target,t,n,r.sequenceNumber);Ca(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Xt("RemoteStore","Failed to raise snapshot:",t),await Pa(e,t)}}async function Pa(e,t,n){if(!Ln(t))throw t;e.L_.add(1),await wa(e),e.q_.set("Offline"),n||(n=()=>Go(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Xt("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await ba(e)}))}function Da(e,t){return t().catch((n=>Pa(e,n,t)))}async function Ma(e){const t=rn(e),n=Ga(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Ra(t);)try{const e=await Yo(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,La(t,e)}catch(e){await Pa(t,e)}Fa(t)&&za(t)}function Ra(e){return Na(e)&&e.O_.length<10}function La(e,t){e.O_.push(t);const n=Ga(e);n.r_()&&n.V_&&n.m_(t.mutations)}function Fa(e){return Na(e)&&!Ga(e).n_()&&e.O_.length>0}function za(e){Ga(e).start()}async function Ua(e){Ga(e).p_()}async function Va(e){const t=Ga(e);for(const n of e.O_)t.m_(n.mutations)}async function Ba(e,t,n){const r=e.O_.shift(),i=gs.from(r,t,n);await Da(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Ma(e)}async function $a(e,t){t&&Ga(e).V_&&await async function(e,t){if(function(e){return xs(e)&&e!==sn.ABORTED}(t.code)){const n=e.O_.shift();Ga(e).s_(),await Da(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Ma(e)}}(e,t),Fa(e)&&za(e)}async function Ha(e,t){const n=rn(e);n.asyncQueue.verifyOperationInProgress(),Xt("RemoteStore","RemoteStore received new credentials");const r=Na(n);n.L_.add(3),await wa(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await ba(n)}async function qa(e,t){const n=rn(e);t?(n.L_.delete(2),await ba(n)):t||(n.L_.add(2),await wa(n),n.q_.set("Unknown"))}function Wa(e){return e.K_||(e.K_=function(e,t,n){const r=rn(e);return r.w_(),new pa(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:ja.bind(null,e),Ro:Ia.bind(null,e),mo:Aa.bind(null,e),d_:Oa.bind(null,e)}),e.B_.push((async t=>{t?(e.K_.s_(),Sa(e)?Ea(e):e.q_.set("Unknown")):(await e.K_.stop(),Ta(e))}))),e.K_}function Ga(e){return e.U_||(e.U_=function(e,t,n){const r=rn(e);return r.w_(),new ma(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Ua.bind(null,e),mo:$a.bind(null,e),f_:Va.bind(null,e),g_:Ba.bind(null,e)}),e.B_.push((async t=>{t?(e.U_.s_(),await Ma(e)):(await e.U_.stop(),e.O_.length>0&&(Xt("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))}))),e.U_}class Ka{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new an,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Ka(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new on(sn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ya(e,t){if(Jt("AsyncQueue",`${t}: ${e}`),Ln(e))return new on(sn.UNAVAILABLE,`${t}: ${e}`);throw e}class Qa{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Sn.comparator(t.key,n.key):(e,t)=>Sn.comparator(e.key,t.key),this.keyedMap=Ni(),this.sortedSet=new Yn(this.comparator)}static emptySet(e){return new Qa(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qa))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Qa;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Xa{constructor(){this.W_=new Yn(Sn.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):tn():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Ja{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Ja(e,t,Qa.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gi(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Za{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class el{constructor(){this.queries=tl(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=rn(e),r=n.queries;n.queries=tl(),r.forEach(((e,n)=>{for(const r of n.j_)r.onError(t)}))}(this,new on(sn.ABORTED,"Firestore shutting down"))}}function tl(){return new Ci((e=>vi(e)),gi)}async function nl(e,t){const n=rn(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.H_()&&t.J_()&&(r=2):(s=new Za,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Ya(e,`Initialization of query '${yi(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&ol(n)}async function rl(e,t){const n=rn(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.j_.indexOf(t);e>=0&&(s.j_.splice(e,1),0===s.j_.length?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function il(e,t){const n=rn(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&ol(n)}function sl(e,t,n){const r=rn(e),i=r.queries.get(t);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(t)}function ol(e){e.Y_.forEach((e=>{e.next()}))}var al,ll;(ll=al||(al={})).ea="default",ll.Cache="cache";class cl{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Ja(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=Ja.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==al.Cache}}class ul{constructor(e){this.key=e}}class dl{constructor(e){this.key=e}}class hl{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Di(),this.mutatedKeys=Di(),this.Aa=xi(e),this.Ra=new Qa(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new Xa,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=bi(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Aa(u,a)>0||l&&this.Aa(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:s,fa:n,ns:o,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tn()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc))),this.pa(n),r=null!=r&&r;const o=t&&!r?this.ya():[],a=0===this.da.size&&this.current&&!r?1:0,l=a!==this.Ea;return this.Ea=a,0!==s.length||l?{snapshot:new Ja(this.query,e.Ra,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Xa,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Di(),this.Ra.forEach((e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))}));const t=[];return e.forEach((e=>{this.da.has(e)||t.push(new dl(e))})),this.da.forEach((n=>{e.has(n)||t.push(new ul(n))})),t}ba(e){this.Ta=e.Ts,this.da=Di();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Ja.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class fl{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class pl{constructor(e){this.key=e,this.va=!1}}class ml{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Ci((e=>vi(e)),gi),this.Ma=new Map,this.xa=new Set,this.Oa=new Yn(Sn.comparator),this.Na=new Map,this.La=new Oo,this.Ba={},this.ka=new Map,this.qa=Eo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function gl(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Ll(e);let i;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await yl(r,t,n,!0),i}async function vl(e,t){const n=Ll(e);await yl(n,t,!0,!1)}async function yl(e,t,n,r){const i=await Qo(e.localStore,hi(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await bl(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&xa(e.remoteStore,i),a}async function bl(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await Jo(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ma(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return Al(e,t.targetId,a.wa),a.snapshot}(e,t,n,r);const s=await Jo(e.localStore,t,!0),o=new hl(t,s.Ts),a=o.ma(s.documents),l=As.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);Al(e,n,c.wa);const u=new fl(t,n,o);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function wl(e,t,n){const r=rn(e),i=r.Fa.get(t),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter((e=>!gi(e,t)))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Xo(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&_a(r.remoteStore,i.targetId),jl(r,i.targetId)})).catch(Dn)):(jl(r,i.targetId),await Xo(r.localStore,i.targetId,!0))}async function xl(e,t){const n=rn(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_a(n.remoteStore,r.targetId))}async function _l(e,t){const n=rn(e);try{const e=await function(e,t){const n=rn(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Ur.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Ur.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(nr.EMPTY_BYTE_STRING,xn.min()).withLastLimboFreeSnapshotVersion(xn.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Ur.updateTargetData(e,c))}));let a=Ei(),l=Di();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Ko(e,s,t.documentUpdates).next((e=>{a=e.Ps,l=e.Is}))),!r.isEqual(xn.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next((t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Mn.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.os=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Na.get(t);r&&(nn(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?nn(r.va):e.removedDocuments.size>0&&(nn(r.va),r.va=!1))})),await Dl(n,e,t)}catch(e){await Dn(e)}}function Cl(e,t,n){const r=rn(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach(((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=rn(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)})),r&&ol(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function kl(e,t,n){const r=rn(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),s=i&&i.key;if(s){let e=new Yn(Sn.comparator);e=e.insert(s,Or.newNoDocument(s,xn.min()));const n=Di().add(s),i=new Is(xn.min(),new Map,new Yn(yn),e,n);await _l(r,i),r.Oa=r.Oa.remove(s),r.Na.delete(t),Pl(r)}else await Xo(r.localStore,t,!1).then((()=>jl(r,t,n))).catch(Dn)}async function El(e,t){const n=rn(e),r=t.batch.batchId;try{const e=await function(e,t){const n=rn(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Mn.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);nn(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Di();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Tl(n,r,null),Nl(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Dl(n,e)}catch(e){await Dn(e)}}async function Sl(e,t,n){const r=rn(e);try{const e=await function(e,t){const n=rn(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(nn(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Tl(r,t,n),Nl(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Dl(r,e)}catch(n){await Dn(n)}}function Nl(e,t){(e.ka.get(t)||[]).forEach((e=>{e.resolve()})),e.ka.delete(t)}function Tl(e,t,n){const r=rn(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function jl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((t=>{e.La.containsKey(t)||Il(e,t)}))}function Il(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(_a(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),Pl(e))}function Al(e,t,n){for(const r of n)r instanceof ul?(e.La.addReference(r.key,t),Ol(e,r)):r instanceof dl?(Xt("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||Il(e,r.key)):tn()}function Ol(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(Xt("SyncEngine","New document in limbo: "+n),e.xa.add(r),Pl(e))}function Pl(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new Sn(Cn.fromString(t)),r=e.qa.next();e.Na.set(r,new pl(n)),e.Oa=e.Oa.insert(n,r),xa(e.remoteStore,new yo(hi(li(n.path)),r,"TargetPurposeLimboResolution",Fn.oe))}}async function Dl(e,t,n){const r=rn(e),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach(((e,a)=>{o.push(r.Ka(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Vo.Wi(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Ca.d_(i),await async function(e,t){const n=rn(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Mn.forEach(t,(t=>Mn.forEach(t.$i,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Mn.forEach(t.Ui,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Ln(e))throw e;Xt("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,s))}async function Ml(e,t){const n=rn(e);if(!n.currentUser.isEqual(t)){Xt("SyncEngine","User change. New user:",t.toKey());const e=await Wo(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach((e=>{e.forEach((e=>{e.reject(new on(sn.CANCELLED,t))}))})),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Dl(n,e.hs)}}function Rl(e,t){const n=rn(e),r=n.Na.get(t);if(r&&r.va)return Di().add(r.key);{let e=Di();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function Ll(e){const t=rn(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=_l.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rl.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kl.bind(null,t),t.Ca.d_=il.bind(null,t.eventManager),t.Ca.$a=sl.bind(null,t.eventManager),t}function Fl(e){const t=rn(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=El.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Sl.bind(null,t),t}class zl{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=da(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return qo(this.persistence,new $o,e.initialUser,this.serializer)}createPersistence(e){return new Fo(Uo.Zr,this.serializer)}createSharedClientState(e){return new ta}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Ul{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Cl(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ml.bind(null,this.syncEngine),await qa(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new el}createDatastore(e){const t=da(e.databaseInfo.databaseId),n=function(e){return new ca(e)}(e.databaseInfo);return function(e,t,n,r){return new ga(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new ya(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Cl(this.syncEngine,e,0)),ra.D()?new ra:new na)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new ml(e,t,n,r,i,s);return o&&(a.Qa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=rn(e);Xt("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await wa(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}class Vl{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Jt("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Bl{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Gt.UNAUTHENTICATED,this.clientId=vn.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Xt("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Xt("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new on(sn.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new an;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ya(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function $l(e,t){e.asyncQueue.verifyOperationInProgress(),Xt("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Wo(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Hl(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Wl(e);Xt("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Ha(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Ha(t.remoteStore,n))),e._onlineComponents=t}function ql(e){return"FirebaseError"===e.name?e.code===sn.FAILED_PRECONDITION||e.code===sn.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Wl(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Xt("FirestoreClient","Using user provided OfflineComponentProvider");try{await $l(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!ql(n))throw n;Zt("Error using user provided cache. Falling back to memory cache: "+n),await $l(e,new zl)}}else Xt("FirestoreClient","Using default OfflineComponentProvider"),await $l(e,new zl);return e._offlineComponents}async function Gl(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Xt("FirestoreClient","Using user provided OnlineComponentProvider"),await Hl(e,e._uninitializedComponentsProvider._online)):(Xt("FirestoreClient","Using default OnlineComponentProvider"),await Hl(e,new Ul))),e._onlineComponents}function Kl(e){return Gl(e).then((e=>e.syncEngine))}async function Yl(e){const t=await Gl(e),n=t.eventManager;return n.onListen=gl.bind(null,t.syncEngine),n.onUnlisten=wl.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=vl.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=xl.bind(null,t.syncEngine),n}function Ql(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new an;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Vl({next:s=>{t.enqueueAndForget((()=>rl(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new on(sn.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new on(sn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new cl(li(n.path),s,{includeMetadataChanges:!0,_a:!0});return nl(e,o)}(await Yl(e),e.asyncQueue,t,n,r))),r.promise}function Xl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new an;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Vl({next:n=>{t.enqueueAndForget((()=>rl(e,o))),n.fromCache&&"server"===r.source?i.reject(new on(sn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new cl(n,s,{includeMetadataChanges:!0,_a:!0});return nl(e,o)}(await Yl(e),e.asyncQueue,t,n,r))),r.promise}function Jl(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Zl=new Map;function ec(e,t,n){if(!n)throw new on(sn.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function tc(e){if(!Sn.isDocumentKey(e))throw new on(sn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function nc(e){if(Sn.isDocumentKey(e))throw new on(sn.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function rc(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":tn()}function ic(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new on(sn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rc(e);throw new on(sn.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class sc{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new on(sn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new on(sn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new on(sn.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jl(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new on(sn.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new on(sn.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new on(sn.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oc{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sc({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new on(sn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new on(sn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sc(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new cn;switch(e.type){case"firstParty":return new fn(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new on(sn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Zl.get(e);t&&(Xt("ComponentProvider","Removing Datastore"),Zl.delete(e),t.terminate())}(this),Promise.resolve()}}class ac{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ac(this.firestore,e,this._query)}}class lc{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lc(this.firestore,e,this._key)}}class cc extends ac{constructor(e,t,n){super(e,t,li(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lc(this.firestore,null,new Sn(e))}withConverter(e){return new cc(this.firestore,e,this._path)}}function uc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=re(e),ec("collection","path",t),e instanceof oc){const n=Cn.fromString(t,...r);return nc(n),new cc(e,null,n)}{if(!(e instanceof lc||e instanceof cc))throw new on(sn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Cn.fromString(t,...r));return nc(n),new cc(e.firestore,null,n)}}function dc(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=re(e),1===arguments.length&&(t=vn.newId()),ec("doc","path",t),e instanceof oc){const n=Cn.fromString(t,...r);return tc(n),new lc(e,null,new Sn(n))}{if(!(e instanceof lc||e instanceof cc))throw new on(sn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Cn.fromString(t,...r));return tc(n),new lc(e.firestore,e instanceof cc?e.converter:null,new Sn(n))}}class hc{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new ha(this,"async_queue_retry"),this.Eu=()=>{const e=ua();e&&Xt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()};const e=ua();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const t=ua();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise((()=>{}));const t=new an;return this.Au((()=>this.cu&&this.Iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.uu.push(e),this.Ru())))}async Ru(){if(0!==this.uu.length){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Ln(e))throw e;Xt("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go((()=>this.Ru()))}}Au(e){const t=this.au.then((()=>(this.Pu=!0,e().catch((e=>{this.hu=e,this.Pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Jt("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Pu=!1,e))))));return this.au=t,t}enqueueAfterDelay(e,t,n){this.du(),this.Tu.indexOf(e)>-1&&(t=0);const r=Ka.createAndSchedule(this,e,t,n,(e=>this.Vu(e)));return this.lu.push(r),r}du(){this.hu&&tn()}verifyOperationInProgress(){}async mu(){let e;do{e=this.au,await e}while(e!==this.au)}fu(e){for(const t of this.lu)if(t.timerId===e)return!0;return!1}gu(e){return this.mu().then((()=>{this.lu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.lu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.mu()}))}pu(e){this.Tu.push(e)}Vu(e){const t=this.lu.indexOf(e);this.lu.splice(t,1)}}class fc extends oc{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new hc,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||mc(this),this._firestoreClient.terminate()}}function pc(e){return e._firestoreClient||mc(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function mc(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new ur(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Jl(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Bl(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class gc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gc(nr.fromBase64String(e))}catch(e){throw new on(sn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new gc(nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class vc{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new on(sn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new En(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yc{constructor(e){this._methodName=e}}class bc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new on(sn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new on(sn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return yn(this._lat,e._lat)||yn(this._long,e._long)}}class wc{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const xc=/^__.*__$/;class _c{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new cs(e,this.data,this.fieldMask,t,this.fieldTransforms):new ls(e,this.data,t,this.fieldTransforms)}}class Cc{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new cs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function kc(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tn()}}class Ec{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.yu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new Ec(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Du:!1});return r.vu(e),r}Cu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Du:!1});return r.yu(),r}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Vc(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(0===e.length)throw this.Mu("Document fields must not be empty");if(kc(this.wu)&&xc.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class Sc{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||da(e)}Nu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Ec({wu:e,methodName:t,Ou:n,path:En.emptyPath(),Du:!1,xu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nc(e){const t=e._freezeSettings(),n=da(e._databaseId);return new Sc(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Tc(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Nu(s.merge||s.mergeFields?2:0,t,n,i);Lc("Data must be an object, but it was:",o,r);const a=Mc(r,o);let l,c;if(s.merge)l=new er(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Fc(t,r,n);if(!o.contains(i))throw new on(sn.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Bc(e,i)||e.push(i)}l=new er(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new _c(new Ir(a),l,c)}class jc extends yc{_toFieldTransform(e){if(2!==e.wu)throw 1===e.wu?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jc}}class Ic extends yc{_toFieldTransform(e){return new Ji(e.path,new Hi)}isEqual(e){return e instanceof Ic}}function Ac(e,t,n,r){const i=e.Nu(1,t,n);Lc("Data must be an object, but it was:",i,r);const s=[],o=Ir.empty();Gn(r,((e,r)=>{const a=Uc(t,e,n);r=re(r);const l=i.Cu(a);if(r instanceof jc)s.push(a);else{const e=Dc(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new er(s);return new Cc(o,a,i.fieldTransforms)}function Oc(e,t,n,r,i,s){const o=e.Nu(1,t,n),a=[Fc(t,r,n)],l=[i];if(s.length%2!=0)throw new on(sn.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Fc(t,s[h])),l.push(s[h+1]);const c=[],u=Ir.empty();for(let h=a.length-1;h>=0;--h)if(!Bc(c,a[h])){const e=a[h];let t=l[h];t=re(t);const n=o.Cu(e);if(t instanceof jc)c.push(e);else{const r=Dc(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new er(c);return new Cc(u,d,o.fieldTransforms)}function Pc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Dc(n,e.Nu(r?4:3,t))}function Dc(e,t){if(Rc(e=re(e)))return Lc("Unsupported field value:",t,e),Mc(e,t);if(e instanceof yc)return function(e,t){if(!kc(t.wu))throw t.Mu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Mu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Du&&4!==t.wu)throw t.Mu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Dc(i,t.Fu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=re(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zi(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=wn.fromDate(e);return{timestampValue:Hs(t.serializer,n)}}if(e instanceof wn){const n=new wn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Hs(t.serializer,n)}}if(e instanceof bc)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof gc)return{bytesValue:qs(t.serializer,e._byteString)};if(e instanceof lc){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Mu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Ks(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof wc)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Mu("VectorValues must only contain numeric values.");return Li(t.serializer,e)}))}}}}}}(e,t);throw t.Mu(`Unsupported field value: ${rc(e)}`)}(e,t)}function Mc(e,t){const n={};return Kn(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Gn(e,((e,r)=>{const i=Dc(r,t.bu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Rc(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof wn||e instanceof bc||e instanceof gc||e instanceof lc||e instanceof yc||e instanceof wc)}function Lc(e,t,n){if(!Rc(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=rc(n);throw"an object"===r?t.Mu(e+" a custom object"):t.Mu(e+" "+r)}}function Fc(e,t,n){if((t=re(t))instanceof vc)return t._internalPath;if("string"==typeof t)return Uc(e,t);throw Vc("Field path arguments must be of type string or ",e,!1,void 0,n)}const zc=new RegExp("[~\\*/\\[\\]]");function Uc(e,t,n){if(t.search(zc)>=0)throw Vc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new vc(...t.split("."))._internalPath}catch(r){throw Vc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Vc(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new on(sn.INVALID_ARGUMENT,a+e+l)}function Bc(e,t){return e.some((e=>e.isEqual(t)))}class $c{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new lc(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Hc(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(qc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Hc extends $c{data(){return super.data()}}function qc(e,t){return"string"==typeof t?Uc(e,t):t instanceof vc?t._internalPath:t._delegate._internalPath}function Wc(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new on(sn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gc{}class Kc extends Gc{}function Yc(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Gc&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Jc)).length,n=e.filter((e=>e instanceof Qc)).length;if(t>1||t>0&&n>0)throw new on(sn.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class Qc extends Kc{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Qc(e,t,n)}_apply(e){const t=this._parse(e);return ru(e._query,t),new ac(e.firestore,e.converter,pi(e._query,t))}_parse(e){const t=Nc(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new on(sn.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){nu(o,s);const t=[];for(const n of o)t.push(tu(r,e,n));a={arrayValue:{values:t}}}else a=tu(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||nu(o,s),a=Pc(n,t,o,"in"===s||"not-in"===s);return zr.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Xc(e,t,n){const r=t,i=qc("where",e);return Qc._create(i,r,n)}class Jc extends Gc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Jc(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Ur.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)ru(n,i),n=pi(n,i)}(e._query,t),new ac(e.firestore,e.converter,pi(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Zc extends Kc{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Zc(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new on(sn.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new on(sn.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rr(t,n)}(e._query,this._field,this._direction);return new ac(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new oi(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function eu(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=qc("orderBy",e);return Zc._create(n,t)}function tu(e,t,n){if("string"==typeof(n=re(n))){if(""===n)throw new on(sn.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ui(t)&&-1!==n.indexOf("/"))throw new on(sn.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Cn.fromString(n));if(!Sn.isDocumentKey(r))throw new on(sn.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xr(e,new Sn(r))}if(n instanceof lc)return xr(e,n._key);throw new on(sn.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rc(n)}.`)}function nu(e,t){if(!Array.isArray(e)||0===e.length)throw new on(sn.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ru(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new on(sn.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new on(sn.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class iu{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(fr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw tn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Gn(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>sr(e.doubleValue)));return new wc(i)}convertGeoPoint(e){return new bc(sr(e.latitude),sr(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=lr(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(cr(e));default:return null}}convertTimestamp(e){const t=ir(e);return new wn(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Cn.fromString(e);nn(vo(n));const r=new dr(n.get(1),n.get(3)),i=new Sn(n.popFirst(5));return r.isEqual(t)||Jt(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function su(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ou{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class au extends $c{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new lu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(qc("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class lu extends au{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class cu{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ou(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new lu(this._firestore,this._userDataWriter,n.key,n,new ou(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new on(sn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new lu(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ou(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new lu(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ou(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:uu(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function uu(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tn()}}function du(e){e=ic(e,lc);const t=ic(e.firestore,fc);return Ql(pc(t),e._key).then((n=>bu(t,e,n)))}class hu extends iu{constructor(e){super(),this.firestore=e}convertBytes(e){return new gc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lc(this.firestore,null,t)}}function fu(e){e=ic(e,ac);const t=ic(e.firestore,fc),n=pc(t),r=new hu(t);return Wc(e._query),Xl(n,e._query).then((n=>new cu(t,r,e,n)))}function pu(e,t,n){e=ic(e,lc);const r=ic(e.firestore,fc),i=su(e.converter,t,n);return yu(r,[Tc(Nc(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,es.none())])}function mu(e,t,n){e=ic(e,lc);const r=ic(e.firestore,fc),i=Nc(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=re(t))||t instanceof vc?Oc(i,"updateDoc",e._key,t,n,a):Ac(i,"updateDoc",e._key,t),yu(r,[s.toMutation(e._key,es.exists(!0))])}function gu(e){return yu(ic(e.firestore,fc),[new fs(e._key,es.none())])}function vu(e,t){const n=ic(e.firestore,fc),r=dc(e),i=su(e.converter,t);return yu(n,[Tc(Nc(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,es.exists(!1))]).then((()=>r))}function yu(e,t){return function(e,t){const n=new an;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Fl(e);try{const e=await function(e,t){const n=rn(e),r=wn.now(),i=t.reduce(((e,t)=>e.add(t.key)),Di());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Ei(),l=Di();return n.cs.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=os(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new cs(e.key,t,Ar(t.value.mapValue),es.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Ti(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new Yn(yn)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await Dl(r,e.changes),await Ma(r.remoteStore)}catch(e){const t=Ya(e,"Failed to persist write");n.reject(t)}}(await Kl(e),t,n))),n.promise}(pc(e),t)}function bu(e,t,n){const r=n.docs.get(t._key),i=new hu(e);return new au(e,i,t._key,r,new ou(n.hasPendingWrites,n.fromCache),t.converter)}function wu(){return new Ic("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Kt=e}(vt),ht(new ie("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new fc(new dn(e.getProvider("auth-internal")),new mn(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new on(sn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dr(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),wt(Wt,"4.7.2",e),wt(Wt,"4.7.2","esm2017")}();wt("firebase","10.13.2","app");function xu(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function _u(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Cu=_u,ku=new K("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Eu=new pe("@firebase/auth");function Su(e){if(Eu.logLevel<=ce.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Eu.error(`Auth (${vt}): ${e}`,...n)}}function Nu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Au(e,...n)}function Tu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Au(e,...n)}function ju(e,t,n){const r=Object.assign(Object.assign({},Cu()),{[t]:n});return new K("auth","Firebase",r).create(t,{appName:e.name})}function Iu(e){return ju(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Au(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return ku.create(e,...n)}function Ou(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Au(t,...r)}}function Pu(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Su(t),new Error(t)}function Du(e,t){e||Pu(t)}function Mu(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ru(){return"http:"===Lu()||"https:"===Lu()}function Lu(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Fu(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ru()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class zu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Du(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(H())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Fu()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Uu(e,t){Du(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Vu{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Pu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Pu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Pu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Bu={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},$u=new zu(3e4,6e4);function Hu(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function qu(e,t,n,r){return Wu(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=J(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Vu.fetch()(Ku(e,e.config.apiHost,n,o),l)}))}async function Wu(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Bu),t);try{const t=new Qu(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Xu(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Xu(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Xu(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Xu(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw ju(e,a,o);Nu(e,a)}}catch(i){if(i instanceof G)throw i;Nu(e,"network-request-failed",{message:String(i)})}}async function Gu(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await qu(e,t,n,r,i);return"mfaPendingCredential"in s&&Nu(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Ku(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Uu(e.config,i):`${e.config.apiScheme}://${i}`}function Yu(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Qu{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Tu(this.auth,"network-request-failed"))),$u.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xu(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Tu(e,t,r);return i.customData._tokenResponse=n,i}function Ju(e){return void 0!==e&&void 0!==e.enterprise}class Zu{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Yu(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function ed(e,t){return qu(e,"GET","/v2/recaptchaConfig",Hu(e,t))}async function td(e,t){return qu(e,"POST","/v1/accounts:lookup",t)}function nd(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function rd(e){return 1e3*Number(e)}function id(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Su("JWT malformed, contained fewer than 3 sections"),null;try{const e=M(n);return e?JSON.parse(e):(Su("Failed to decode base64 JWT payload"),null)}catch(i){return Su("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function sd(e){const t=id(e);return Ou(t,"internal-error"),Ou("undefined"!==typeof t.exp,"internal-error"),Ou("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function od(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof G&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class ad{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===e||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class ld{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nd(this.lastLoginAt),this.creationTime=nd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function cd(e){var t;const n=e.auth,r=await e.getIdToken(),i=await od(e,td(n,{idToken:r}));Ou(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?ud(s.providerUserInfo):[],a=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,o),l=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!l&&c,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ld(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,d)}function ud(e){return e.map((e=>{var{providerId:t}=e,n=xu(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class dd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ou(e.idToken,"internal-error"),Ou("undefined"!==typeof e.idToken,"internal-error"),Ou("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):sd(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ou(0!==e.length,"internal-error");const t=sd(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Ou(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Wu(e,{},(async()=>{const n=J({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Ku(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Vu.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new dd;return n&&(Ou("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Ou("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Ou("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dd,this.toJSON())}_performRefresh(){return Pu("not implemented")}}function hd(e,t){Ou("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class fd{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=xu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ad(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ld(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await od(this,this.stsTokenManager.getToken(this.auth,e));return Ou(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=re(e),r=await n.getIdToken(t),i=id(r);Ou(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:nd(rd(i.auth_time)),issuedAtTime:nd(rd(i.iat)),expirationTime:nd(rd(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=re(e);await cd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ou(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fd(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ou(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await cd(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pt(this.auth.app))return Promise.reject(Iu(this.auth));const e=await this.getIdToken();return await od(this,async function(e,t){return qu(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:_}=t;Ou(y&&_,e,"internal-error");const C=dd.fromJSON(this.name,_);Ou("string"===typeof y,e,"internal-error"),hd(u,e.name),hd(d,e.name),Ou("boolean"===typeof b,e,"internal-error"),Ou("boolean"===typeof w,e,"internal-error"),hd(h,e.name),hd(f,e.name),hd(p,e.name),hd(m,e.name),hd(g,e.name),hd(v,e.name);const k=new fd({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:C,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(k.providerData=x.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new dd;r.updateFromServerResponse(t);const i=new fd({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await cd(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Ou(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?ud(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new dd;o.updateFromIdToken(n);const a=new fd({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new ld(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const pd=new Map;function md(e){Du(e instanceof Function,"Expected a class definition");let t=pd.get(e);return t?(Du(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,pd.set(e,t),t)}class gd{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}gd.type="NONE";const vd=gd;function yd(e,t,n){return`firebase:${e}:${t}:${n}`}class bd{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=yd(this.userKey,r.apiKey,i),this.fullPersistenceKey=yd("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?fd._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new bd(md(vd),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||md(vd);const s=yd(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){const n=fd._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new bd(i,e,n)):new bd(i,e,n)}}function wd(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(kd(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xd(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Sd(t))return"Blackberry";if(Nd(t))return"Webos";if(_d(t))return"Safari";if((t.includes("chrome/")||Cd(t))&&!t.includes("edge/"))return"Chrome";if(Ed(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function xd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H();return/firefox\//i.test(e)}function _d(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:H()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Cd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H();return/crios\//i.test(e)}function kd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H();return/iemobile/i.test(e)}function Ed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H();return/android/i.test(e)}function Sd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H();return/blackberry/i.test(e)}function Nd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H();return/webos/i.test(e)}function Td(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function jd(){return function(){const e=H();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Id(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H();return Td(e)||Ed(e)||Nd(e)||Sd(e)||/windows phone/i.test(e)||kd(e)}function Ad(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=wd(H());break;case"Worker":t=`${wd(H())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${vt}/${r}`}class Od{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Pd{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Dd{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rd(this),this.idTokenSubscription=new Rd(this),this.beforeStateQueue=new Od(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ku,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=md(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await bd.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await td(this,{idToken:e}),n=await fd._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(pt(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ou(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await cd(e)}catch(t){if("auth/network-request-failed"!==(null===t||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pt(this.app))return Promise.reject(Iu(this));const t=e?re(e):null;return t&&Ou(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Ou(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return pt(this.app)?Promise.reject(Iu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pt(this.app)?Promise.reject(Iu(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(md(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return qu(e,"GET","/v2/passwordPolicy",Hu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Pd(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new K("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return qu(e,"POST","/v2/accounts:revokeToken",Hu(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&md(e)||this._popupRedirectResolver;Ou(t,this,"argument-error"),this.redirectPersistenceManager=await bd.create(this,[md(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ou(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ou(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ad(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Eu.logLevel<=ce.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Eu.warn(`Auth (${vt}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Md(e){return re(e)}class Rd{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new te(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Ou(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ld={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fd(e){return Ld.loadJS(e)}function zd(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Ud{constructor(e){this.type="recaptcha-enterprise",this.auth=Md(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Ju(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{ed(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Zu(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Ju(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ld.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Fd(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Vd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Ud(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Bd(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Vd(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Vd(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function $d(e,t,n){const r=Md(e);Ou(r._canInitEmulator,r,"emulator-config-failed"),Ou(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Hd(t),{host:o,port:a}=function(e){const t=Hd(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:qd(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:qd(t)}}}(t),l=null===a?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Hd(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function qd(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Wd{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Pu("not implemented")}_getIdTokenResponse(e){return Pu("not implemented")}_linkToIdToken(e,t){return Pu("not implemented")}_getReauthenticationResolver(e){return Pu("not implemented")}}async function Gd(e,t){return qu(e,"POST","/v1/accounts:signUp",t)}async function Kd(e,t){return Gu(e,"POST","/v1/accounts:signInWithPassword",Hu(e,t))}async function Yd(e,t){return qu(e,"POST","/v1/accounts:sendOobCode",Hu(e,t))}async function Qd(e,t){return Yd(e,t)}class Xd extends Wd{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Xd(e,t,"password")}static _fromEmailAndCode(e,t){return new Xd(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Bd(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Kd);case"emailLink":return async function(e,t){return Gu(e,"POST","/v1/accounts:signInWithEmailLink",Hu(e,t))}(e,{email:this._email,oobCode:this._password});default:Nu(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Bd(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gd);case"emailLink":return async function(e,t){return Gu(e,"POST","/v1/accounts:signInWithEmailLink",Hu(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Nu(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Jd(e,t){return Gu(e,"POST","/v1/accounts:signInWithIdp",Hu(e,t))}class Zd extends Wd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Zd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Nu("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=xu(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Zd(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Jd(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Jd(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Jd(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=J(t)}return e}}const eh={USER_NOT_FOUND:"user-not-found"};class th extends Wd{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new th({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new th({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Gu(e,"POST","/v1/accounts:signInWithPhoneNumber",Hu(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Gu(e,"POST","/v1/accounts:signInWithPhoneNumber",Hu(e,t));if(n.temporaryProof)throw Xu(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Gu(e,"POST","/v1/accounts:signInWithPhoneNumber",Hu(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),eh)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new th({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class nh{constructor(e){var t,n,r,i,s,o;const a=Z(ee(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Ou(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Z(ee(e)).link,n=t?Z(ee(t)).deep_link_id:null,r=Z(ee(e)).deep_link_id;return(r?Z(ee(r)).link:null)||r||n||t||e}(e);try{return new nh(t)}catch(n){return null}}}class rh{constructor(){this.providerId=rh.PROVIDER_ID}static credential(e,t){return Xd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=nh.parseLink(t);return Ou(n,"argument-error"),Xd._fromEmailAndCode(e,n.code,n.tenantId)}}rh.PROVIDER_ID="password",rh.EMAIL_PASSWORD_SIGN_IN_METHOD="password",rh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ih{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class sh extends ih{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class oh extends sh{constructor(){super("facebook.com")}static credential(e){return Zd._fromParams({providerId:oh.PROVIDER_ID,signInMethod:oh.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oh.credentialFromTaggedObject(e)}static credentialFromError(e){return oh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return oh.credential(t.oauthAccessToken)}catch(n){return null}}}oh.FACEBOOK_SIGN_IN_METHOD="facebook.com",oh.PROVIDER_ID="facebook.com";class ah extends sh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Zd._fromParams({providerId:ah.PROVIDER_ID,signInMethod:ah.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ah.credentialFromTaggedObject(e)}static credentialFromError(e){return ah.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ah.credential(n,r)}catch(i){return null}}}ah.GOOGLE_SIGN_IN_METHOD="google.com",ah.PROVIDER_ID="google.com";class lh extends sh{constructor(){super("github.com")}static credential(e){return Zd._fromParams({providerId:lh.PROVIDER_ID,signInMethod:lh.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lh.credentialFromTaggedObject(e)}static credentialFromError(e){return lh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return lh.credential(t.oauthAccessToken)}catch(n){return null}}}lh.GITHUB_SIGN_IN_METHOD="github.com",lh.PROVIDER_ID="github.com";class ch extends sh{constructor(){super("twitter.com")}static credential(e,t){return Zd._fromParams({providerId:ch.PROVIDER_ID,signInMethod:ch.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ch.credentialFromTaggedObject(e)}static credentialFromError(e){return ch.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ch.credential(n,r)}catch(i){return null}}}async function uh(e,t){return Gu(e,"POST","/v1/accounts:signUp",Hu(e,t))}ch.TWITTER_SIGN_IN_METHOD="twitter.com",ch.PROVIDER_ID="twitter.com";class dh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await fd._fromIdTokenResponse(e,n,r),s=hh(n);return new dh({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=hh(n);return new dh({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function hh(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class fh extends G{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new fh(e,t,n,r)}}function ph(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw fh._fromErrorAndOperation(e,n,t,r);throw n}))}async function mh(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await od(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return dh._forOperation(e,"link",r)}async function gh(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(pt(r.app))return Promise.reject(Iu(r));const i="reauthenticate";try{const s=await od(e,ph(r,i,t,e),n);Ou(s.idToken,r,"internal-error");const o=id(s.idToken);Ou(o,r,"internal-error");const{sub:a}=o;return Ou(e.uid===a,r,"user-mismatch"),dh._forOperation(e,i,s)}catch(s){throw"auth/user-not-found"===(null===s||void 0===s?void 0:s.code)&&Nu(r,"user-mismatch"),s}}async function vh(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(pt(e.app))return Promise.reject(Iu(e));const r="signIn",i=await ph(e,r,t),s=await dh._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function yh(e,t){return vh(Md(e),t)}async function bh(e,t){return gh(re(e),t)}function wh(e,t,n){var r;Ou((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ou("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ou(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ou(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function xh(e){const t=Md(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function _h(e,t,n){if(pt(e.app))return Promise.reject(Iu(e));const r=Md(e),i=Bd(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uh),s=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&xh(e),t})),o=await dh._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}function Ch(e,t,n){return pt(e.app)?Promise.reject(Iu(e)):yh(re(e),rh.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&xh(e),t}))}async function kh(e,t){const n=re(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&wh(n.auth,r,t);const{email:i}=await async function(e,t){return Yd(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Eh(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await od(e,async function(e,t){return qu(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}new WeakMap;const Sh="__sak";class Nh{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Sh,"1"),this.storage.removeItem(Sh),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Th extends Nh{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Id(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);jd()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Th.type="LOCAL";const jh=Th;class Ih extends Nh{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ih.type="SESSION";const Ah=Ih;class Oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Oh(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ph(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Oh.receivers=[];class Dh{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=Ph("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Mh(){return window}function Rh(){return"undefined"!==typeof Mh().WorkerGlobalScope&&"function"===typeof Mh().importScripts}const Lh="firebaseLocalStorageDb",Fh="firebaseLocalStorage",zh="fbase_key";class Uh{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Vh(e,t){return e.transaction([Fh],t?"readwrite":"readonly").objectStore(Fh)}function Bh(){const e=indexedDB.open(Lh,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Fh,{keyPath:zh})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Fh)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Lh);return new Uh(e).toPromise()}(),t(await Bh()))}))}))}async function $h(e,t,n){const r=Vh(e,!0).put({[zh]:t,value:n});return new Uh(r).toPromise()}function Hh(e,t){const n=Vh(e,!0).delete(t);return new Uh(n).toPromise()}class qh{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Bh()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rh()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance(Rh()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Dh(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bh();return await $h(e,Sh,"1"),await Hh(e,Sh),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>$h(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Vh(e,!1).get(t),r=await new Uh(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Hh(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Vh(e,!1).getAll();return new Uh(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}qh.type="LOCAL";const Wh=qh;zd("rcb"),new zu(3e4,6e4);const Gh="recaptcha";async function Kh(e,t,n){var r;const i=await n.verify();try{let s;if(Ou("string"===typeof i,e,"argument-error"),Ou(n.type===Gh,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Ou("enroll"===t.type,e,"internal-error");const n=await function(e,t){return qu(e,"POST","/v2/accounts/mfaEnrollment:start",Hu(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Ou("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Ou(n,e,"missing-multi-factor-info");const o=await function(e,t){return qu(e,"POST","/v2/accounts/mfaSignIn:start",Hu(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return qu(e,"POST","/v1/accounts:sendVerificationCode",Hu(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Yh{constructor(e){this.providerId=Yh.PROVIDER_ID,this.auth=Md(e)}verifyPhoneNumber(e,t){return Kh(this.auth,e,re(t))}static credential(e,t){return th._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Yh.credentialFromTaggedObject(t)}static credentialFromError(e){return Yh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?th._fromTokenResponse(n,r):null}}function Qh(e,t){return t?md(t):(Ou(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Yh.PROVIDER_ID="phone",Yh.PHONE_SIGN_IN_METHOD="phone";class Xh extends Wd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Jd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Jd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Jh(e){return vh(e.auth,new Xh(e),e.bypassAuthState)}function Zh(e){const{auth:t,user:n}=e;return Ou(n,t,"internal-error"),gh(n,new Xh(e),e.bypassAuthState)}async function ef(e){const{auth:t,user:n}=e;return Ou(n,t,"internal-error"),mh(n,new Xh(e),e.bypassAuthState)}class tf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Jh;case"linkViaPopup":case"linkViaRedirect":return ef;case"reauthViaPopup":case"reauthViaRedirect":return Zh;default:Nu(this.auth,"internal-error")}}resolve(e){Du(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Du(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nf=new zu(2e3,1e4);class rf extends tf{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,rf.currentPopupAction&&rf.currentPopupAction.cancel(),rf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ou(e,this.auth,"internal-error"),e}async onExecution(){Du(1===this.filter.length,"Popup operations only handle one event");const e=Ph();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Tu(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Tu(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Tu(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,nf.get())};e()}}rf.currentPopupAction=null;const sf=new Map;class of extends tf{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=sf.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=cf(t),r=lf(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}sf.set(this.auth._key(),e)}return this.bypassAuthState||sf.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function af(e,t){sf.set(e._key(),t)}function lf(e){return md(e._redirectPersistence)}function cf(e){return yd("pendingRedirect",e.config.apiKey,e.name)}async function uf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(pt(e.app))return Promise.reject(Iu(e));const r=Md(e),i=Qh(r,t),s=new of(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class df{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ff(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ff(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Tu(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hf(e))}saveEventToCache(e){this.cachedEventUids.add(hf(e)),this.lastProcessedEventTime=Date.now()}}function hf(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function ff(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const pf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mf=/^https?/;async function gf(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return qu(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(vf(r))return}catch(n){}Nu(e,"unauthorized-domain")}function vf(e){const t=Mu(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!mf.test(n))return!1;if(pf.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const yf=new zu(3e4,6e4);function bf(){const e=Mh().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function wf(e){return new Promise(((t,n)=>{var r,i,s;function o(){bf(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bf(),n(Tu(e,"network-request-failed"))},timeout:yf.get()})}if(null===(i=null===(r=Mh().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Mh().gapi)||void 0===s?void 0:s.load)){const t=zd("iframefcb");return Mh()[t]=()=>{gapi.load?o():n(Tu(e,"network-request-failed"))},Fd(`${Ld.gapiScript}?onload=${t}`).catch((e=>n(e)))}o()}})).catch((e=>{throw xf=null,e}))}let xf=null;const _f=new zu(5e3,15e3),Cf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ef(e){const t=e.config;Ou(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Uu(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:vt},i=kf.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${J(r).slice(1)}`}async function Sf(e){const t=await function(e){return xf=xf||wf(e),xf}(e),n=Mh().gapi;return Ou(n,e,"internal-error"),t.open({where:document.body,url:Ef(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cf,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Tu(e,"network-request-failed"),s=Mh().setTimeout((()=>{r(i)}),_f.get());function o(){Mh().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const Nf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Tf{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function jf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Nf),{width:r.toString(),height:i.toString(),top:s,left:o}),c=H().toLowerCase();n&&(a=Cd(c)?"_blank":n),xd(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return Td(arguments.length>0&&void 0!==arguments[0]?arguments[0]:H())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Tf(null);const d=window.open(t||"",a,u);Ou(d,e,"popup-blocked");try{d.focus()}catch(h){}return new Tf(d)}const If="__/auth/handler",Af="emulator/auth/handler",Of=encodeURIComponent("fac");async function Pf(e,t,n,r,i,s){Ou(e.config.authDomain,e,"auth-domain-config-required"),Ou(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:vt,eventId:i};if(t instanceof ih){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof sh){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${Of}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${If}`;return Uu(t,Af)}(e)}?${J(a).slice(1)}${c}`}const Df="webStorageSupport";const Mf=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ah,this._completeRedirectFn=uf,this._overrideRedirectResult=af}async _openPopup(e,t,n,r){var i;Du(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return jf(e,await Pf(e,t,n,Mu(),r),Ph())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Mh().location.href=e}(await Pf(e,t,n,Mu(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Du(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Sf(e),n=new df(e);return t.register("authEvent",(t=>{Ou(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Df,{type:Df},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Df];void 0!==i&&t(!!i),Nu(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=gf(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Id()||_d()||Td()}};var Rf="@firebase/auth",Lf="1.7.9";class Ff{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ou(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const zf=V("authIdTokenMaxAge")||300;let Uf=null;function Vf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt();const t=ft(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=ft(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Q(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Nu(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Mf,persistence:[Wh,jh,Ah]}),r=V("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>zf)return;const r=null===t||void 0===t?void 0:t.token;Uf!==r&&(Uf=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){re(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){re(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=F("auth");return s&&$d(n,`http://${s}`),n}var Bf,$f;Bf={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Tu("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Ld=Bf,$f="Browser",ht(new ie("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ou(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:$f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ad($f)},c=new Dd(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(md);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),ht(new ie("auth-internal",(e=>(e=>new Ff(e))(Md(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),wt(Rf,Lf,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}($f)),wt(Rf,Lf,"esm2017");const Hf="firebasestorage.googleapis.com",qf="storageBucket";class Wf extends G{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Yf(e),`Firebase Storage: ${t} (${Yf(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wf.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Yf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var Gf,Kf;function Yf(e){return"storage/"+e}function Qf(){return new Wf(Gf.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Xf(){return new Wf(Gf.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Jf(){return new Wf(Gf.CANCELED,"User canceled the upload/download.")}function Zf(){return new Wf(Gf.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ep(e){return new Wf(Gf.INVALID_ARGUMENT,e)}function tp(){return new Wf(Gf.APP_DELETED,"The Firebase app was deleted.")}function np(e,t){return new Wf(Gf.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function rp(e){throw new Wf(Gf.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Gf||(Gf={}));class ip{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=ip.makeFromUrl(e,t)}catch(i){return new ip(e,"")}if(""===n.path)return n;throw r=e,new Wf(Gf.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${o}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${t===Hf?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new ip(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Wf(Gf.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class sp{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function op(e){return"string"===typeof e||e instanceof String}function ap(e){return lp()&&e instanceof Blob}function lp(){return"undefined"!==typeof Blob}function cp(e,t,n,r){if(r<t)throw ep(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw ep(`Invalid value for '${e}'. Expected ${n} or less.`)}function up(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function dp(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function hp(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Kf||(Kf={}));class fp{constructor(e,t,n,r,i,s,o,a,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new pp(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Kf.NO_ERROR,i=n.getStatus();if(!t||hp(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Kf.ABORT;return void e(!1,new pp(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new pp(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(s){r(s)}else if(null!==i){const e=Qf();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?tp():Jf())}else{r(Xf())}};this.canceled_?t(0,new pp(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){s&&clearTimeout(s)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||o)return h(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===a?(a=2,s=0):s=1e3*(r+Math.random()),d(s)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),s=setTimeout((()=>{o=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class pp{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function mp(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function gp(){const e=mp();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(lp())return new Blob(n);throw new Wf(Gf.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function vp(e){if("undefined"===typeof atob)throw t="base-64",new Wf(Gf.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const yp="raw",bp="base64",wp="base64url",xp="data_url";class _p{constructor(e,t){this.data=e,this.contentType=t||null}}function Cp(e,t){switch(e){case yp:return new _p(kp(t));case bp:case wp:return new _p(Ep(e,t));case xp:return new _p(function(e){const t=new Sp(e);return t.base64?Ep(bp,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw np(xp,"Malformed data URL.")}return kp(t)}(t.rest)}(t),new Sp(t).contentType)}throw Qf()}function kp(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Ep(e,t){switch(e){case bp:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw np(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case wp:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw np(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=vp(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw np(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class Sp{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw np(xp,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Np{constructor(e,t){let n=0,r="";ap(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(ap(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Np(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Np(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(lp()){const e=t.map((e=>e instanceof Np?e.data_:e));return new Np(gp.apply(null,e))}{const e=t.map((e=>op(e)?Cp(yp,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new Np(r,!0)}}uploadData(){return this.data_}}function Tp(e){let t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function jp(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Ip(e,t){return t}class Ap{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Ip}}let Op=null;function Pp(){if(Op)return Op;const e=[];e.push(new Ap("bucket")),e.push(new Ap("generation")),e.push(new Ap("metageneration")),e.push(new Ap("name","fullPath",!0));const t=new Ap("name");t.xform=function(e,t){return function(e){return!op(e)||e.length<2?e:jp(e)}(t)},e.push(t);const n=new Ap("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Ap("timeCreated")),e.push(new Ap("updated")),e.push(new Ap("md5Hash",null,!0)),e.push(new Ap("cacheControl",null,!0)),e.push(new Ap("contentDisposition",null,!0)),e.push(new Ap("contentEncoding",null,!0)),e.push(new Ap("contentLanguage",null,!0)),e.push(new Ap("contentType",null,!0)),e.push(new Ap("metadata","customMetadata",!0)),Op=e,Op}function Dp(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new ip(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Mp(e,t,n){const r=Tp(t);if(null===r)return null;return Dp(e,r,n)}function Rp(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class Lp{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Fp(e){if(!e)throw Qf()}function zp(e,t){return function(n,r){const i=Mp(e,r,t);return Fp(null!==i),i}}function Up(e,t){return function(n,r){const i=Mp(e,r,t);return Fp(null!==i),function(e,t,n,r){const i=Tp(t);if(null===i)return null;if(!op(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return up("/b/"+o(i)+"/o/"+o(s),n,r)+dp({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Vp(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Wf(Gf.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Wf(Gf.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new Wf(Gf.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Wf(Gf.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Bp(e){const t=Vp(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new Wf(Gf.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function $p(e,t,n){const r=up(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new Lp(r,"GET",zp(e,n),i);return s.errorHandler=Bp(t),s}function Hp(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function qp(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const l=Hp(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Rp(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",d=Np.getBlob(c,r,u);if(null===d)throw Zf();const h={name:l.fullPath},f=up(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new Lp(f,"POST",zp(e,n),p);return m.urlParams=h,m.headers=o,m.body=d.uploadData(),m.errorHandler=Vp(t),m}class Wp{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function Gp(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Fp(!1)}return Fp(!!n&&-1!==(t||["active"]).indexOf(n)),n}const Kp=262144;function Yp(e,t,n,r,i,s,o,a){const l=new Wp(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new Wf(Gf.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const d=l.current,h=d+u;let f="";f=0===u?"finalize":c===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${l.current}`},m=r.slice(d,h);if(null===m)throw Zf();const g=t.maxUploadRetryTime,v=new Lp(n,"POST",(function(e,n){const i=Gp(e,["active","final"]),o=l.current+u,a=r.size();let c;return c="final"===i?zp(t,s)(e,n):null,new Wp(o,a,"final"===i,c)}),g);return v.headers=p,v.body=m.uploadData(),v.progressCallback=a||null,v.errorHandler=Vp(e),v}const Qp="running",Xp="paused",Jp="success",Zp="canceled",em="error";function tm(e){switch(e){case"running":case"pausing":case"canceling":return Qp;case"paused":return Xp;case"success":return Jp;case"canceled":return Zp;default:return em}}class nm{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function rm(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}class im{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Kf.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Kf.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Kf.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw rp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw rp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw rp("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw rp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw rp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class sm extends im{initXhr(){this.xhr_.responseType="text"}}function om(){return new sm}class am{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Pp(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(Gf.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(hp(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=Xf()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(Gf.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o=Hp(t,r,i),a={name:o.fullPath},l=up(s,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=Rp(o,n),d=e.maxUploadRetryTime,h=new Lp(l,"POST",(function(e){let t;Gp(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Fp(!1)}return Fp(op(t)),t}),d);return h.urlParams=a,h.headers=c,h.body=u,h.errorHandler=Vp(t),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,om,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,s=new Lp(n,"POST",(function(e){const t=Gp(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(s){Fp(!1)}n||Fp(!1);const i=Number(n);return Fp(!isNaN(i)),new Wp(i,r.size(),"final"===t)}),i);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=Vp(t),s}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,om,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=Kp*this._chunkMultiplier,t=new Wp(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let s;try{s=Yp(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(a){return this._error=a,void this._transition("error")}const o=this._ref.storage._makeRequest(s,om,r,i,!1);this._request=o,o.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*(Kp*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=$p(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,om,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=qp(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,om,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Jf(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=tm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new nm(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(tm(this._state)){case Jp:rm(this._resolve.bind(null,this.snapshot))();break;case Zp:case em:rm(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(tm(this._state)){case Qp:case Xp:e.next&&rm(e.next.bind(e,this.snapshot))();break;case Jp:e.complete&&rm(e.complete.bind(e))();break;default:e.error&&rm(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class lm{constructor(e,t){this._service=e,this._location=t instanceof ip?t:ip.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new lm(e,t)}get root(){const e=new ip(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jp(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new ip(this._location.bucket,e);return new lm(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Wf(Gf.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function cm(e,t,n){e._throwIfRoot("uploadBytes");const r=qp(e.storage,e._location,Pp(),new Np(t,!0),n);return e.storage.makeRequestWithTokens(r,om).then((t=>({metadata:t,ref:e})))}function um(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=up(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new Lp(r,"GET",Up(e,n),i);return s.errorHandler=Bp(t),s}(e.storage,e._location,Pp());return e.storage.makeRequestWithTokens(t,om).then((e=>{if(null===e)throw new Wf(Gf.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function dm(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=up(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new Lp(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Bp(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,om)}function hm(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new ip(e._location.bucket,n);return new lm(e.storage,r)}function fm(e,t){if(e instanceof gm){const n=e;if(null==n._bucket)throw new Wf(Gf.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+qf+"' property when initializing the app?");const r=new lm(n,n._bucket);return null!=t?fm(r,t):r}return void 0!==t?hm(e,t):e}function pm(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof gm)return new lm(e,t);throw ep("To use ref(service, url), the first argument must be a Storage instance.")}return fm(e,t)}function mm(e,t){const n=null===t||void 0===t?void 0:t[qf];return null==n?null:ip.makeFromBucketSpec(n,e)}class gm{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Hf,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ip.makeFromBucketSpec(r,this._host):mm(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=ip.makeFromBucketSpec(this._url,e):this._bucket=mm(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){cp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){cp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lm(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new sp(tp());{const s=function(e,t,n,r,i,s){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=dp(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new fp(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const vm="@firebase/storage",ym="0.13.2",bm="storage";function wm(e,t,n){return cm(e=re(e),t,n)}function xm(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new am(e,new Np(t),n)}(e=re(e),t,n)}function _m(e){return um(e=re(e))}function Cm(e){return dm(e=re(e))}function km(e,t){return pm(e=re(e),t)}function Em(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt(),t=arguments.length>1?arguments[1]:void 0;e=re(e);const n=ft(e,bm).getImmediate({identifier:t}),r=z("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:$(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}function Sm(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new gm(r,i,s,n,vt)}ht(new ie(bm,Sm,"PUBLIC").setMultipleInstances(!0)),wt(vm,ym,""),wt(vm,ym,"esm2017");const Nm=yt({apiKey:"AIzaSyBt9cQyzHqJrURxkS2mE9tVdH2G_5PiXs4",authDomain:"gymhub-c90d3.firebaseapp.com",projectId:"gymhub-c90d3",storageBucket:"gymhub-c90d3.appspot.com",messagingSenderId:"510626731152",appId:"1:510626731152:web:33a94981e373f1b75ff415",measurementId:"G-WRGDTJ1Q1D"}),Tm=Nm,jm=function(e,t){const n="string"==typeof e?e:t||"(default)",r=ft("object"==typeof e?e:bt(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=z("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=ic(e,oc))._getSettings(),o=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Zt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Gt.MOCK_USER;else{t=$(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new on(sn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Gt(s)}e._authCredentials=new un(new ln(t,n))}}(r,...e)}return r}(Nm),Im=Vf(Nm),Am=Em(Nm);var Om=n(579);const Pm=t=>{let{onShowRegister:n}=t;const[r,i]=(0,e.useState)(""),[s,o]=(0,e.useState)("");return(0,Om.jsxs)("div",{className:"login-container",children:[(0,Om.jsx)("img",{src:T,alt:"Logo",className:"login-logo"}),(0,Om.jsxs)("form",{children:[(0,Om.jsxs)("div",{className:"login-form-group",children:[(0,Om.jsx)("label",{htmlFor:"username",className:"login-label",children:"Usuario"}),(0,Om.jsx)("input",{type:"text",id:"username",value:r,onChange:e=>i(e.target.value),className:"login-input"})]}),(0,Om.jsxs)("div",{className:"login-form-group",children:[(0,Om.jsx)("label",{htmlFor:"password",className:"login-label",children:"Contrase\xf1a"}),(0,Om.jsx)("input",{type:"password",id:"password",value:s,onChange:e=>o(e.target.value),className:"login-input"})]}),(0,Om.jsx)("div",{className:"login-form-group",children:(0,Om.jsx)("button",{onClick:e=>{e.preventDefault(),I().fire({title:"Ingresa tu correo",input:"email",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:"Enviar",showLoaderOnConfirm:!0,preConfirm:e=>async function(e,t,n){const r=Md(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&wh(r,i,n),await Bd(r,i,"getOobCode",Qd)}(Im,e).then((()=>{I().fire("Correo enviado","Revisa tu bandeja de entrada","success")})).catch((e=>{I().fire("Error","Ocurri\xf3 un error al enviar el correo","error")})),allowOutsideClick:()=>!I().isLoading()})},className:"forgot-password-button",children:"\xbfOlvidaste tu contrase\xf1a?"})}),(0,Om.jsxs)("div",{className:"login-button-group",children:[(0,Om.jsx)("button",{onClick:async e=>{if(e.preventDefault(),""!==r&&""!==s)if(r.includes("@"))try{const e=await Ch(Im,r,s);console.log(e)}catch(t){I().fire({icon:"error",title:"Error",text:"Usuario o contrase\xf1a incorrectos"})}else try{const e=Yc(uc(jm,"User"),Xc("usuario","==",r)),t=await fu(e);t.empty?I().fire({icon:"error",title:"Error",text:"Usuario o contrase\xf1a incorrectos"}):t.forEach((e=>{const t=e.data();Ch(Im,t.correo,s)}))}catch(t){console.error("Error al buscar el usuario: ",t),I().fire({icon:"error",title:"Error",text:"Ocurri\xf3 un error al iniciar sesi\xf3n"})}else I().fire({icon:"error",title:"Error",text:"Por favor, llena todos los campos"})},className:"login-button login-button-login",children:"Inicio sesi\xf3n"}),(0,Om.jsx)("button",{onClick:n,className:"login-button login-button-register",children:"Crear cuenta"})]})]})]})},Dm=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&n.indexOf(e)===t)).join(" ")};var Mm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Rm=(0,e.forwardRef)(((t,n)=>{let{color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,iconNode:c,...u}=t;return(0,e.createElement)("svg",{ref:n,...Mm,width:i,height:i,stroke:r,strokeWidth:o?24*Number(s)/Number(i):s,className:Dm("lucide",a),...u},[...c.map((t=>{let[n,r]=t;return(0,e.createElement)(n,r)})),...Array.isArray(l)?l:[l]])})),Lm=(t,n)=>{const r=(0,e.forwardRef)(((r,i)=>{let{className:s,...o}=r;return(0,e.createElement)(Rm,{ref:i,iconNode:n,className:Dm(`lucide-${a=t,a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,s),...o});var a}));return r.displayName=`${t}`,r},Fm=Lm("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),zm=Object.freeze({ADMINISTRADOR:"Administrador",ENTRENADOR:"Entrenador",CLIENTE:"Cliente"}),Um=async(e,t,n)=>{try{const r=(await _h(Im,e.correo,e.contrasena)).user;delete e.contrasena;const i={...e,uid:r.uid,createdAt:wu(),rol:e.rol||zm.CLIENTE};await vu(uc(jm,"User"),i),await function(e){return re(e).signOut()}(Im),await Ch(Im,t,n),console.log("Usuario agregado exitosamente y sesi\xf3n del administrador restaurada")}catch(r){throw console.error("Error al agregar el usuario: ",r),r}},Vm=async e=>{try{console.log("Verificando correo:",e);const t=Yc(uc(jm,"User"),Xc("correo","==",e));return(await fu(t)).empty?(console.log("Correo disponible:",e),!1):(console.log("Correo ya existe:",e),!0)}catch(t){throw console.error("Error al verificar el correo: ",t),new Error("No se pudo verificar el correo.")}},Bm=async e=>{try{const t=Yc(uc(jm,"User"),Xc("usuario","==",e));return!(await fu(t)).empty}catch(t){throw console.error("Error al verificar el usuario: ",t),new Error("No se pudo verificar el usuario.")}},$m=async e=>{try{const t=Yc(uc(jm,"User")),n=(await fu(t)).docs.map((e=>({id:e.id,...e.data()})));if("Nombre completo (A-Z)"===e)n.sort(((e,t)=>e.nombre.localeCompare(t.nombre)));else if("Usuario (A-Z)"===e)n.sort(((e,t)=>e.usuario.localeCompare(t.usuario)));else if("Rol"===e){const e={Administrador:1,Entrenador:2,Cliente:3};n.sort(((t,n)=>e[t.rol]-e[n.rol]))}else"Recientes"===e&&n.sort(((e,t)=>t.createdAt.toMillis()-e.createdAt.toMillis()));return n}catch(t){throw console.error("Error al obtener los usuarios: ",t),new Error("No se pudo obtener la lista de usuarios.")}},Hm=async e=>{try{const t=Yc(uc(jm,"User"),Xc("uid","==",e)),n=await fu(t);if(n.empty)return null;{const e=n.docs[0];return{id:e.id,...e.data()}}}catch(t){throw console.error("Error al obtener el usuario por UID: ",t),new Error("No se pudo obtener la informaci\xf3n del usuario.")}},qm=async e=>{const t=uc(jm,"Sales");let n;n="Precio mayor"===e?Yc(t,eu("price","desc")):"Precio menor"===e?Yc(t,eu("price","asc")):t;return(await fu(n)).docs.map((e=>{const t=e.data();return{id:e.id,...t,price:parseFloat(t.price)}}))};var Wm=n(195),Gm=n.n(Wm);const Km=Lm("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Ym=Lm("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Qm=t=>{let{password:n,setPassword:r}=t;const[i,s]=(0,e.useState)(0),[o,a]=(0,e.useState)(!1),l=e=>{let t=0;return e.length>=8&&t++,/[A-Z]/.test(e)&&t++,/[a-z]/.test(e)&&t++,/\d/.test(e)&&t++,/[^A-Za-z0-9]/.test(e)&&t++,t};return(0,Om.jsxs)("div",{className:"register-group-contrasena",children:[(0,Om.jsx)("label",{htmlFor:"contrasena",className:"register-label-contrasena",children:"Contrase\xf1a"}),(0,Om.jsxs)("div",{className:"password-container",children:[(0,Om.jsx)("input",{type:o?"text":"password",id:"contrasena",name:"contrasena",value:n,onChange:e=>{const{value:t}=e.target;r(t),s(l(t))},className:"register-input-contrasena"}),(0,Om.jsx)("button",{type:"button",className:"password-toggle-button",onClick:()=>{a(!o)},children:o?(0,Om.jsx)(Km,{}):(0,Om.jsx)(Ym,{})})]}),(0,Om.jsx)("div",{className:`password-strength-bar level-${i}`,children:(0,Om.jsx)("div",{className:"password-strength-level",style:{width:i/5*100+"%"}})}),(0,Om.jsx)("div",{className:`password-strength-text level-${i}`,children:(e=>{switch(e){case 0:case 1:case 2:return"D\xe9bil";case 3:return"Medio";case 4:return"Fuerte";case 5:return"Muy fuerte";default:return""}})(i)})]})},Xm=t=>{let{onShowLogin:n}=t;const[r,i]=(0,e.useState)({nombre:"",edad:"",genero:"",estatura:"",peso:"",padecimientos:"",correo:"",telefono:"",contrasena:"",usuario:""}),s=e=>{const{name:t,value:n}=e.target;i((e=>({...e,[t]:n})))};return(0,Om.jsxs)("div",{className:"register-container",children:[(0,Om.jsxs)("header",{className:"register-header",children:[(0,Om.jsx)("img",{src:T,alt:"Logo GymHub",className:"register-logo"}),(0,Om.jsx)("h2",{className:"register-title",children:"Registro de Membres\xeda"})]}),(0,Om.jsxs)("form",{className:"register",onSubmit:async e=>{if(e.preventDefault(),!(()=>{const e=["nombre","edad","genero","estatura","peso","padecimientos","correo","telefono","contrasena","usuario"];for(let t of e)if(void 0===r[t]||""===r[t].trim())return!1;return""!==r.genero&&"Seleccione"!==r.genero})())return void I().fire({icon:"warning",title:"Registro incompleto",text:"Por favor, complete todos los campos correctamente.",confirmButtonText:"Entendido"});if(await Vm(r.correo))return void I().fire({icon:"error",title:"Correo ya registrado",text:"El correo ingresado ya est\xe1 registrado. Por favor, utilice otro correo.",confirmButtonText:"Entendido"});if(await Bm(r.usuario))return void I().fire({icon:"error",title:"Usuario ya registrado",text:"El usuario ya est\xe1 en uso. Por favor, utilice otro usuario.",confirmButtonText:"Entendido"});if((await I().fire({title:"Confirmar registro",text:"\xbfEst\xe1s seguro de que deseas registrarte?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, registrar",cancelButtonText:"Cancelar"})).isConfirmed)try{const e=(await _h(Im,r.correo,r.contrasena)).user;await kh(e),await(async e=>{try{const{uid:t}=Im.currentUser;delete e.contrasena;const n={...e,rol:zm.CLIENTE,uid:t,createdAt:wu()};await vu(uc(jm,"User"),n),console.log("Cliente agregado exitosamente con fecha de creaci\xf3n")}catch(t){console.error("Error al agregar el cliente: ",t)}})(r),await Im.signOut(),I().fire({icon:"success",title:"Registrado",text:"Cliente registrado exitosamente. Revisa tu correo para la verificaci\xf3n.",confirmButtonText:"Ok"}).then((()=>{i({nombre:"",edad:"",genero:"",estatura:"",peso:"",padecimientos:"",correo:"",telefono:"",contrasena:"",usuario:""}),n()}))}catch(t){console.error("Error al registrar el cliente:",t),I().fire({icon:"error",title:"Error",text:"Hubo un error al registrar el cliente. Por favor, int\xe9ntalo de nuevo.",confirmButtonText:"Entendido"})}},children:[(0,Om.jsx)("button",{className:"close-button",onClick:n,children:(0,Om.jsx)(Fm,{})}),(0,Om.jsxs)("div",{className:"colum-one",children:[(0,Om.jsxs)("div",{className:"register-group-usuario",children:[(0,Om.jsx)("label",{htmlFor:"usuario",className:"register-label-usuario",children:"Usuario"}),(0,Om.jsx)("input",{type:"text",id:"usuario",name:"usuario",value:r.usuario,onChange:s,className:"register-input-usuario"})]}),(0,Om.jsxs)("div",{className:"register-group-nombre",children:[(0,Om.jsx)("label",{htmlFor:"nombre",className:"register-label-nombre",children:"Nombre completo"}),(0,Om.jsx)("input",{type:"text",id:"nombre",name:"nombre",value:r.nombre,onChange:s,className:"register-input-nombre"})]}),(0,Om.jsxs)("div",{className:"register-group-correo",children:[(0,Om.jsx)("label",{htmlFor:"correo",className:"register-label-correo",children:"Correo"}),(0,Om.jsx)("input",{type:"email",id:"correo",name:"correo",value:r.correo,onChange:s,className:"register-input-correo"})]}),(0,Om.jsx)(Qm,{password:r.contrasena,setPassword:e=>i({...r,contrasena:e})})]}),(0,Om.jsxs)("div",{className:"colum-two",children:[(0,Om.jsxs)("div",{className:"register-group-genero",children:[(0,Om.jsx)("label",{htmlFor:"genero",className:"register-label-genero",children:"G\xe9nero"}),(0,Om.jsxs)("select",{id:"genero",name:"genero",value:r.genero,onChange:s,className:"register-input-genero",children:[(0,Om.jsx)("option",{value:"",children:"Seleccione"}),(0,Om.jsx)("option",{value:"Hombre",children:"Hombre"}),(0,Om.jsx)("option",{value:"Mujer",children:"Mujer"}),(0,Om.jsx)("option",{value:"Otro",children:"Otro"})]})]}),(0,Om.jsxs)("div",{className:"register-group-edad",children:[(0,Om.jsx)("label",{htmlFor:"edad",className:"register-label-edad",children:"Edad"}),(0,Om.jsx)("input",{type:"number",id:"edad",name:"edad",value:r.edad,onChange:s,className:"register-input-edad",min:"0"})]}),(0,Om.jsxs)("div",{className:"register-group-peso",children:[(0,Om.jsx)("label",{htmlFor:"peso",className:"register-label-peso",children:"Peso (kilos)"}),(0,Om.jsx)("input",{type:"number",id:"peso",name:"peso",value:r.peso,onChange:s,className:"register-input-peso",step:"0.1",min:"0"})]}),(0,Om.jsxs)("div",{className:"register-group-estatura",children:[(0,Om.jsx)("label",{htmlFor:"estatura",className:"register-label-estatura",children:"Estatura (metros)"}),(0,Om.jsx)("input",{type:"number",id:"estatura",name:"estatura",value:r.estatura,onChange:s,className:"register-input-estatura",step:"0.01",min:"0"})]})]}),(0,Om.jsxs)("div",{className:"colum-three",children:[(0,Om.jsxs)("div",{className:"register-group-telefono",children:[(0,Om.jsx)("label",{htmlFor:"telefono",className:"register-label-telefono",children:"Tel\xe9fono"}),(0,Om.jsx)(Gm(),{country:"cr",value:r.telefono,onChange:e=>{i((t=>({...t,telefono:e})))},inputProps:{name:"telefono",required:!0,className:"register-input-telefono"}})]}),(0,Om.jsxs)("div",{className:"register-group-padecimientos",children:[(0,Om.jsx)("label",{htmlFor:"padecimientos",className:"register-label-padecimientos",children:"Padecimientos y alergias"}),(0,Om.jsx)("textarea",{id:"padecimientos",name:"padecimientos",value:r.padecimientos,onChange:s,className:"register-textarea-padecimientos"})]}),(0,Om.jsx)("div",{className:"register-button-container",children:(0,Om.jsx)("button",{type:"submit",className:"register-submit-button",children:"Registrarse"})})]})]})]})},Jm=Lm("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Zm=Vf(Tm),eg=t=>{let{onShowInventory:n,onShowUserView:r,onShowSales:i,onShowProfile:s,onShowSuplementos:o,onShowRewards:a,onShowGastosStd:l,onShowPagosStd:c,onShowExpenseView:u,onShowPayments:d,onShowAlertView:h}=t;const[f,p]=(0,e.useState)(!1);return(0,Om.jsx)("nav",{class:"navbar navbar-expand-lg bg-dark border-bottom border-body","data-bs-theme":"dark",children:(0,Om.jsxs)("div",{class:"container-fluid",children:[(0,Om.jsxs)("a",{class:"navbar-brand",href:"#home",children:[(0,Om.jsx)("img",{src:T,alt:"Logo",class:"d-inline-block align-text-top"}),"Gymhub"]}),(0,Om.jsx)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,Om.jsx)("span",{class:"navbar-toggler-icon"})}),(0,Om.jsx)("div",{className:"center",children:(0,Om.jsx)("div",{class:"collapse navbar-collapse",id:"navbarSupportedContent",children:(0,Om.jsxs)("ul",{class:"navbar-nav me-auto mb-2 mb-lg-0",children:[(0,Om.jsx)("li",{class:"nav-item",children:(0,Om.jsx)("a",{class:"nav-link","aria-current":"page",href:"#home",children:"Inicio"})}),(0,Om.jsx)("li",{class:"nav-item",children:(0,Om.jsx)("a",{class:"nav-link",href:"#usuarios",onClick:r,children:"Usuarios"})}),(0,Om.jsx)("li",{class:"nav-item",children:(0,Om.jsx)("a",{class:"nav-link",href:"#alertas",onClick:h,children:"Alertas"})}),(0,Om.jsx)("li",{class:"nav-item",children:(0,Om.jsx)("a",{class:"nav-link",href:"#inventario",onClick:n,children:"Inventario"})}),(0,Om.jsx)("li",{class:"nav-item",children:(0,Om.jsx)("a",{class:"nav-link",href:"#gastos",onClick:u,children:"Gastos"})}),(0,Om.jsxs)("li",{class:"nav-item dropdown",children:[(0,Om.jsx)("a",{class:"nav-link dropdown-toggle",href:"#estadisticas",id:"statsDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Estad\xedsticas"}),(0,Om.jsxs)("ul",{class:"dropdown-menu","aria-labelledby":"statsDropdown",children:[(0,Om.jsx)("li",{children:(0,Om.jsx)("a",{class:"dropdown-item",href:"#estadisticas-gastos",onClick:l,children:"De gastos"})}),(0,Om.jsx)("li",{children:(0,Om.jsx)("a",{class:"dropdown-item",href:"#estadisticas-ingresos",onClick:c,children:"De ingresos"})})]})]}),(0,Om.jsx)("li",{class:"nav-item",children:(0,Om.jsx)("a",{class:"nav-link",href:"#suplementos",onClick:o,children:"Suplementos"})}),(0,Om.jsx)("li",{class:"nav-item",children:(0,Om.jsx)("a",{class:"nav-link",href:"#premiaci\xf3n",onClick:a,children:"Premiaci\xf3n"})}),(0,Om.jsx)("li",{class:"nav-item",children:(0,Om.jsx)("a",{class:"nav-link",href:"#ventas",onClick:i,children:"Ventas"})}),(0,Om.jsx)("li",{class:"nav-item",children:(0,Om.jsx)("a",{class:"nav-link",href:"#pagos",onClick:d,children:"Pagos"})})]})})}),(0,Om.jsxs)("div",{class:"dropdown",children:[(0,Om.jsx)("button",{class:"btn btn-dark dropdown-toggle",type:"button",id:"navbarDropdown","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,Om.jsx)(Jm,{size:24})}),(0,Om.jsxs)("ul",{class:"dropdown-menu dropdown-menu-end",children:[(0,Om.jsx)("li",{children:(0,Om.jsx)("a",{class:"dropdown-item",href:"#perfil",onClick:()=>{s(),p(!1)},children:"Perfil"})}),(0,Om.jsx)("li",{children:(0,Om.jsx)("a",{class:"dropdown-item",href:"#cerrar-sesi\xf3n",onClick:()=>{Zm.signOut().then((()=>{console.log("Sesi\xf3n cerrada")})).catch((e=>{console.log("Error al cerrar sesi\xf3n",e)}))},children:"Cerrar sesi\xf3n"})})]})]})]})})},tg=Object.freeze({SUCCESS:"success",ERROR:"error",WARNING:"warning",INFO:"info",QUESTION:"question"}),ng=(e,t,n)=>{I().fire({title:e,text:t,icon:n,confirmButtonText:"OK"})},rg=(e,t)=>{I().fire({title:e,text:t,icon:tg.ERROR,confirmButtonText:"OK",confirmButtonColor:"#d33"})},ig=(e,t,n,r)=>I().fire({title:e,text:t,icon:tg.QUESTION,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:n,cancelButtonText:r}),sg=function(e,t){return`\n    <tr>\n      <td style="width: 160px; text-align: right; padding-right: 10px; ${arguments.length>2&&void 0!==arguments[2]?arguments[2]:""}"><strong>${e}</strong></td>\n      <td style="text-align: left; word-wrap: break-word; white-space: normal;">${t||"N/A"}</td>\n    </tr>\n  `};function og(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function ag(e){if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((e=>ag(e)));if("function"===typeof e||"object"===typeof e)return og(e,(e=>ag(e)));throw new Error("Data cannot be encoded in JSON: "+e)}function lg(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((e=>lg(e))):"function"===typeof e||"object"===typeof e?og(e,(e=>lg(e))):e}const cg="functions",ug={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dg extends G{constructor(e,t,n){super(`${cg}/${e}`,t||""),this.details=n}}class hg{constructor(e,t,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((e=>this.auth=e),(()=>{})),this.messaging||t.get().then((e=>this.messaging=e),(()=>{})),this.appCheck||n.get().then((e=>this.appCheck=e),(()=>{}))}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return null===e||void 0===e?void 0:e.accessToken}catch(e){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(e){return}}async getAppCheckToken(e){if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken(e)}}}const fg="us-central1";class pg{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:fg,s=arguments.length>5?arguments[5]:void 0;this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new hg(t,n,r),this.cancelAllRequests=new Promise((e=>{this.deleteService=()=>Promise.resolve(e())}));try{const e=new URL(i);this.customDomain=e.origin+("/"===e.pathname?"":e.pathname),this.region=fg}catch(o){this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;if(null!==this.emulatorOrigin){return`${this.emulatorOrigin}/${t}/${this.region}/${e}`}return null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function mg(e,t,n){return r=>function(e,t,n,r){const i=e._url(t);return vg(e,i,n,r)}(e,t,r,n||{})}async function gg(e,t,n,r){let i;n["Content-Type"]="application/json";try{i=await r(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch(o){return{status:0,json:null}}let s=null;try{s=await i.json()}catch(o){}return{status:i.status,json:s}}async function vg(e,t,n,r){const i={data:n=ag(n)},s={},o=await e.contextProvider.getContext(r.limitedUseAppCheckTokens);o.authToken&&(s.Authorization="Bearer "+o.authToken),o.messagingToken&&(s["Firebase-Instance-ID-Token"]=o.messagingToken),null!==o.appCheckToken&&(s["X-Firebase-AppCheck"]=o.appCheckToken);const a=function(e){let t=null;return{promise:new Promise(((n,r)=>{t=setTimeout((()=>{r(new dg("deadline-exceeded","deadline-exceeded"))}),e)})),cancel:()=>{t&&clearTimeout(t)}}}(r.timeout||7e4),l=await Promise.race([gg(t,i,s,e.fetchImpl),a.promise,e.cancelAllRequests]);if(a.cancel(),!l)throw new dg("cancelled","Firebase Functions instance was deleted.");const c=function(e,t){let n,r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r;try{const e=t&&t.error;if(e){const t=e.status;if("string"===typeof t){if(!ug[t])return new dg("internal","internal");r=ug[t],i=t}const s=e.message;"string"===typeof s&&(i=s),n=e.details,void 0!==n&&(n=lg(n))}}catch(s){}return"ok"===r?null:new dg(r,i,n)}(l.status,l.json);if(c)throw c;if(!l.json)throw new dg("internal","Response is not valid JSON object.");let u=l.json.data;if("undefined"===typeof u&&(u=l.json.result),"undefined"===typeof u)throw new dg("internal","Response is missing data field.");return{data:lg(u)}}const yg="@firebase/functions",bg="0.11.8";function wg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fg;const n=ft(re(e),cg).getImmediate({identifier:t}),r=z("functions");return r&&function(e,t,n){!function(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}(re(e),t,n)}(n,...r),n}!function(e,t){ht(new ie(cg,((t,n)=>{let{instanceIdentifier:r}=n;const i=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),o=t.getProvider("messaging-internal"),a=t.getProvider("app-check-internal");return new pg(i,s,o,a,r,e)}),"PUBLIC").setMultipleInstances(!0)),wt(yg,bg,t),wt(yg,bg,"esm2017")}(fetch.bind(self));const xg=async(e,t)=>{try{const i=dc(jm,"User",e);await gu(i),console.log("Documento del usuario eliminado de Firestore");const s=wg(),o=(n="eliminarUsuario",mg(re(s),n,r)),a=await o({uid:t});a.data.success?console.log("Usuario eliminado de Firebase Authentication"):console.error("Error al eliminar el usuario en Authentication:",a.data.message)}catch(i){console.error("Error en la funci\xf3n eliminarUsuario:",i.message||i)}var n,r},_g=Lm("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Cg=Lm("Paintbrush",[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]]),kg=Lm("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Eg=Lm("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Sg=Lm("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Ng=Lm("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),Tg=Lm("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),jg=Lm("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Ig=Lm("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ag=Lm("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),Og=t=>{let{onShowRegisterUser:n,onShowUpdateUser:r}=t;const[i,s]=(0,e.useState)([]),[o,a]=(0,e.useState)([]),[l,c]=(0,e.useState)(0),[u]=(0,e.useState)(5),[d,h]=(0,e.useState)("Aleatorio"),[f,p]=(0,e.useState)(!0),[m,g]=(0,e.useState)(null);(0,e.useEffect)((()=>{(async()=>{try{p(!0);const e=await $m(d);s(e),a(e.slice(0,u)),p(!1)}catch(e){console.error("Error fetching users: ",e),p(!1)}})()}),[d]),(0,e.useEffect)((()=>{const e=l*u,t=e+u;a(i.slice(e,t))}),[l,i]);const v=async e=>{try{const t=await(async(e,t)=>{try{const n=Yc(uc(jm,"User"),Xc("correo","==",e),Xc("usuario","==",t)),r=await fu(n);if(r.empty)return null;{const e=r.docs[0];return{id:e.id,...e.data()}}}catch(n){throw console.error("Error al obtener el usuario: ",n),new Error("No se pudo obtener la informaci\xf3n del usuario.")}})(e.correo,e.usuario);(e=>{I().fire({title:"Informaci\xf3n del Usuario",icon:tg.INFO,html:`\n      <div style="display: flex; flex-direction: row; gap: 40px; justify-content: space-between; flex-wrap: nowrap;">\n        <div style="flex: 1; right: 0;">\n          <table style="width: 100%; table-layout: auto;">\n            ${sg("Nombre",e.nombre)}\n            ${sg("Usuario",e.usuario)}\n            ${sg("Edad",e.edad)}\n            ${sg("Correo",e.correo)}\n            ${sg("Rol",e.rol)}\n          </table>\n        </div>\n        <div style="flex: 1;">\n          <table style="width: 100%; table-layout: auto;">\n            ${sg("Estatura",e.estatura?e.estatura+" m":"N/A")}\n            ${sg("Peso",e.peso?e.peso+" kg":"N/A")}\n            ${sg("Tel\xe9fono",e.telefono)}\n            ${sg("G\xe9nero",e.genero)}\n            ${sg("Padecimientos",e.padecimientos,"vertical-align: top;")}\n          </table>\n        </div>\n      </div>\n    `,width:"950px",padding:"20px",confirmButtonText:"Cerrar",customClass:{container:"custom-swal-container",popup:"custom-swal-popup",title:"custom-swal-title",htmlContainer:"custom-swal-html-container",confirmButton:"custom-swal-confirm-button"}})})(t)}catch(t){console.error("Error fetching user info: ",t),ng("Error","No se pudo obtener la informaci\xf3n del usuario.",tg.ERROR)}},y=e=>{if("next"===e)(l+1)*u<i.length&&c(l+1);else if("prev"===e)l>0&&c(l-1);else if("first"===e)c(0);else if("last"===e){const e=Math.floor(i.length/u);c(e)}},b=()=>{const e=document.querySelector(".buscador-input").value.toLowerCase(),t=document.querySelector(".buscador-select").value,n=i.filter((n=>{let r;switch(t){case"nombre":r=n.nombre||"";break;case"usuario":r=n.usuario||"";break;case"correo":r=n.correo||"";break;default:r=""}return r.toLowerCase().includes(e)}));a(n.slice(0,u)),c(0)};if(f)return(0,Om.jsx)("div",{children:"Cargando usuarios..."});return(0,Om.jsxs)(Om.Fragment,{children:[(0,Om.jsxs)("div",{className:"controls-container",children:[(0,Om.jsx)("div",{className:"add-user-container",children:(0,Om.jsxs)("button",{className:"add-user-button",onClick:n,children:[(0,Om.jsx)(_g,{className:"icon-svg",size:24,color:"#28a745"}),"Agregar usuario"]})}),(0,Om.jsxs)("div",{className:"buscador-container",children:[(0,Om.jsxs)("div",{className:"buscador-wrapper",children:[(0,Om.jsx)("button",{className:"refresh-button",onClick:async()=>{try{p(!0);const e=await $m(d);s(e),a(e.slice(0,u)),c(0),p(!1)}catch(e){console.error("Error fetching users: ",e),p(!1)}},children:(0,Om.jsx)(Cg,{className:"icon-svg",size:24,color:"#007BFF"})}),(0,Om.jsx)("input",{type:"text",placeholder:"Buscar",className:"buscador-input",onKeyPress:e=>{"Enter"===e.key&&b()}}),(0,Om.jsx)("button",{className:"buscador-button",onClick:b,children:(0,Om.jsx)(kg,{className:"icon-svg",size:24,color:"#007BFF"})})]}),(0,Om.jsxs)("select",{className:"buscador-select",children:[(0,Om.jsx)("option",{value:"nombre",children:"Nombre"}),(0,Om.jsx)("option",{value:"usuario",children:"Usuario"}),(0,Om.jsx)("option",{value:"correo",children:"Correo"})]})]}),(0,Om.jsxs)("div",{className:"filter-container",children:[(0,Om.jsx)("label",{htmlFor:"sort",children:"Ordenar por:"}),(0,Om.jsxs)("select",{id:"sort",value:d,onChange:e=>h(e.target.value),className:"sort-select",children:[(0,Om.jsx)("option",{value:"Aleatorio",children:"Aleatorio"}),(0,Om.jsx)("option",{value:"Nombre completo (A-Z)",children:"Nombre completo (A-Z)"}),(0,Om.jsx)("option",{value:"Usuario (A-Z)",children:"Usuario (A-Z)"}),(0,Om.jsx)("option",{value:"Recientes",children:"Recientes"}),(0,Om.jsx)("option",{value:"Rol",children:"Rol"})]})]})]}),(0,Om.jsx)("div",{className:"table-wrapper",children:(0,Om.jsxs)("div",{className:"table-container",children:[(0,Om.jsxs)("table",{className:"user-table",children:[(0,Om.jsx)("thead",{className:"user-table-header",children:(0,Om.jsxs)("tr",{children:[(0,Om.jsx)("th",{className:"user-table-header-cell",children:"Nombre"}),(0,Om.jsx)("th",{className:"user-table-header-cell",children:"Usuario"}),(0,Om.jsx)("th",{className:"user-table-header-cell",children:"Correo"}),(0,Om.jsx)("th",{className:"user-table-header-cell",children:"Rol"}),(0,Om.jsx)("th",{className:"user-table-header-cell",children:"Info"}),(0,Om.jsx)("th",{className:"user-table-header-cell",children:"Editar"}),(0,Om.jsx)("th",{className:"user-table-header-cell",children:"Eliminar"})]})}),(0,Om.jsx)("tbody",{className:"user-table-body",children:o.length>0?o.map((e=>(0,Om.jsxs)("tr",{className:"user-table-row",children:[(0,Om.jsx)("td",{className:"user-table-cell",children:e.nombre||"N/A"}),(0,Om.jsx)("td",{className:"user-table-cell",children:e.usuario||"N/A"}),(0,Om.jsx)("td",{className:"user-table-cell",children:e.correo||"N/A"}),(0,Om.jsx)("td",{className:"user-table-cell",children:e.rol||"N/A"}),(0,Om.jsx)("td",{className:"user-table-cell",children:(0,Om.jsx)("button",{className:"button-actions",onClick:()=>v(e),children:(0,Om.jsx)(Eg,{className:"icon-svg",size:16,color:"#007BFF"})})}),(0,Om.jsx)("td",{className:"user-table-cell",children:(0,Om.jsx)("button",{className:"button-actions",onClick:()=>(e=>{g(e),r(e)})(e),children:(0,Om.jsx)(Sg,{className:"icon-svg",size:16,color:"#F7E07F"})})}),(0,Om.jsx)("td",{className:"user-table-cell",children:(0,Om.jsx)("button",{className:"button-actions",onClick:()=>(e=>{ig("\xbfEst\xe1s seguro?","Esta acci\xf3n no se puede deshacer.","S\xed, eliminar","Cancelar").then((async t=>{if(t.isConfirmed)try{await xg(e.id,e.uid),ng("Eliminado","El usuario ha sido eliminado.",tg.SUCCESS);const t=i.filter((t=>t.id!==e.id));s(t),a(t.slice(l*u,(l+1)*u))}catch(n){console.error("Error al eliminar el usuario:",n),ng("Error","No se pudo eliminar el usuario.",tg.ERROR)}}))})(e),children:(0,Om.jsx)(Ng,{className:"icon-svg",size:16,color:"#FF5C5C"})})})]},e.id))):(0,Om.jsx)("tr",{className:"user-table-row",children:(0,Om.jsx)("td",{className:"user-table-cell",colSpan:"7",children:"No hay usuarios disponibles"})})})]}),(0,Om.jsxs)("div",{className:"pagination-buttons",children:[(0,Om.jsx)("button",{className:"button-actions",onClick:()=>y("first"),disabled:0===l,children:(0,Om.jsx)(Tg,{className:"icon-svg",size:24})}),(0,Om.jsx)("button",{className:"button-actions",onClick:()=>y("prev"),disabled:0===l,children:(0,Om.jsx)(jg,{className:"icon-svg",size:24})}),(0,Om.jsxs)("span",{className:"page-indicator",children:[l+1," de ",Math.ceil(i.length/u)]}),(0,Om.jsx)("button",{className:"button-actions",onClick:()=>y("next"),disabled:(l+1)*u>=i.length,children:(0,Om.jsx)(Ig,{className:"icon-svg",size:24})}),(0,Om.jsx)("button",{className:"button-actions",onClick:()=>y("last"),disabled:(l+1)*u>=i.length,children:(0,Om.jsx)(Ag,{className:"icon-svg",size:24})})]})]})})]})},Pg=Vf(Tm),Dg=t=>{let{onClose:n,setIsAuthenticating:r}=t;const[i,s]=(0,e.useState)(!1),[o,a]=(0,e.useState)({nombre:"",edad:"",genero:"",estatura:"",peso:"",padecimientos:"",telefono:"",rol:""}),l=e=>{const{name:t,value:n}=e.target;a((e=>({...e,[t]:n})))};return(0,Om.jsx)("div",{className:"admin-register-user-container",children:i?(0,Om.jsx)("div",{className:"loading-indicator",children:"Cargando..."}):(0,Om.jsxs)(Om.Fragment,{children:[(0,Om.jsx)("div",{className:"admin-register-user-header",children:(0,Om.jsx)("h2",{children:"Agregar Usuario"})}),(0,Om.jsxs)("form",{className:"admin-register-user-form",onSubmit:async e=>{if(e.preventDefault(),r(!0),s(!0),!(()=>{const e=["nombre","edad","genero","estatura","peso","padecimientos","correo","telefono","contrasena","usuario","rol"];for(let t of e)if(void 0===o[t]||""===o[t].trim())return!1;return""!==o.genero&&""!==o.rol&&"Seleccione"!==o.genero&&"Seleccione"!==o.rol})())return I().fire({icon:"warning",title:"Registro incompleto",text:"Por favor, complete todos los campos correctamente.",confirmButtonText:"Entendido"}),r(!1),void s(!1);try{if(await Vm(o.correo))return I().fire({icon:"error",title:"Correo ya registrado",text:"El correo ingresado ya est\xe1 registrado. Por favor, utilice otro correo.",confirmButtonText:"Entendido"}),r(!1),void s(!1);if(await Bm(o.usuario))return I().fire({icon:"error",title:"Usuario ya registrado",text:"El usuario ya est\xe1 en uso. Por favor, utilice otro usuario.",confirmButtonText:"Entendido"}),r(!1),void s(!1);if((await I().fire({title:"Confirmar registro",text:"\xbfEst\xe1s seguro de que deseas registrar este usuario?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, registrar",cancelButtonText:"Cancelar"})).isConfirmed){const e=Pg.currentUser.email,{value:t}=await I().fire({title:"Autenticaci\xf3n requerida",text:"Por favor, ingresa tu contrase\xf1a para continuar con el registro:",input:"password",inputPlaceholder:"Ingrese su contrase\xf1a",showCancelButton:!0});if(!t)return r(!1),void s(!1);await Um(o,e,t),I().fire({icon:"success",title:"Usuario registrado",text:"El usuario ha sido registrado exitosamente.",confirmButtonText:"Ok"}),a({nombre:"",edad:"",genero:"",estatura:"",peso:"",padecimientos:"",correo:"",telefono:"",contrasena:"",usuario:"",rol:""}),n()}}catch(t){I().fire({icon:"error",title:"Error",text:"Hubo un error al registrar el usuario.",confirmButtonText:"Entendido"})}finally{r(!1),s(!1)}},children:[(0,Om.jsx)("button",{type:"button",className:"admin-register-user-close-button",onClick:()=>{ig("\xbfEst\xe1s seguro?","Est\xe1s a punto de cerrar el formulario. Los datos no guardados se perder\xe1n.","S\xed, cerrar","Cancelar").then((e=>{e.isConfirmed&&n()}))},children:(0,Om.jsx)(Fm,{})}),(0,Om.jsxs)("div",{className:"colum-one-admin",children:[(0,Om.jsxs)("div",{className:"register-user-group-admin",children:[(0,Om.jsx)("label",{htmlFor:"usuario",className:"register-label-usuario-admin",children:"Usuario"}),(0,Om.jsx)("input",{type:"text",id:"usuario",name:"usuario",value:o.usuario,onChange:l,className:"register-input-usuario-admin"})]}),(0,Om.jsxs)("div",{className:"register-name-group-admin",children:[(0,Om.jsx)("label",{htmlFor:"nombre",className:"register-label-nombre-admin",children:"Nombre completo"}),(0,Om.jsx)("input",{type:"text",id:"nombre",name:"nombre",value:o.nombre,onChange:l,className:"register-input-nombre-admin"})]}),(0,Om.jsxs)("div",{className:"register-correo-group-admin",children:[(0,Om.jsx)("label",{htmlFor:"correo",className:"register-label-correo-admin",children:"Correo"}),(0,Om.jsx)("input",{type:"email",id:"correo",name:"correo",value:o.correo,onChange:l,className:"register-input-correo-admin"})]}),(0,Om.jsx)("div",{className:"password-strength-container",children:(0,Om.jsx)(Qm,{password:o.contrasena,setPassword:e=>a({...o,contrasena:e})})})]}),(0,Om.jsxs)("div",{className:"colum-two-admin",children:[(0,Om.jsxs)("div",{className:"register-genero-group-admin",children:[(0,Om.jsx)("label",{htmlFor:"genero",className:"register-label-genero-admin",children:"G\xe9nero"}),(0,Om.jsxs)("select",{id:"genero",name:"genero",value:o.genero,onChange:l,className:"register-input-genero-admin",children:[(0,Om.jsx)("option",{value:"",children:"Seleccione"}),(0,Om.jsx)("option",{value:"Hombre",children:"Hombre"}),(0,Om.jsx)("option",{value:"Mujer",children:"Mujer"}),(0,Om.jsx)("option",{value:"Otro",children:"Otro"})]})]}),(0,Om.jsxs)("div",{className:"register-edad-group-admin",children:[(0,Om.jsx)("label",{htmlFor:"edad",className:"register-label-edad-admin",children:"Edad"}),(0,Om.jsx)("input",{type:"number",id:"edad",name:"edad",value:o.edad,onChange:l,className:"register-input-edad-admin",min:"0"})]}),(0,Om.jsxs)("div",{className:"register-peso-group-admin",children:[(0,Om.jsx)("label",{htmlFor:"peso",className:"register-label-peso-admin",children:"Peso (kg)"}),(0,Om.jsx)("input",{type:"number",id:"peso",name:"peso",value:o.peso,onChange:l,className:"register-input-peso-admin",step:"0.1",min:"0"})]}),(0,Om.jsxs)("div",{className:"register-estatura-group-admin",children:[(0,Om.jsx)("label",{htmlFor:"estatura",className:"register-label-estatura-admin",children:"Estatura (metros)"}),(0,Om.jsx)("input",{type:"number",id:"estatura",name:"estatura",value:o.estatura,onChange:l,className:"register-input-estatura-admin",step:"0.01",min:"0"})]})]}),(0,Om.jsxs)("div",{className:"colum-three-admin",children:[(0,Om.jsxs)("div",{className:"register-telefono-group-admin",children:[(0,Om.jsx)("label",{htmlFor:"telefono",className:"register-label-telefono-admin",children:"Tel\xe9fono"}),(0,Om.jsx)(Gm(),{country:"cr",value:o.telefono,onChange:e=>{a((t=>({...t,telefono:e})))},inputProps:{name:"telefono",required:!0,className:"register-input-telefono-admin"}})]}),(0,Om.jsxs)("div",{className:"register-rol-group-admin",children:[(0,Om.jsx)("label",{htmlFor:"rol",className:"register-label-rol-admin",children:"Rol"}),(0,Om.jsxs)("select",{id:"rol",name:"rol",value:o.rol,onChange:l,className:"register-input-rol-admin",children:[(0,Om.jsx)("option",{value:"",children:"Seleccione"}),(0,Om.jsx)("option",{value:zm.ADMINISTRADOR,children:"Administrador"}),(0,Om.jsx)("option",{value:zm.ENTRENADOR,children:"Entrenador"}),(0,Om.jsx)("option",{value:zm.CLIENTE,children:"Cliente"})]})]}),(0,Om.jsxs)("div",{className:"register-padecimientos-group-admin",children:[(0,Om.jsx)("label",{htmlFor:"padecimientos",className:"register-label-padecimientos-admin",children:"Padecimientos"}),(0,Om.jsx)("textarea",{id:"padecimientos",name:"padecimientos",value:o.padecimientos,onChange:l,className:"register-input-padecimientos-admin"})]})]}),(0,Om.jsx)("div",{className:"register-button-register-container-admin",children:(0,Om.jsx)("button",{type:"submit",className:"register-button-register-admin",children:"Registrar"})})]})]})})},Mg=async(e,t)=>{try{const n=e.replace(/^\/+/,"");console.log("ID del usuario recibido:",e),console.log("ID del usuario sanitizado:",n);const r=dc(jm,"User",n),i=await du(r);if(console.log("Referencia del documento:",r.path),console.log("Datos del documento obtenido:",i.exists()?i.data():"No existe"),i.exists()){console.log("Documento encontrado:",i.id),console.log("Datos actuales del documento:",i.data()),console.log("Datos a actualizar:",t),await mu(r,t);const e=await du(r);e.exists()?console.log("Usuario actualizado correctamente:",e.data()):console.log("Error al actualizar el usuario: El documento no existe despu\xe9s de la actualizaci\xf3n")}else console.log("No se encontr\xf3 el documento del usuario en la base de datos")}catch(n){console.error("Error al actualizar el usuario:",n)}},Rg=async(e,t,n)=>{try{const r=e.replace(/^\/+/,""),i=dc(jm,"Sales",r),s=await du(i);if(s.exists()){const r=s.data();let{quantity:o,state:a}=r;const l=parseInt(o,10);if(!(l>=n))throw new Error("Cantidad insuficiente en el stock.");{const s=l-n,o=0===s?"Agotado":"Disponible";await mu(i,{quantity:s.toString(),state:o});const a=uc(jm,"ShopingCar"),c=Yc(a,Xc("idProduct","==",e),Xc("idUser","==",t)),u=await fu(c);if(u.empty){const i=parseInt(r.price,10)*n;await pu(dc(a),{idProduct:e,idUser:t,name:r.name,description:r.description,imageID:r.imageID,price:r.price,quantity:n.toString(),totalAmount:i.toString()})}else{const e=u.docs[0].ref,t=u.docs[0].data(),i=parseInt(t.quantity,10)+n,s=parseInt(r.price,10)*i;await mu(e,{quantity:i.toString(),totalAmount:s.toString()})}}}}catch(r){console.error("Error al actualizar el producto:",r)}},Lg=async e=>{try{const t=Yc(uc(jm,"ShopingCar"),Xc("idUser","==",e)),n=await fu(t);let r=0;return n.forEach((e=>{r+=parseInt(e.data().quantity,10)})),r}catch(t){return console.error("Error al contar productos en el carrito:",t),0}},Fg=async(e,t,n)=>{try{const r=Vf().currentUser;if(!r)throw new Error("No hay ning\xfan usuario autenticado.");{const i=rh.credential(e,t);await bh(r,i),await function(e,t){return Eh(re(e),null,t)}(r,n),console.log("Contrase\xf1a actualizada correctamente.")}}catch(r){throw console.error("Error al actualizar la contrase\xf1a:",r),r}},zg=t=>{let{user:n,onClose:r}=t;const[i,s]=(0,e.useState)({nombre:"",edad:"",genero:"",estatura:"",peso:"",padecimientos:"",telefono:"",rol:""});(0,e.useEffect)((()=>{n&&s({nombre:n.nombre||"",edad:n.edad||"",genero:n.genero||"",estatura:n.estatura||"",peso:n.peso||"",padecimientos:n.padecimientos||"",telefono:n.telefono||"",rol:n.rol||""})}),[n]);const o=e=>{const{name:t,value:n}=e.target;s((e=>({...e,[t]:n})))};return(0,Om.jsxs)("div",{className:"admin-update-user-container",children:[(0,Om.jsx)("div",{className:"admin-update-user-header",children:(0,Om.jsx)("h2",{children:"Actualizar Usuario"})}),(0,Om.jsxs)("form",{className:"admin-update-user-form",onSubmit:async e=>{if(e.preventDefault(),(()=>{const e=["nombre","edad","genero","estatura","peso","padecimientos","telefono","rol"];for(let t of e)if(void 0===i[t]||""===i[t].trim())return!1;return""!==i.genero&&""!==i.rol&&"Seleccione"!==i.genero&&"Seleccione"!==i.rol})())try{await Mg(n.id,i),I().fire({icon:"success",title:"Usuario actualizado",text:"Los datos del usuario han sido actualizados exitosamente.",confirmButtonText:"Ok"}),r()}catch(t){console.error("Error al actualizar el usuario:",t),I().fire({icon:"error",title:"Error",text:"Hubo un error al actualizar el usuario.",confirmButtonText:"Entendido"})}else I().fire({icon:"warning",title:"Campos incompletos",text:"Por favor, complete todos los campos correctamente.",confirmButtonText:"Entendido"})},children:[(0,Om.jsx)("button",{type:"button",className:"admin-update-user-close-button",onClick:()=>{I().fire({title:"\xbfEst\xe1s seguro?",text:"Los cambios no guardados se perder\xe1n.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, cerrar",cancelButtonText:"Cancelar"}).then((e=>{e.isConfirmed&&r()}))},children:(0,Om.jsx)(Fm,{})}),(0,Om.jsxs)("div",{className:"colum-one-update",children:[(0,Om.jsxs)("div",{className:"register-name-group-update",children:[(0,Om.jsx)("label",{htmlFor:"nombre",className:"register-label-nombre-update",children:"Nombre completo"}),(0,Om.jsx)("input",{type:"text",id:"nombre",name:"nombre",value:i.nombre,onChange:o,className:"register-input-nombre-update"})]}),(0,Om.jsxs)("div",{className:"register-genero-group-update",children:[(0,Om.jsx)("label",{htmlFor:"genero",className:"register-label-genero-update",children:"G\xe9nero"}),(0,Om.jsxs)("select",{id:"genero",name:"genero",value:i.genero,onChange:o,className:"register-input-genero-update",children:[(0,Om.jsx)("option",{value:"",children:"Seleccione"}),(0,Om.jsx)("option",{value:"Hombre",children:"Hombre"}),(0,Om.jsx)("option",{value:"Mujer",children:"Mujer"}),(0,Om.jsx)("option",{value:"Otro",children:"Otro"})]})]}),(0,Om.jsxs)("div",{className:"register-rol-group-update",children:[(0,Om.jsx)("label",{htmlFor:"rol",className:"register-label-rol-update",children:"Rol"}),(0,Om.jsxs)("select",{id:"rol",name:"rol",value:i.rol,onChange:o,className:"register-input-rol-update",children:[(0,Om.jsx)("option",{value:"",children:"Seleccione"}),(0,Om.jsx)("option",{value:zm.ADMINISTRADOR,children:"Administrador"}),(0,Om.jsx)("option",{value:zm.ENTRENADOR,children:"Entrenador"}),(0,Om.jsx)("option",{value:zm.CLIENTE,children:"Cliente"})]})]})]}),(0,Om.jsxs)("div",{className:"colum-two-update",children:[(0,Om.jsxs)("div",{className:"register-edad-group-update",children:[(0,Om.jsx)("label",{htmlFor:"edad",className:"register-label-edad-update",children:"Edad"}),(0,Om.jsx)("input",{type:"number",id:"edad",name:"edad",value:i.edad,onChange:o,className:"register-input-edad-update",min:"0"})]}),(0,Om.jsxs)("div",{className:"register-peso-group-update",children:[(0,Om.jsx)("label",{htmlFor:"peso",className:"register-label-peso-update",children:"Peso (kg)"}),(0,Om.jsx)("input",{type:"number",id:"peso",name:"peso",value:i.peso,onChange:o,className:"register-input-peso-update",step:"0.1",min:"0"})]}),(0,Om.jsxs)("div",{className:"register-estatura-group-update",children:[(0,Om.jsx)("label",{htmlFor:"estatura",className:"register-label-estatura-update",children:"Estatura (metros)"}),(0,Om.jsx)("input",{type:"number",id:"estatura",name:"estatura",value:i.estatura,onChange:o,className:"register-input-estatura-update",step:"0.01",min:"0"})]})]}),(0,Om.jsxs)("div",{className:"colum-three-update",children:[(0,Om.jsxs)("div",{className:"register-telefono-group-update",children:[(0,Om.jsx)("label",{htmlFor:"telefono",className:"register-label-telefono-update",children:"Tel\xe9fono"}),(0,Om.jsx)(Gm(),{country:"cr",value:i.telefono,onChange:e=>{s((t=>({...t,telefono:e})))},inputProps:{name:"telefono",required:!0,className:"register-input-telefono-update"}})]}),(0,Om.jsxs)("div",{className:"register-padecimientos-group-update",children:[(0,Om.jsx)("label",{htmlFor:"padecimientos",className:"register-label-padecimientos-update",children:"Padecimientos"}),(0,Om.jsx)("textarea",{id:"padecimientos",name:"padecimientos",value:i.padecimientos,onChange:o,className:"register-input-padecimientos-update"})]})]}),(0,Om.jsx)("div",{className:"register-button-register-container-update",children:(0,Om.jsx)("button",{type:"submit",className:"register-button-register-update",children:"Actualizar"})})]})]})},Ug=async()=>{const e=uc(jm,"gimnasios");return(await fu(e)).docs.map((e=>({id:e.id,...e.data()})))},Vg=async e=>{console.log(e);const t=uc(jm,"gimnasios",e,"inventario");return(await fu(t)).docs.map((e=>({id:e.id,...e.data()})))},Bg=async(e,t)=>{const n=dc(jm,"gimnasios",e,"inventario",t),r=await du(n);if(r.exists())return{id:r.id,...r.data()};throw new Error("Producto no encontrado")},$g=async(e,t,n)=>{const r=dc(jm,"gimnasios",e,"inventario",t);return await pu(r,n,{merge:!0}),{id:r.id,...n}},Hg=Lm("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),qg=t=>{let{onShowRegisterInventory:n,onShowEditInventory:r}=t;const[i,s]=(0,e.useState)([]),[o,a]=(0,e.useState)(""),[l,c]=(0,e.useState)([]),[u,d]=(0,e.useState)(""),[h]=(0,e.useState)(5),[f,p]=(0,e.useState)(0),[m,g]=(0,e.useState)("Aleatorio");(0,e.useEffect)((()=>{(async()=>{try{const e=await Ug();s(e)}catch(e){console.error("Error fetching gyms:",e)}})()}),[]),(0,e.useEffect)((()=>{(async()=>{if(o)try{const e=await Vg(o);c(e||[])}catch(e){console.error("Error fetching inventory:",e),c([])}})()}),[o]);const v=async e=>{if((await I().fire({title:"\xbfEst\xe1s seguro?",text:"Esta acci\xf3n no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar"})).isConfirmed)try{await(async(e,t)=>{const n=dc(jm,"gimnasios",e,"inventario",t);await gu(n)})(o,e),I().fire({icon:"success",title:"Equipo eliminado",showConfirmButton:!1,timer:1500}),c((t=>t.filter((t=>t.id!==e))))}catch(t){console.error("Error deleting equipment: ",t),I().fire({icon:"error",title:"Error",text:"No se pudo eliminar el equipo",confirmButtonText:"Entendido"})}},y=l.filter((e=>e.nombre&&e.nombre.toLowerCase().includes(u)));"Nombre"===m&&y.sort(((e,t)=>e.nombre.localeCompare(t.nombre))),"Cantidad"===m&&y.sort(((e,t)=>e.cantidad-t.cantidad)),"Estado"===m&&y.sort(((e,t)=>e.estado.localeCompare(t.estado)));const b=y.slice(f*h,(f+1)*h),w=e=>{"next"===e&&p((e=>e+1)),"prev"===e&&p((e=>e-1)),"first"===e&&p(0),"last"===e&&p(Math.floor(y.length/h))};return(0,Om.jsxs)("div",{className:"admin-inventory-view",children:[(0,Om.jsxs)("div",{className:"gym-selection-small",children:[(0,Om.jsx)("label",{htmlFor:"gym",children:"Seleccionar Gimnasio:"}),(0,Om.jsxs)("select",{id:"gym",value:o,onChange:e=>a(e.target.value),className:"gym-select-small",children:[(0,Om.jsx)("option",{value:"",children:"Selecciona un gimnasio"}),i.map((e=>(0,Om.jsx)("option",{value:e.id,children:e.nombre},e.id)))]})]}),o&&(0,Om.jsxs)(Om.Fragment,{children:[(0,Om.jsxs)("div",{className:"inventory-actions",children:[(0,Om.jsxs)("button",{className:"add-equipment-button",onClick:()=>{n(o)},children:[(0,Om.jsx)(Hg,{})," Agregar Equipo"]}),(0,Om.jsxs)("div",{className:"search-and-sort",children:[(0,Om.jsxs)("div",{className:"search-box",children:[(0,Om.jsx)("input",{type:"text",placeholder:"Buscar",value:u,onChange:e=>{d(e.target.value.toLowerCase())}}),(0,Om.jsx)("button",{className:"search-button",children:(0,Om.jsx)(kg,{})})]}),(0,Om.jsxs)("div",{className:"sort-box",children:[(0,Om.jsx)("label",{children:"Ordenar por:"}),(0,Om.jsxs)("select",{value:m,onChange:e=>g(e.target.value),children:[(0,Om.jsx)("option",{value:"Aleatorio",children:"Aleatorio"}),(0,Om.jsx)("option",{value:"Nombre",children:"Nombre"}),(0,Om.jsx)("option",{value:"Cantidad",children:"Cantidad"}),(0,Om.jsx)("option",{value:"Estado",children:"Estado"})]})]})]})]}),(0,Om.jsx)("div",{className:"table-responsive",children:(0,Om.jsxs)("table",{className:"table table-bordered table-hover",children:[(0,Om.jsx)("thead",{className:"table-dark",children:(0,Om.jsxs)("tr",{children:[(0,Om.jsx)("th",{children:"Nombre"}),(0,Om.jsx)("th",{children:"Cantidad"}),(0,Om.jsx)("th",{children:"Estado"}),(0,Om.jsx)("th",{children:"Info"}),(0,Om.jsx)("th",{children:"Editar"}),(0,Om.jsx)("th",{children:"Eliminar"})]})}),(0,Om.jsx)("tbody",{children:0===b.length?(0,Om.jsx)("tr",{children:(0,Om.jsx)("td",{colSpan:"4",children:"No se encontraron equipos"})}):b.map((e=>(0,Om.jsxs)("tr",{children:[(0,Om.jsx)("td",{children:e.nombre}),(0,Om.jsx)("td",{children:e.cantidad}),(0,Om.jsx)("td",{children:e.estado}),(0,Om.jsx)("td",{children:(0,Om.jsx)("button",{className:"button-actions",onClick:()=>(e=>{try{const t=l.find((t=>t.id===e));I().fire({title:"Informaci\xf3n del equipo",html:`\n          <p><strong>Nombre:</strong> ${t.nombre}</p>\n          <p><strong>Cantidad:</strong> ${t.cantidad}</p>\n          <p><strong>Estado:</strong> ${t.estado}</p>\n          <p><strong>Categor\xeda:</strong> ${t.categoria}</p>\n          <p><strong>Ejercicios:</strong></p>\n          <ul>\n            ${t.ejercicios.map((e=>`\n              <li>\n                <strong>Nombre:</strong> ${e.nombre}<br>\n                <strong>Descripci\xf3n:</strong> ${e.descripcion}<br>\n                <strong>Zonas:</strong> ${e.zonas.join(", ")}\n              </li>\n            `)).join("")}\n          </ul>\n        `,confirmButtonText:"Entendido"})}catch(t){console.error("Error fetching equipment info: ",t),I().fire({icon:"error",title:"Error",text:"No se pudo obtener la informaci\xf3n del equipo",confirmButtonText:"Entendido"})}})(e.id),children:(0,Om.jsx)(Eg,{size:16,color:"#007BFF"})})}),(0,Om.jsx)("td",{children:(0,Om.jsx)("button",{className:"button-actions",onClick:()=>{return t=e.id,void r(o,t);var t},children:(0,Om.jsx)(Sg,{size:16,color:"#F7E07F"})})}),(0,Om.jsx)("td",{children:(0,Om.jsx)("button",{className:"button-actions",onClick:()=>v(e.id),children:(0,Om.jsx)(Ng,{size:16,color:"#FF5C5C"})})})]},e.id)))})]})}),(0,Om.jsxs)("div",{className:"pagination-buttons",children:[(0,Om.jsx)("button",{className:"button-actions",onClick:()=>w("first"),disabled:0===f,children:(0,Om.jsx)(Tg,{size:24})}),(0,Om.jsx)("button",{className:"button-actions",onClick:()=>w("prev"),disabled:0===f,children:(0,Om.jsx)(jg,{size:24})}),(0,Om.jsxs)("span",{className:"page-indicator",children:[f+1," de ",Math.floor(y.length/h)+1]}),(0,Om.jsx)("button",{className:"button-actions",onClick:()=>w("next"),disabled:f===Math.floor(y.length/h),children:(0,Om.jsx)(Ig,{size:24})}),(0,Om.jsx)("button",{className:"button-actions",onClick:()=>w("last"),disabled:f===Math.floor(y.length/h),children:(0,Om.jsx)(Ag,{size:24})})]})]})]})},Wg=t=>{let{gimnasioId:n,onClose:r}=t;const[i,s]=(0,e.useState)({nombre:"",cantidad:"",categoria:"",estado:"Operativo",zonas:[],ejercicios:[]}),[o,a]=(0,e.useState)(""),[l,c]=(0,e.useState)(""),[u,d]=(0,e.useState)(""),h=e=>{const{name:t,value:n}=e.target;s((e=>({...e,[t]:n})))};return(0,Om.jsxs)("div",{className:"admin-inventory-register-view",children:[(0,Om.jsx)("h2",{children:"Agregar Equipo"}),(0,Om.jsx)("button",{className:"btn-close",onClick:r}),(0,Om.jsxs)("form",{className:"inventory-form",onSubmit:async e=>{e.preventDefault();try{i.ejercicios=i.ejercicios.filter((e=>e.zonas.length>0));const e={nombre:i.nombre,cantidad:i.cantidad,categoria:i.categoria,estado:i.estado,ejercicios:i.ejercicios};await(async e=>{let{gimnasioId:t,producto:n}=e;n.zonas&&0===n.zonas.length&&delete n.zonas;const r=dc(uc(jm,"gimnasios",t,"inventario"));return await pu(r,n),{id:r.id,...n}})({producto:e,gimnasioId:n}),I().fire("\xc9xito","Producto agregado correctamente","success"),r()}catch(t){console.error("Error adding product: ",t),I().fire("Error","No se pudo agregar el producto","error")}},children:[(0,Om.jsx)("input",{type:"text",name:"nombre",value:i.nombre,onChange:h,placeholder:"Nombre del producto",className:"form-control"}),(0,Om.jsx)("input",{type:"number",name:"cantidad",value:i.cantidad,onChange:h,placeholder:"Cantidad",className:"form-control"}),(0,Om.jsx)("input",{type:"text",name:"categoria",value:i.categoria,onChange:h,placeholder:"Categor\xeda",className:"form-control"}),(0,Om.jsxs)("select",{name:"estado",value:i.estado,onChange:h,className:"form-control",children:[(0,Om.jsx)("option",{value:"Operativo",children:"Operativo"}),(0,Om.jsx)("option",{value:"En mantenimiento",children:"En mantenimiento"}),(0,Om.jsx)("option",{value:"Fuera de servicio",children:"Fuera de servicio"})]}),(0,Om.jsxs)("div",{className:"form-inline",children:[(0,Om.jsx)("input",{type:"text",value:o,onChange:e=>a(e.target.value),placeholder:"Nombre del ejercicio",className:"form-control"}),(0,Om.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),placeholder:"Descripci\xf3n del ejercicio",className:"form-control"}),(0,Om.jsxs)("div",{className:"form-inline",children:[(0,Om.jsx)("input",{type:"text",value:u,onChange:e=>d(e.target.value),placeholder:"Zona del cuerpo",className:"form-control"}),(0,Om.jsx)("button",{type:"button",className:"btn-zone",onClick:()=>{u&&!i.zonas.includes(u)&&(s((e=>({...e,zonas:[...e.zonas,u]}))),d(""))},children:"Enlistar Zona"})]}),i.zonas.length>0&&(0,Om.jsx)("ul",{className:"zone-list",children:i.zonas.map(((e,t)=>(0,Om.jsx)("li",{children:e},t)))}),(0,Om.jsx)("button",{type:"button",className:"btn-add",onClick:()=>{if(o&&l&&i.zonas.length>0){const e={nombre:o,descripcion:l,zonas:[...i.zonas]};s((t=>({...t,ejercicios:[...t.ejercicios,e],zonas:[]}))),a(""),c("")}else I().fire("Error","Debes agregar zonas al ejercicio antes de agregarlo.","error")},children:"+ Agregar Ejercicio"})]}),i.ejercicios.length>0&&(0,Om.jsxs)("div",{className:"inventory-list",children:[(0,Om.jsx)("h3",{children:"Ejercicios agregados:"}),(0,Om.jsx)("ul",{children:i.ejercicios.map(((e,t)=>(0,Om.jsxs)("li",{children:[(0,Om.jsx)("strong",{children:e.nombre}),": ",e.descripcion,(0,Om.jsx)("ul",{children:e.zonas.map(((e,t)=>(0,Om.jsx)("li",{children:e},t)))})]},t)))})]}),(0,Om.jsx)("button",{type:"submit",className:"btn-submit",children:"Finalizar Equipo"})]})]})},Gg=t=>{let{gimnasioId:n,equipoId:r,onClose:i}=t;const[s,o]=(0,e.useState)({nombre:"",cantidad:"",categoria:"",estado:"Operativo",ejercicios:[]});(0,e.useEffect)((()=>{(async()=>{try{const e=await Bg(n,r);o(e)}catch(e){console.error("Error fetching equipment: ",e)}})()}),[n,r]);const a=e=>{const{name:t,value:n}=e.target;o((e=>({...e,[t]:n})))};return(0,Om.jsxs)("div",{className:"admin-edit-inventory-view",children:[(0,Om.jsx)("h2",{children:"Editar Equipo"}),(0,Om.jsx)("button",{className:"btn-close",onClick:i,children:"X"}),(0,Om.jsxs)("form",{className:"inventory-form",onSubmit:async e=>{e.preventDefault();try{await $g(n,r,s),I().fire("\xc9xito","Equipo actualizado correctamente","success"),i()}catch(t){console.error("Error updating equipment: ",t),I().fire("Error","No se pudo actualizar el equipo","error")}},children:[(0,Om.jsx)("input",{type:"text",name:"nombre",value:s.nombre,onChange:a,placeholder:"Nombre del producto",className:"form-control"}),(0,Om.jsx)("input",{type:"number",name:"cantidad",value:s.cantidad,onChange:a,placeholder:"Cantidad",className:"form-control"}),(0,Om.jsx)("input",{type:"text",name:"categoria",value:s.categoria,onChange:a,placeholder:"Categor\xeda",className:"form-control"}),(0,Om.jsxs)("select",{name:"estado",value:s.estado,onChange:a,className:"form-control",children:[(0,Om.jsx)("option",{value:"Operativo",children:"Operativo"}),(0,Om.jsx)("option",{value:"En mantenimiento",children:"En mantenimiento"}),(0,Om.jsx)("option",{value:"Fuera de servicio",children:"Fuera de servicio"})]}),(0,Om.jsxs)("div",{className:"form-buttons",children:[(0,Om.jsx)("button",{type:"submit",className:"btn-submit",children:"Actualizar Equipo"}),(0,Om.jsx)("button",{type:"button",className:"btn-cancel",onClick:i,children:"Cancelar"})]})]})]})},Kg=t=>{let{onShowRegisterExpense:n,onShowEditExpense:r}=t;const[i,s]=(0,e.useState)([]),[o,a]=(0,e.useState)(""),[l]=(0,e.useState)(5),[c,u]=(0,e.useState)(0);(0,e.useEffect)((()=>{(async()=>{const e=await(async()=>{const e=uc(jm,"gastos");return(await fu(e)).docs.map((e=>({id:e.id,...e.data()})))})();s(e)})()}),[]);const d=i.filter((e=>e.nombre&&e.nombre.toLowerCase().includes(o))),h=d.slice(c*l,(c+1)*l),f=e=>{"next"===e&&c<Math.floor(d.length/l)?u(c+1):"prev"===e&&c>0?u(c-1):"first"===e?u(0):"last"===e&&u(Math.floor(d.length/l))},p=async e=>{(await I().fire({title:"\xbfEst\xe1s seguro?",text:"Esta acci\xf3n no se puede deshacer",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar"})).isConfirmed&&(await(async e=>{const t=dc(jm,"gastos",e);await gu(t)})(e),s(i.filter((t=>t.id!==e))),I().fire("Eliminado","El gasto ha sido eliminado.","success"))};return(0,Om.jsxs)("div",{className:"admin-expense-view",children:[(0,Om.jsxs)("div",{className:"expense-actions",children:[(0,Om.jsx)("button",{className:"add-expense-button",onClick:n,children:"Agregar Gasto"}),(0,Om.jsx)("div",{className:"search-box",children:(0,Om.jsx)("input",{type:"text",placeholder:"Buscar",value:o,onChange:e=>{a(e.target.value.toLowerCase())}})})]}),(0,Om.jsx)("div",{className:"table-container",children:(0,Om.jsxs)("table",{className:"expense-table",children:[(0,Om.jsx)("thead",{children:(0,Om.jsxs)("tr",{children:[(0,Om.jsx)("th",{children:"Nombre"}),(0,Om.jsx)("th",{children:"Monto"}),(0,Om.jsx)("th",{children:"Categor\xeda"}),(0,Om.jsx)("th",{children:"Fecha"}),(0,Om.jsx)("th",{children:"Editar"}),(0,Om.jsx)("th",{children:"Eliminar"})]})}),(0,Om.jsx)("tbody",{children:0===h.length?(0,Om.jsx)("tr",{children:(0,Om.jsx)("td",{colSpan:"6",children:"No se encontraron gastos"})}):h.map((e=>(0,Om.jsxs)("tr",{children:[(0,Om.jsx)("td",{children:e.nombre}),(0,Om.jsx)("td",{children:e.monto}),(0,Om.jsx)("td",{children:e.categoria}),(0,Om.jsx)("td",{children:e.fecha}),(0,Om.jsx)("td",{children:(0,Om.jsx)("button",{className:"button-actions",onClick:()=>r(e.id),children:(0,Om.jsx)(Sg,{size:16,color:"#007BFF"})})}),(0,Om.jsx)("td",{children:(0,Om.jsx)("button",{className:"button-actions",onClick:()=>p(e.id),children:(0,Om.jsx)(Ng,{size:16,color:"#DC3545"})})})]},e.id)))})]})}),(0,Om.jsxs)("div",{className:"pagination-buttons",children:[(0,Om.jsx)("button",{className:"button-actions",onClick:()=>f("first"),disabled:0===c,children:(0,Om.jsx)(Tg,{})}),(0,Om.jsx)("button",{className:"button-actions",onClick:()=>f("prev"),disabled:0===c,children:(0,Om.jsx)(jg,{})}),(0,Om.jsxs)("span",{className:"page-indicator",children:[c+1," de ",Math.floor(d.length/l)+1]}),(0,Om.jsx)("button",{className:"button-actions",onClick:()=>f("next"),disabled:c===Math.floor(d.length/l),children:(0,Om.jsx)(Ig,{})}),(0,Om.jsx)("button",{className:"button-actions",onClick:()=>f("last"),disabled:c===Math.floor(d.length/l),children:(0,Om.jsx)(Ag,{})})]})]})},Yg=t=>{let{onClose:n}=t;const[r,i]=(0,e.useState)({nombre:"",monto:"",categoria:"",fecha:(s=new Date,`${String(s.getDate()).padStart(2,"0")}/${String(s.getMonth()+1).padStart(2,"0")}/${s.getFullYear()}`)});var s;const o=e=>{const{name:t,value:n}=e.target;i((e=>({...e,[t]:n})))};return(0,Om.jsxs)("div",{className:"admin-register-expense-view",children:[(0,Om.jsx)("h2",{children:"Agregar Gasto"}),(0,Om.jsxs)("form",{className:"expense-form",onSubmit:async e=>{e.preventDefault();try{await(async e=>{const t=dc(uc(jm,"gastos"));return await pu(t,e),{id:t.id,...e}})(r),I().fire("\xc9xito","Gasto agregado correctamente","success"),n()}catch(t){console.error("Error adding expense: ",t),I().fire("Error","No se pudo agregar el gasto","error")}},children:[(0,Om.jsx)("input",{type:"text",name:"nombre",value:r.nombre,onChange:o,placeholder:"Nombre del gasto",className:"form-control"}),(0,Om.jsx)("input",{type:"number",name:"monto",value:r.monto,onChange:o,placeholder:"Monto",className:"form-control"}),(0,Om.jsx)("input",{type:"text",name:"categoria",value:r.categoria,onChange:o,placeholder:"Categor\xeda",className:"form-control"}),(0,Om.jsx)("input",{type:"date",name:"fecha",value:r.fecha,onChange:o,className:"form-control"}),(0,Om.jsxs)("div",{className:"form-buttons",children:[(0,Om.jsx)("button",{type:"submit",className:"btn-submit",children:"Agregar Gasto"}),(0,Om.jsx)("button",{type:"button",className:"btn-cancel",onClick:n,children:"Cancelar"})]})]})]})},Qg=t=>{let{gastoId:n,onClose:r}=t;const[i,s]=(0,e.useState)({nombre:"",monto:"",categoria:"",fecha:""});(0,e.useEffect)((()=>{(async()=>{try{const e=await(async e=>{const t=dc(jm,"gastos",e),n=await du(t);if(n.exists())return{id:n.id,...n.data()};throw new Error("Gasto no encontrado")})(n);s(e)}catch(e){console.error("Error fetching expense: ",e)}})()}),[n]);const o=e=>{const{name:t,value:n}=e.target;s((e=>({...e,[t]:n})))};return(0,Om.jsxs)("div",{className:"admin-expense-view",children:[(0,Om.jsx)("h2",{children:"Editar Gasto"}),(0,Om.jsxs)("form",{className:"expense-form",onSubmit:async e=>{e.preventDefault();try{await(async(e,t)=>{const n=dc(jm,"gastos",e);return await pu(n,t,{merge:!0}),{id:n.id,...t}})(n,i),I().fire("\xc9xito","Gasto actualizado correctamente","success"),r()}catch(t){console.error("Error updating expense: ",t),I().fire("Error","No se pudo actualizar el gasto","error")}},children:[(0,Om.jsx)("input",{type:"text",name:"nombre",value:i.nombre,onChange:o,placeholder:"Nombre del gasto",className:"form-control"}),(0,Om.jsx)("input",{type:"number",name:"monto",value:i.monto,onChange:o,placeholder:"Monto",className:"form-control"}),(0,Om.jsx)("input",{type:"text",name:"categoria",value:i.categoria,onChange:o,placeholder:"Categor\xeda",className:"form-control"}),(0,Om.jsx)("input",{type:"date",name:"fecha",value:i.fecha,onChange:o,className:"form-control"}),(0,Om.jsxs)("div",{className:"form-buttons",children:[(0,Om.jsx)("button",{type:"submit",className:"btn-submit",children:"Actualizar Gasto"}),(0,Om.jsx)("button",{type:"button",className:"btn-cancel",onClick:r,children:"Cancelar"})]})]})]})},Xg=t=>{let{onShowAddSuplements:n,onShowEditSuplements:r}=t;const[i,s]=(0,e.useState)([]),[o,a]=(0,e.useState)(""),[l,c]=(0,e.useState)([]),[u,d]=(0,e.useState)(!1),h=m((e=>e.user.role));return(0,e.useEffect)((()=>{!async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{const t=(await fu(uc(jm,"suplements"))).docs.map((e=>({id:e.id,...e.data()})));e||(s(t),c(t.slice(0,8)))}catch(t){console.error("Error al obtener los suplementos: ",t)}}()}),[]),(0,Om.jsxs)("div",{className:"cont-principal",children:[(0,Om.jsx)("div",{children:(0,Om.jsx)("h1",{className:"titulo",children:"Suplementos"})}),(0,Om.jsxs)("div",{className:"container-buttons",children:[(0,Om.jsxs)("div",{className:"flex-container",children:[(0,Om.jsx)("input",{type:"text",placeholder:"Buscar suplemento",value:o,onChange:e=>a(e.target.value),className:"search-input-flex"}),(0,Om.jsx)("button",{className:"search-button-flex",onClick:()=>{const e=i.filter((e=>e.nombre.toLowerCase().includes(o.toLowerCase())));c(e.slice(0,8)),d(!0)},children:(0,Om.jsx)(kg,{size:28,color:"#007BFF"})}),(0,Om.jsx)("button",{className:"button-refresh",onClick:()=>{a(""),c(i.slice(0,8)),d(!1)},children:(0,Om.jsx)(Cg,{size:28,color:"#007BFF"})})]}),"Administrador"===h&&(0,Om.jsx)("button",{className:"button-create",onClick:n,children:"Agregar suplemento"})]}),(0,Om.jsx)("div",{className:"suplementos-container",children:l.length>0?l.map((e=>(0,Om.jsxs)("div",{className:"suplemento-card",children:[(0,Om.jsxs)("div",{children:[(0,Om.jsx)("img",{src:e.url,alt:e.nombre,className:"suplemento-img"}),(0,Om.jsx)("h2",{children:e.nombre}),(0,Om.jsxs)("p",{children:["Precio: \u20a1",e.precio]}),(0,Om.jsxs)("p",{children:["Cantidad: ",e.cantidad]}),(0,Om.jsxs)("p",{children:["Estado: ",e.disponible?"Disponible":"No disponible"]}),(0,Om.jsxs)("p",{children:["Descripci\xf3n: ",e.descripcion||"Sin descripci\xf3n disponible"]})]}),"Administrador"===h&&(0,Om.jsxs)("div",{className:"container-DE",children:[(0,Om.jsxs)("button",{className:"button-sec",onClick:()=>(async e=>{I().fire({title:"\xbfEliminar suplemento?",showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar"}).then((async t=>{if(t.isConfirmed)try{await gu(dc(jm,"suplements",e));const t=i.filter((t=>t.id!==e));s(t),c(t.slice(0,8)),I().fire("Eliminado","El suplemento ha sido eliminado.","success")}catch(n){console.error("Error al eliminar el suplemento: ",n),I().fire("Error","Hubo un error al eliminar el suplemento.","error")}}))})(e.id),children:[(0,Om.jsx)(Ng,{size:28,color:"#FF5C5C"}),"Eliminar"]}),(0,Om.jsxs)("button",{className:"button-sec",onClick:()=>r(e),children:[(0,Om.jsx)(Sg,{size:28,color:"#F7E07F"}),"Editar"]})]})]},e.id))):(0,Om.jsx)("p",{children:"No hay suplementos disponibles."})}),l.length<(u?i.filter((e=>e.nombre.toLowerCase().includes(o.toLowerCase()))).length:i.length)&&(0,Om.jsx)("div",{className:"load-more-container",children:(0,Om.jsx)("button",{className:"load-more-button",onClick:()=>{if(u){const e=i.filter((e=>e.nombre.toLowerCase().includes(o.toLowerCase()))).slice(l.length,l.length+8);c((t=>[...t,...e]))}else{const e=i.slice(l.length,l.length+8);c((t=>[...t,...e]))}},children:"Cargar m\xe1s"})})]})},Jg=t=>{let{onClose:n}=t;const[r,i]=(0,e.useState)(""),[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(!0),[d,h]=(0,e.useState)(""),[f,p]=(0,e.useState)(null),[m,g]=(0,e.useState)(""),v=Em();return(0,Om.jsxs)("div",{className:"admin-add-suplement-container",children:[(0,Om.jsx)("h1",{className:"admin-add-suplement-title",children:"Agregar nuevo suplemento"}),(0,Om.jsx)("div",{className:"admin-add-suplement-back-container",children:(0,Om.jsx)("button",{type:"button",className:"admin-add-suplement-back-button",onClick:n,children:"Volver"})}),(0,Om.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!r||!a||!f)return void I().fire("Error","Por favor, completa todos los campos.","error");const t=xm(km(v,`suplements/${f.name}`),f);t.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(e=>{console.error("Error uploading image:",e),I().fire("Error","Error al subir la imagen.","error")}),(async()=>{const e=await _m(t.snapshot.ref);g(e);const n={nombre:r,cantidad:parseInt(s,10),descripcion:a,disponible:c,precio:parseFloat(d),url:e};try{await vu(uc(jm,"suplements"),n),i(""),o(""),l(""),u(!0),h(""),p(null),g(""),I().fire("Excelente","Suplemento agregado correctamente.","success")}catch(f){console.error("Error al agregar suplemento:",f),I().fire("Error","Hubo un error al agregar el suplemento.","error")}}))},className:"admin-add-suplement-form",children:[(0,Om.jsxs)("div",{className:"division-form-entry",children:[(0,Om.jsx)("div",{className:"left",children:(0,Om.jsxs)("div",{className:"admin-add-suplement-form-group",children:[(0,Om.jsx)("label",{className:"admin-add-suplement-label",children:"Subir imagen"}),(0,Om.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];t&&p(t)},className:"admin-add-suplement-input"}),f&&(0,Om.jsxs)("div",{className:"uploaded-image-container",children:[(0,Om.jsx)("img",{src:URL.createObjectURL(f),alt:"Suplemento",className:"uploaded-image"}),(0,Om.jsx)("button",{type:"button",onClick:()=>{p(null),g("")},className:"remove-image-button",children:"Eliminar imagen"})]})]})}),(0,Om.jsxs)("div",{className:"right",children:[(0,Om.jsxs)("div",{className:"admin-add-suplement-form-group",children:[(0,Om.jsx)("label",{htmlFor:"nombre",className:"admin-add-suplement-label",children:"Nombre"}),(0,Om.jsx)("input",{type:"text",id:"nombre",value:r,onChange:e=>i(e.target.value),className:"admin-add-suplement-input",required:!0})]}),(0,Om.jsxs)("div",{className:"admin-add-suplement-form-group",children:[(0,Om.jsx)("label",{htmlFor:"cantidad",className:"admin-add-suplement-label",children:"Cantidad"}),(0,Om.jsx)("input",{type:"number",id:"cantidad",value:0===s?"":s,onChange:e=>o(e.target.value),className:"admin-add-suplement-input",required:!0})]}),(0,Om.jsxs)("div",{className:"admin-add-suplement-form-group",children:[(0,Om.jsx)("label",{htmlFor:"descripcion",className:"admin-add-suplement-label",children:"Descripci\xf3n"}),(0,Om.jsx)("textarea",{id:"descripcion",value:a,onChange:e=>l(e.target.value),className:"admin-add-suplement-textarea",required:!0})]}),(0,Om.jsxs)("div",{className:"admin-add-suplement-form-group",children:[(0,Om.jsx)("label",{htmlFor:"disponible",className:"admin-add-suplement-label",children:"Disponible"}),(0,Om.jsxs)("select",{id:"disponible",value:c,onChange:e=>u("true"===e.target.value),className:"admin-add-suplement-select",required:!0,children:[(0,Om.jsx)("option",{value:"true",children:"Disponible"}),(0,Om.jsx)("option",{value:"false",children:"No disponible"})]})]}),(0,Om.jsxs)("div",{className:"admin-add-suplement-form-group",children:[(0,Om.jsx)("label",{htmlFor:"precio",className:"admin-add-suplement-label",children:"Precio"}),(0,Om.jsx)("input",{type:"number",id:"precio",value:0===d?"":d,onChange:e=>h(e.target.value),className:"admin-add-suplement-input",required:!0})]})]})]}),(0,Om.jsx)("div",{className:"division-form-button",children:(0,Om.jsx)("button",{type:"submit",className:"admin-add-suplement-submit-button",children:"Agregar"})})]})]})},Zg=t=>{let{suplemento:n,onClose:r}=t;const[i]=(0,e.useState)(n.nombre),[s,o]=(0,e.useState)(n.nombre),[a,l]=(0,e.useState)(n.cantidad),[c,u]=(0,e.useState)(n.descripcion),[d,h]=(0,e.useState)(n.disponible),[f,p]=(0,e.useState)(n.precio),[m,g]=(0,e.useState)(null),[v,y]=(0,e.useState)(n.url),b=Em(),w=async e=>{const t={nombre:s,cantidad:parseInt(a,10),descripcion:c,disponible:d,precio:parseFloat(f),url:e};try{const e=dc(jm,"suplements",n.id);await mu(e,t),I().fire("\xc9xito","Suplemento actualizado correctamente.","success"),r()}catch(i){console.error("Error al actualizar suplemento:",i),I().fire("Error","Hubo un error al actualizar el suplemento.","error")}},x=()=>{g(null),y("")};return(0,Om.jsxs)("div",{className:"edit-suplement-container",children:[(0,Om.jsx)("h1",{className:"edit-suplement-title",children:"Editar suplemento"}),(0,Om.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!s||!c||!m&&!v)return void I().fire("Error","Por favor, completa todos los campos.","error");let t=v;if(m){const e=xm(km(b,`suplements/${m.name}`),m);e.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(e=>{console.error("Error uploading image:",e),I().fire("Error","Error al subir la imagen.","error")}),(async()=>{t=await _m(e.snapshot.ref),y(t),w(t)}))}else w(t)},className:"edit-suplement-form",children:[(0,Om.jsxs)("div",{className:"division-form-entry",children:[(0,Om.jsx)("div",{className:"edit-left",children:(0,Om.jsxs)("div",{className:"edit-suplement-form-group",children:[(0,Om.jsx)("label",{className:"edit-suplement-label",children:"Subir imagen"}),(0,Om.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];t&&g(t)},className:"edit-suplement-input"}),m&&(0,Om.jsxs)("div",{className:"edit-uploaded-image-container",children:[(0,Om.jsx)("img",{src:URL.createObjectURL(m),alt:"Suplemento",className:"edit-uploaded-image"}),(0,Om.jsx)("button",{type:"button",onClick:x,className:"edit-remove-image-button",children:"Eliminar imagen"})]}),!m&&v&&(0,Om.jsxs)("div",{className:"edit-uploaded-image-container",children:[(0,Om.jsx)("img",{src:v,alt:"Suplemento",className:"edit-uploaded-image"}),(0,Om.jsx)("button",{type:"button",onClick:x,className:"edit-remove-image-button",children:"Eliminar imagen"})]})]})}),(0,Om.jsxs)("div",{className:"edit-right",children:[(0,Om.jsxs)("div",{className:"edit-suplement-form-group",children:[(0,Om.jsx)("label",{htmlFor:"nuevoNombre",className:"edit-suplement-label",children:"Nombre"}),(0,Om.jsx)("input",{type:"text",id:"nuevoNombre",value:s,onChange:e=>o(e.target.value),className:"edit-suplement-input",required:!0})]}),(0,Om.jsxs)("div",{className:"edit-suplement-form-group",children:[(0,Om.jsx)("label",{htmlFor:"cantidad",className:"edit-suplement-label",children:"Cantidad"}),(0,Om.jsx)("input",{type:"number",id:"cantidad",value:0===a?"":a,onChange:e=>l(e.target.value),className:"edit-suplement-input",required:!0})]}),(0,Om.jsxs)("div",{className:"edit-suplement-form-group",children:[(0,Om.jsx)("label",{htmlFor:"descripcion",className:"edit-suplement-label",children:"Descripci\xf3n"}),(0,Om.jsx)("textarea",{id:"descripcion",value:c,onChange:e=>u(e.target.value),className:"edit-suplement-textarea",required:!0})]}),(0,Om.jsxs)("div",{className:"edit-suplement-form-group",children:[(0,Om.jsx)("label",{htmlFor:"disponible",className:"edit-suplement-label",children:"Disponible"}),(0,Om.jsxs)("select",{id:"disponible",value:d,onChange:e=>h("true"===e.target.value),className:"edit-suplement-select",required:!0,children:[(0,Om.jsx)("option",{value:"true",children:"Disponible"}),(0,Om.jsx)("option",{value:"false",children:"No disponible"})]})]}),(0,Om.jsxs)("div",{className:"edit-suplement-form-group",children:[(0,Om.jsx)("label",{htmlFor:"precio",className:"edit-suplement-label",children:"Precio"}),(0,Om.jsx)("input",{type:"number",id:"precio",value:0===f?"":f,onChange:e=>p(e.target.value),className:"edit-suplement-input",required:!0})]})]})]}),(0,Om.jsxs)("div",{className:"edit-division-form-button",children:[(0,Om.jsx)("button",{type:"submit",className:"edit-as-submit-button",children:"Actualizar"}),(0,Om.jsx)("button",{type:"button",className:"edit-cancel-button",onClick:r,children:"Cancelar"})]})]})]})},ev=t=>{let{onShowAddRewards:n,onShowEditRewards:r}=t;const[i,s]=(0,e.useState)([]),[o,a]=(0,e.useState)(""),[l,c]=(0,e.useState)([]),[u,d]=(0,e.useState)(!1),[h,f]=(0,e.useState)(""),p=m((e=>e.user.role)),g=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{let t=(await fu(uc(jm,"rewards"))).docs.map((e=>({id:e.id,...e.data()})));switch(h){case"todos":default:break;case"sinreclamar":t=t.filter((e=>"sin reclamar"===e.estado));break;case"reclamado":t=t.filter((e=>"reclamado"===e.estado));break;case"vencido":t=t.filter((e=>"vencido"===e.estado))}e||(s(t),c(t.slice(0,8)))}catch(t){console.error("Error al obtener los premios: ",t)}},v=()=>{let e=[...i];switch(h){case"todos":default:break;case"sinreclamar":e=e.filter((e=>"sin reclamar"===e.estado));break;case"reclamado":e=e.filter((e=>"reclamado"===e.estado));break;case"vencido":e=e.filter((e=>"vencido"===e.estado))}const t=e.filter((e=>e.nombre.toLowerCase().includes(o.toLowerCase())));c(t.slice(0,8)),d(!0)};return(0,e.useEffect)((()=>{g()}),[]),(0,e.useEffect)((()=>{!0!==u?g():v()}),[h]),(0,Om.jsxs)("div",{className:"cont-pr",children:[(0,Om.jsx)("div",{children:(0,Om.jsx)("h1",{className:"titulo-prn",children:"Premios"})}),(0,Om.jsxs)("div",{className:"cont-buttons",children:[(0,Om.jsxs)("div",{className:"flex-cont",children:[(0,Om.jsx)("input",{type:"text",placeholder:"Buscar premio",value:o,onChange:e=>a(e.target.value),className:"search-input-fl"}),(0,Om.jsx)("button",{className:"search-button-fl",onClick:v,children:(0,Om.jsx)(kg,{size:28,color:"#007BFF"})}),(0,Om.jsx)("button",{className:"button-rfs",onClick:()=>{a(""),f(""),c(i.slice(0,8)),d(!1)},children:(0,Om.jsx)(Cg,{size:28,color:"#007BFF"})})]}),(0,Om.jsx)("div",{children:(0,Om.jsxs)("select",{value:h,onChange:e=>{return t=e.target.value,void f(t);var t},className:"select-tp",children:[(0,Om.jsx)("option",{value:"todos",children:"Seleccionar estado"}),(0,Om.jsx)("option",{value:"sinreclamar",children:"Sin reclamar"}),(0,Om.jsx)("option",{value:"reclamado",children:"Reclamado"}),(0,Om.jsx)("option",{value:"vencido",children:"Vencido"})]})}),"Administrador"===p&&(0,Om.jsx)("button",{className:"btn-create",onClick:n,children:" Agregar premio "})]}),(0,Om.jsx)("div",{className:"rewards-container",children:l.length>0?l.map((e=>(0,Om.jsxs)("div",{className:"reward-card",children:[(0,Om.jsxs)("div",{children:[(0,Om.jsx)("img",{src:e.url,alt:e.nombre,className:"reward-img"}),(0,Om.jsx)("h2",{children:e.nombre}),(0,Om.jsxs)("p",{children:["Descripci\xf3n: ",e.descripcion]}),(0,Om.jsxs)("p",{children:["Ganador: ",e.ganador]}),(0,Om.jsxs)("p",{children:["V\xe1lido hasta: ",e.valido]}),(0,Om.jsxs)("p",{children:["Estado: ",e.estado]})]}),"Administrador"===p&&(0,Om.jsxs)("div",{className:"cont-DE",children:[(0,Om.jsxs)("button",{className:"button-aux",onClick:()=>(async e=>{I().fire({title:"\xbfEliminar premio?",showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar"}).then((async t=>{if(t.isConfirmed)try{await gu(dc(jm,"rewards",e));const t=i.filter((t=>t.id!==e));s(t),c(t.slice(0,8)),I().fire("\xa1Muy bien!","El premio ha sido eliminado","success")}catch(n){console.error("Error al eliminar el premio: ",n),I().fire("Error","Hubo un error al eliminar el premio.","error")}}))})(e.id),children:[(0,Om.jsx)(Ng,{size:28,color:"#FF5C5C"}),"Eliminar"]}),(0,Om.jsxs)("button",{className:"button-aux",onClick:()=>r(e),children:[(0,Om.jsx)(Sg,{size:28,color:"#F7E07F"}),"Editar"]})]})]},e.id))):(0,Om.jsx)("p",{children:"No hay premios disponibles."})}),l.length<(u?i.filter((e=>e.nombre.toLowerCase().includes(o.toLowerCase()))).filter((e=>{switch(h){case"sinreclamar":return"sin reclamar"===e.estado;case"reclamado":return"reclamado"===e.estado;case"vencido":return"vencido"===e.estado;default:return!0}})).length:i.filter((e=>{switch(h){case"sinreclamar":return"sin reclamar"===e.estado;case"reclamado":return"reclamado"===e.estado;case"vencido":return"vencido"===e.estado;default:return!0}})).length)&&(0,Om.jsx)("div",{className:"load-more-container",children:(0,Om.jsx)("button",{className:"load-more-button",onClick:()=>{let e=i;if("todos"!==h)switch(h){case"sinreclamar":e=i.filter((e=>"sin reclamar"===e.estado));break;case"reclamado":e=i.filter((e=>"reclamado"===e.estado));break;case"vencido":e=i.filter((e=>"vencido"===e.estado))}u&&(e=e.filter((e=>e.nombre.toLowerCase().includes(o.toLowerCase()))));const t=e.slice(l.length,l.length+8);c((e=>[...e,...t]))},children:"Cargar m\xe1s"})})]})},tv=t=>{let{onClose:n}=t;const[r,i]=(0,e.useState)("articulo"),[s,o]=(0,e.useState)(null),[a,l]=(0,e.useState)([]),[c,u]=(0,e.useState)(""),[d,h]=(0,e.useState)(""),[f,p]=(0,e.useState)(""),[m,g]=(0,e.useState)("sin reclamar"),[v,y]=(0,e.useState)(""),[b,w]=(0,e.useState)(null),[x,_]=(0,e.useState)(""),C=Em(),[k,E]=(0,e.useState)(""),[S,N]=(0,e.useState)([]),[T,j]=(0,e.useState)(null);return(0,Om.jsxs)("div",{className:"admin-add-reward-container",children:[(0,Om.jsx)("h1",{className:"admin-add-reward-title",children:"Agregar nuevo premio"}),(0,Om.jsx)("div",{className:"admin-add-reward-back-container",children:(0,Om.jsx)("button",{type:"button",className:"admin-add-reward-back-button",onClick:n,children:"Volver"})}),(0,Om.jsxs)("form",{onSubmit:async e=>{if("otros"===r);else if(!T||!s)return void I().fire("Error","Por favor, completa todos los campos.","error");e.preventDefault();let t=x;if("otros"===r){if(!b)return void I().fire("Error","Por favor, sube una imagen.","error");const e=xm(km(C,`rewards/${b.name}`),b);await new Promise(((n,r)=>{e.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(e=>{console.error("Error uploading image:",e),I().fire("Error","Error al subir la imagen.","error"),r(e)}),(async()=>{t=await _m(e.snapshot.ref),n()}))}))}const n=new Date;n.setMonth(n.getMonth()+1);const i=n.toISOString().split("T")[0],a={nombre:"articulo"===r?s.name:"suplemento"===r?s.nombre:d,descripcion:"articulo"===r?s.description:"suplemento"===r?s.descripcion:f,estado:m,ganador:v,url:t,valido:i,tpremio:r};try{await vu(uc(jm,"rewards"),a),I().fire("Excelente","Premio agregado correctamente.","success")}catch(c){console.error("Error al agregar premio:",c),I().fire("Error","Hubo un error al agregar el premio.","error")}o(null),l([]),u(""),p(""),w(null),_(""),j(""),N([]),h("")},className:"admin-add-reward-form",children:[(0,Om.jsxs)("div",{className:"division-form-entry",children:[(0,Om.jsx)("div",{className:"left",children:(0,Om.jsxs)("div",{className:"admin-add-reward-form-group",children:[(0,Om.jsx)("label",{className:"admin-add-reward-label",children:"Imagen"}),"articulo"===r&&s?(0,Om.jsx)("div",{className:"uploaded-image-container",children:(0,Om.jsx)("img",{src:s.imageID,alt:"Art\xedculo seleccionado",className:"uploaded-image",required:!0})}):"suplemento"===r&&s?(0,Om.jsx)("div",{className:"uploaded-image-container",children:(0,Om.jsx)("img",{src:s.url,alt:"Suplemento seleccionado",className:"uploaded-image",required:!0})}):"otros"===r?(0,Om.jsxs)(Om.Fragment,{children:[(0,Om.jsx)("input",{type:"file",accept:"image/*",onChange:e=>w(e.target.files[0]),className:"admin-add-reward-input",required:!0}),b&&(0,Om.jsxs)("div",{className:"uploaded-image-container",children:[(0,Om.jsx)("img",{src:URL.createObjectURL(b),alt:"Suplemento",className:"uploaded-image"}),(0,Om.jsx)("button",{type:"button",onClick:()=>{w(null),_("")},className:"remove-image-button",children:"Eliminar imagen"})]})]}):null]})}),(0,Om.jsxs)("div",{className:"right",children:[(0,Om.jsxs)("div",{className:"admin-add-reward-form-group",children:[(0,Om.jsx)("label",{className:"admin-add-reward-label",children:"Tipo de premio"}),(0,Om.jsxs)("select",{value:r,onChange:e=>{const t=e.target.value;i(t),o(null),l([]),u(""),p(""),w(null),_(""),j(""),N([]),h("")},className:"admin-add-reward-select",children:[(0,Om.jsx)("option",{value:"articulo",children:"Art\xedculo"}),(0,Om.jsx)("option",{value:"suplemento",children:"Suplemento"}),(0,Om.jsx)("option",{value:"otros",children:"Otros"})]})]}),"articulo"===r&&(0,Om.jsxs)("div",{className:"cont-art",children:[(0,Om.jsx)("input",{type:"text",placeholder:"Buscar art\xedculo",value:c,onChange:e=>u(e.target.value),className:"admin-add-reward-input"}),(0,Om.jsx)("button",{type:"button",onClick:async()=>{const e=Yc(uc(jm,"Sales"),Xc("state","==","Disponible")),t=await fu(e),n=[];t.forEach((e=>{const t=e.data();t.name.toLowerCase().includes(c.toLowerCase())&&t.quantity>=1&&n.push(t)})),l(n)},children:"Buscar"}),a.length>0&&(0,Om.jsx)("div",{className:"articulo-list",children:a.map((e=>(0,Om.jsx)("div",{onClick:()=>(e=>{o(e),p(e.description),_(e.imageID),u(""),l([])})(e),className:"articulo-item",children:e.name},e.id)))}),s&&(0,Om.jsxs)("div",{className:"articulo-selected",children:[(0,Om.jsxs)("p",{children:["Art\xedculo seleccionado: ",s.name]}),(0,Om.jsxs)("p",{children:["Descripci\xf3n: ",s.description]})]})]}),"suplemento"===r&&(0,Om.jsxs)("div",{className:"cont-art",children:[(0,Om.jsx)("input",{type:"text",placeholder:"Buscar suplemento",value:c,onChange:e=>u(e.target.value),className:"admin-add-reward-input"}),(0,Om.jsx)("button",{type:"button",onClick:async()=>{const e=Yc(uc(jm,"suplements"),Xc("disponible","==",!0)),t=await fu(e),n=[];t.forEach((e=>{const t=e.data();t.nombre.toLowerCase().includes(c.toLowerCase())&&t.cantidad>=1&&n.push(t)})),l(n)},children:"Buscar"}),a.length>0&&(0,Om.jsx)("div",{className:"articulo-list",children:a.map((e=>(0,Om.jsx)("div",{onClick:()=>{return o(t=e),p(t.descripcion),_(t.url),u(""),void l([]);var t},className:"articulo-item",children:e.nombre},e.id)))}),s&&(0,Om.jsxs)("div",{className:"articulo-selected",required:!0,children:[(0,Om.jsxs)("p",{children:["Art\xedculo seleccionado: ",s.name]}),(0,Om.jsxs)("p",{children:["Descripci\xf3n: ",s.descripcion]})]})]}),"otros"===r&&(0,Om.jsxs)(Om.Fragment,{children:[(0,Om.jsxs)("div",{className:"admin-add-reward-form-group",children:[(0,Om.jsx)("label",{className:"admin-add-reward-label",children:"Nombre"}),(0,Om.jsx)("input",{type:"text",value:"otros"===r?d:"",onChange:e=>h(e.target.value),className:"admin-add-reward-input",required:!0,disabled:"articulo"===r})]}),(0,Om.jsxs)("div",{className:"admin-add-reward-form-group",children:[(0,Om.jsx)("label",{className:"admin-add-reward-label",children:"Descripci\xf3n"}),(0,Om.jsx)("textarea",{value:f,onChange:e=>p(e.target.value),className:"admin-add-reward-textarea",required:!0})]})]}),(0,Om.jsxs)("div",{className:"admin-add-reward-form-group",children:[(0,Om.jsx)("label",{className:"admin-add-reward-label",children:"Estado"}),(0,Om.jsxs)("select",{value:m,onChange:e=>g(e.target.value),className:"admin-add-reward-select",required:!0,children:[(0,Om.jsx)("option",{value:"sin reclamar",children:"Sin reclamar"}),(0,Om.jsx)("option",{value:"reclamado",children:"Reclamado"}),(0,Om.jsx)("option",{value:"vencido",children:"Vencido"})]})]}),(0,Om.jsxs)("div",{className:"cont-art",children:[(0,Om.jsx)("input",{type:"text",placeholder:"Buscar ganador",value:k,onChange:e=>E(e.target.value),className:"admin-add-reward-input"}),(0,Om.jsx)("button",{type:"button",onClick:async()=>{const e=(await fu(uc(jm,"User"))).docs.map((e=>({id:e.id,...e.data()}))).filter((e=>e.nombre.toLowerCase().includes(k.toLowerCase())));N(e)},children:"Buscar"}),S.length>0&&(0,Om.jsx)("div",{className:"articulo-list",children:S.map((e=>(0,Om.jsx)("div",{onClick:()=>(e=>{j(e),y(e.nombre),E(""),N([])})(e),className:"articulo-item",children:e.nombre},e.id)))}),T&&(0,Om.jsx)("div",{className:"articulo-selected",children:(0,Om.jsxs)("p",{children:["Ganador seleccionado: ",T.nombre]})})]})]})]}),(0,Om.jsx)("div",{className:"admin-add-reward-form-button",children:(0,Om.jsx)("button",{type:"submit",className:"admin-add-reward-submit-button",children:"Agregar"})})]})]})},nv=t=>{let{reward:n,onClose:r}=t;const[i,s]=(0,e.useState)(n.tpremio||"articulo"),[o,a]=(0,e.useState)(null),[l,c]=(0,e.useState)([]),[u,d]=(0,e.useState)(""),[h,f]=(0,e.useState)(n.nombre||""),[p,m]=(0,e.useState)(n.descripcion||""),[g,v]=(0,e.useState)(n.estado||"sin reclamar"),[y,b]=(0,e.useState)(n.ganador||""),[w,x]=(0,e.useState)(null),[_,C]=(0,e.useState)(n.url||""),k=Em(),[E,S]=(0,e.useState)(""),[N,T]=(0,e.useState)([]),[j,A]=(0,e.useState)(null);(0,e.useEffect)((()=>{n&&(f(n.nombre||""),m(n.descripcion||""),v(n.estado||"sin reclamar"),b(n.ganador||""),C(n.url||""),s(n.tpremio||"articulo"))}),[n]),(0,e.useEffect)((()=>{if(w){const e=URL.createObjectURL(w);return C(e),()=>URL.revokeObjectURL(e)}}),[w]);const O=async()=>{const e=(await fu(uc(jm,"User"))).docs.map((e=>({id:e.id,...e.data()}))).filter((e=>e.nombre.toLowerCase().includes(E.toLowerCase())));T(e)},P=e=>{A(e),b(e.nombre),S(""),T([])},D=async e=>{e.preventDefault();let t=_;if("otros"===i&&w){const e=xm(km(k,`rewards/${w.name}`),w);await new Promise(((n,r)=>{e.on("state_changed",(e=>{const t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")}),(e=>{console.error("Error uploading image:",e),I().fire("Error","Error al subir la imagen.","error"),r(e)}),(async()=>{t=await _m(e.snapshot.ref),n()}))}))}const s=n.valido,a={nombre:"articulo"===i?(null===o||void 0===o?void 0:o.name)||n.nombre:"suplemento"===i?(null===o||void 0===o?void 0:o.nombre)||n.nombre:h,descripcion:"articulo"===i?(null===o||void 0===o?void 0:o.description)||n.descripcion:"suplemento"===i?(null===o||void 0===o?void 0:o.descripcion)||n.descripcion:p,estado:g,ganador:y,url:t,valido:s,tpremio:i};try{const e=dc(jm,"rewards",n.id);await mu(e,a),I().fire("Excelente","Premio actualizado correctamente.","success"),r()}catch(l){console.error("Error al actualizar premio:",l),I().fire("Error","Hubo un error al actualizar el premio.","error")}};return(0,Om.jsxs)("div",{className:"edit-reward-container",children:[(0,Om.jsx)("h1",{className:"edit-reward-title",children:"Editar premio"}),(0,Om.jsx)("div",{className:"edit-reward-back-container",children:(0,Om.jsx)("button",{type:"button",className:"edit-reward-back-button",onClick:r,children:"Volver"})}),"articulo"===n.tpremio||"articulo"===i&&o?(0,Om.jsxs)("form",{onSubmit:D,className:"edit-reward-form",children:[(0,Om.jsxs)("div",{className:"division-form-ent",children:[(0,Om.jsx)("div",{className:"left-part",children:(0,Om.jsxs)("div",{className:"edit-reward-form-group",children:[(0,Om.jsx)("label",{className:"edit-reward-label",children:"Imagen"}),_?(0,Om.jsx)("div",{className:"uploaded-img-cont",children:(0,Om.jsx)("img",{src:_,alt:"Imagen del art\xedculo",className:"uploaded-img"})}):(0,Om.jsx)("input",{type:"file",accept:"image/*",onChange:e=>x(e.target.files[0]),className:"edit-reward-input",required:!_})]})}),(0,Om.jsxs)("div",{className:"right-part",children:[(0,Om.jsxs)("div",{className:"cont-art",children:[(0,Om.jsx)("input",{type:"text",placeholder:"Buscar art\xedculo",value:u,onChange:e=>d(e.target.value),className:"edit-reward-input"}),(0,Om.jsx)("button",{type:"button",className:"edit-search-button",onClick:async()=>{const e=Yc(uc(jm,"Sales"),Xc("state","==","Disponible")),t=await fu(e),n=[];t.forEach((e=>{const t=e.data();t.name.toLowerCase().includes(u.toLowerCase())&&t.quantity>=1&&n.push(t)})),c(n)},children:"Buscar"}),l.length>0&&(0,Om.jsx)("div",{className:"articulo-list",children:l.map((e=>(0,Om.jsx)("div",{onClick:()=>(e=>{a(e),m(e.description),C(e.imageID),d(""),c([])})(e),className:"articulo-item",children:e.name},e.id)))}),(n.nombre||o)&&(0,Om.jsxs)("div",{className:"articulo-selected",children:[(0,Om.jsxs)("p",{children:["Art\xedculo seleccionado: ",n.nombre||o.name]}),(0,Om.jsxs)("p",{children:["Descripci\xf3n: ",n.descripcion||o.description]})]})]}),(0,Om.jsxs)("div",{className:"edit-reward-form-group",children:[(0,Om.jsx)("label",{className:"edit-reward-label",children:"Estado"}),(0,Om.jsxs)("select",{value:g,onChange:e=>v(e.target.value),className:"edit-reward-select",required:!0,children:[(0,Om.jsx)("option",{value:"sin reclamar",children:"Sin reclamar"}),(0,Om.jsx)("option",{value:"reclamado",children:"Reclamado"}),(0,Om.jsx)("option",{value:"vencido",children:"Vencido"})]})]}),(0,Om.jsxs)("div",{className:"cont-art",children:[(0,Om.jsx)("input",{type:"text",placeholder:"Buscar ganador",value:E,onChange:e=>S(e.target.value),className:"edit-reward-input"}),(0,Om.jsx)("button",{type:"button",className:"edit-search-button",onClick:O,children:"Buscar"}),N.length>0&&(0,Om.jsx)("div",{className:"articulo-list",children:N.map((e=>(0,Om.jsx)("div",{onClick:()=>P(e),className:"articulo-item",children:e.nombre},e.id)))}),(n.ganador||j)&&(0,Om.jsx)("div",{className:"articulo-selected",children:(0,Om.jsxs)("p",{children:["Ganador seleccionado: ",(null===j||void 0===j?void 0:j.nombre)||n.ganador]})})]})]})]}),(0,Om.jsx)("div",{className:"edit-submit-container",children:(0,Om.jsx)("button",{type:"submit",className:"edit-reward-submit-button",children:"Actualizar"})})]}):"suplemento"===n.tpremio||"suplemento"===i&&o?(0,Om.jsxs)("form",{onSubmit:D,className:"edit-reward-form",children:[(0,Om.jsxs)("div",{className:"division-form-ent",children:[(0,Om.jsx)("div",{className:"left-part",children:(0,Om.jsxs)("div",{className:"edit-reward-form-group",children:[(0,Om.jsx)("label",{className:"edit-reward-label",children:"Imagen"}),_?(0,Om.jsx)("div",{className:"uploaded-img-cont",children:(0,Om.jsx)("img",{src:_,alt:"Imagen del suplemento",className:"uploaded-img"})}):(0,Om.jsx)("input",{type:"file",accept:"image/*",onChange:e=>x(e.target.files[0]),className:"edit-reward-input",required:!_})]})}),(0,Om.jsxs)("div",{className:"right-part",children:[(0,Om.jsxs)("div",{className:"cont-art",children:[(0,Om.jsx)("input",{type:"text",placeholder:"Buscar suplemento",value:u,onChange:e=>d(e.target.value),className:"edit-reward-input"}),(0,Om.jsx)("button",{type:"button",className:"edit-search-button",onClick:async()=>{const e=Yc(uc(jm,"suplements"),Xc("disponible","==",!0)),t=await fu(e),n=[];t.forEach((e=>{const t=e.data();t.nombre.toLowerCase().includes(u.toLowerCase())&&t.cantidad>=1&&n.push(t)})),c(n)},children:"Buscar"}),l.length>0&&(0,Om.jsx)("div",{className:"articulo-list",children:l.map((e=>(0,Om.jsx)("div",{onClick:()=>{return a(t=e),f(t.nombre),m(t.descripcion),C(t.url),d(""),void c([]);var t},className:"articulo-item",children:e.nombre},e.id)))}),(n.nombre||o)&&(0,Om.jsxs)("div",{className:"articulo-selected",children:[(0,Om.jsxs)("p",{children:["Suplemento seleccionado: ",(null===o||void 0===o?void 0:o.nombre)||n.nombre]}),(0,Om.jsxs)("p",{children:["Descripci\xf3n: ",(null===o||void 0===o?void 0:o.descripcion)||n.descripcion]})]})]}),(0,Om.jsxs)("div",{className:"edit-reward-form-group",children:[(0,Om.jsx)("label",{className:"edit-reward-label",children:"Estado"}),(0,Om.jsxs)("select",{value:g,onChange:e=>v(e.target.value),className:"edit-reward-select",required:!0,children:[(0,Om.jsx)("option",{value:"sin reclamar",children:"Sin reclamar"}),(0,Om.jsx)("option",{value:"reclamado",children:"Reclamado"}),(0,Om.jsx)("option",{value:"vencido",children:"Vencido"})]})]}),(0,Om.jsxs)("div",{className:"cont-art",children:[(0,Om.jsx)("input",{type:"text",placeholder:"Buscar ganador",value:E,onChange:e=>S(e.target.value),className:"edit-reward-input"}),(0,Om.jsx)("button",{type:"button",className:"edit-search-button",onClick:O,children:"Buscar"}),N.length>0&&(0,Om.jsx)("div",{className:"articulo-list",children:N.map((e=>(0,Om.jsx)("div",{onClick:()=>P(e),className:"articulo-item",children:e.nombre},e.id)))}),(n.ganador||j)&&(0,Om.jsx)("div",{className:"articulo-selected",children:(0,Om.jsxs)("p",{children:["Ganador seleccionado: ",(null===j||void 0===j?void 0:j.nombre)||n.ganador]})})]})]})]}),(0,Om.jsx)("div",{className:"edit-submit-container",children:(0,Om.jsx)("button",{type:"submit",className:"edit-reward-submit-button",children:"Actualizar"})})]}):(0,Om.jsxs)("form",{onSubmit:D,className:"edit-reward-form",children:[(0,Om.jsxs)("div",{className:"division-form-ent",children:[(0,Om.jsx)("div",{className:"left-part",children:(0,Om.jsxs)("div",{className:"edit-reward-form-group",children:[(0,Om.jsx)("label",{className:"edit-reward-label",children:"Imagen"}),_?(0,Om.jsxs)("div",{className:"uploaded-img-cont",children:[(0,Om.jsx)("img",{src:_,alt:"Imagen del premio",className:"uploaded-img"}),(0,Om.jsx)("button",{type:"button",onClick:()=>{x(null),C("")},className:"remove-image-btn",children:"Eliminar imagen"})]}):(0,Om.jsx)("input",{type:"file",accept:"image/*",onChange:e=>x(e.target.files[0]),className:"edit-reward-input",required:!_})]})}),(0,Om.jsxs)("div",{className:"right-part",children:[(0,Om.jsxs)("div",{className:"edit-reward-form-group",children:[(0,Om.jsx)("label",{className:"edit-reward-label",children:"Nombre"}),(0,Om.jsx)("input",{type:"text",value:h,onChange:e=>f(e.target.value),className:"edit-reward-input",required:!0})]}),(0,Om.jsxs)("div",{className:"edit-reward-form-group",children:[(0,Om.jsx)("label",{className:"edit-reward-label",children:"Descripci\xf3n"}),(0,Om.jsx)("textarea",{value:p,onChange:e=>m(e.target.value),className:"edit-reward-textarea",required:!0})]}),(0,Om.jsxs)("div",{className:"edit-reward-form-group",children:[(0,Om.jsx)("label",{className:"edit-reward-label",children:"Estado"}),(0,Om.jsxs)("select",{value:g,onChange:e=>v(e.target.value),className:"edit-reward-select",required:!0,children:[(0,Om.jsx)("option",{value:"sin reclamar",children:"Sin reclamar"}),(0,Om.jsx)("option",{value:"reclamado",children:"Reclamado"}),(0,Om.jsx)("option",{value:"vencido",children:"Vencido"})]})]}),(0,Om.jsxs)("div",{className:"edit-reward-form-group",children:[(0,Om.jsx)("label",{className:"edit-reward-label",children:"Ganador"}),(0,Om.jsx)("input",{type:"text",placeholder:"Buscar ganador",value:E,onChange:e=>S(e.target.value),className:"edit-reward-input"}),(0,Om.jsx)("button",{type:"button",className:"edit-search-button",onClick:O,children:"Buscar"}),N.length>0&&(0,Om.jsx)("div",{className:"articulo-list",children:N.map((e=>(0,Om.jsx)("div",{onClick:()=>P(e),className:"articulo-item",children:e.nombre},e.id)))}),(n.ganador||j)&&(0,Om.jsx)("div",{className:"articulo-selected",children:(0,Om.jsxs)("p",{children:["Ganador seleccionado: ",(null===j||void 0===j?void 0:j.nombre)||n.ganador]})})]})]})]}),(0,Om.jsx)("div",{className:"edit-submit-container",children:(0,Om.jsx)("button",{type:"submit",className:"edit-reward-submit-button",children:"Actualizar"})})]})]})},rv=Lm("CircleMinus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]),iv=Lm("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),sv=Lm("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),ov=t=>{let{productId:n,onClose:r,recargarAdminSalesView:i}=t;const[s,o]=(0,e.useState)({name:"",description:"",price:0,quantity:0,state:"",imageID:""}),[a,l]=(0,e.useState)(!0),[c,u]=(0,e.useState)(null),[d,h]=(0,e.useState)(null);(0,e.useEffect)((()=>{(async()=>{try{const e=await(async e=>{const t=dc(jm,"Sales",e),n=await du(t);if(n.exists())return n.data();throw new Error("Producto no encontrado")})(n);e&&o(e)}catch(e){console.error("Error al obtener el producto:",e)}finally{l(!1)}})()}),[n]);return a?(0,Om.jsx)("p",{children:"Cargando producto..."}):(0,Om.jsxs)("div",{className:"update-product-container",children:[(0,Om.jsxs)("div",{className:"update-product-header",children:[(0,Om.jsx)("h2",{className:"update-product-title",children:"Actualizar Producto"}),(0,Om.jsx)(Fm,{onClick:r,className:"update-product-close-icon"})]}),(0,Om.jsxs)("form",{className:"update-product-form",children:[(0,Om.jsxs)("div",{className:"product-image-container",children:[s.imageID?(0,Om.jsxs)(Om.Fragment,{children:[(0,Om.jsx)("label",{className:"update-product-label",children:"Imagen actual"}),(0,Om.jsx)("img",{src:s.imageID,alt:"Producto",className:"product-image"})]}):(0,Om.jsx)("p",{children:"No hay imagen disponible"}),(0,Om.jsxs)("div",{className:"file-and-preview-container",children:[(0,Om.jsxs)("label",{className:"update-product-label",children:[(0,Om.jsx)("input",{type:"file",id:"fileInput",className:"update-product-file-input",onChange:e=>{const t=e.target.files[0];if(t){u(t);const e=URL.createObjectURL(t);h(e)}}}),(0,Om.jsx)("span",{className:"custom-file-button",onClick:e=>{e.preventDefault(),e.stopPropagation(),document.getElementById("fileInput").click()},children:"Nueva imagen"})]}),(0,Om.jsx)("div",{className:"image-preview-container",children:d&&(0,Om.jsx)("img",{src:d,alt:"Vista previa",className:"preview-image"})})]}),(0,Om.jsxs)("label",{className:"update-product-label",children:["Descripci\xf3n:",(0,Om.jsx)("textarea",{className:"update-product-textarea",value:s.description,onChange:e=>o({...s,description:e.target.value})})]})]}),(0,Om.jsxs)("div",{className:"product-info-container",children:[(0,Om.jsxs)("label",{className:"update-product-label",children:["Nombre:",(0,Om.jsx)("input",{type:"text",className:"update-product-input",value:s.name,onChange:e=>o({...s,name:e.target.value})})]}),(0,Om.jsxs)("label",{className:"update-product-label",children:["Precio:",(0,Om.jsx)("input",{type:"number",className:"update-product-input",value:s.price,onChange:e=>o({...s,price:parseFloat(e.target.value)})})]}),(0,Om.jsxs)("label",{className:"update-product-label",children:["Cantidad disponible:",(0,Om.jsx)("input",{type:"number",className:"update-product-input",value:s.quantity,onChange:e=>o({...s,quantity:parseInt(e.target.value)}),disabled:"Agotado"===s.state})]}),(0,Om.jsxs)("label",{className:"update-product-label",children:["Estado:",(0,Om.jsxs)("select",{className:"update-product-select",value:s.state,onChange:e=>{return t=e.target.value,void o((e=>({...e,state:t,quantity:"Agotado"===t?0:e.quantity})));var t},children:[(0,Om.jsx)("option",{value:"",children:"Seleccione"}),(0,Om.jsx)("option",{value:"Disponible",children:"Disponible"}),(0,Om.jsx)("option",{value:"Agotado",children:"Agotado"})]})]})]})]}),(0,Om.jsx)("button",{type:"button",className:"update-product-button",onClick:async()=>{(s.name&&s.description&&!(s.price<=0)&&s.state||(I().fire("Formulario incompleto","Por favor, completa todos los campos obligatorios.","error"),0))&&I().fire({title:"\xbfEst\xe1s seguro?",text:"\xbfDeseas realizar los cambios en este producto?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, actualizar",cancelButtonText:"No"}).then((async e=>{if(e.isConfirmed)try{let e={...s};if(c){await(async e=>{if(e){const n=km(Am,e);try{await Cm(n),console.log("Imagen eliminada con \xe9xito")}catch(t){console.error("Error al eliminar la imagen:",t)}}})(s.imageID);const t=await(async()=>{if(c)try{const e=km(Am,`products/${c.name}`);return await wm(e,c),await _m(e)}catch(e){console.error("Error al cargar la imagen:",e),I().fire("Error","Hubo un problema al cargar la imagen","error")}return null})();t&&(e.imageID=t)}await(async(e,t)=>{try{const n=e.replace(/^\/+/,"");console.log("ID del producto recibido:",e),console.log("ID del producto sanitizado:",n);const r=dc(jm,"Sales",n),i=await du(r);if(console.log("Referencia del documento:",r.path),console.log("Datos del documento obtenido:",i.exists()?i.data():"No existe"),i.exists()){console.log("Documento encontrado:",i.id),console.log("Datos actuales del documento:",i.data()),console.log("Datos a actualizar:",t),await mu(r,t);const e=await du(r);e.exists()?console.log("Producto actualizado correctamente:",e.data()):console.log("Error al actualizar el producto: El documento no existe despu\xe9s de la actualizaci\xf3n")}else console.log("No se encontr\xf3 el documento del producto en la base de datos")}catch(n){console.error("Error al actualizar el producto en ventas:",n)}})(n,e),I().fire("\xc9xito","El producto ha sido actualizado correctamente","success"),i(),r()}catch(t){console.error("Error al actualizar el producto:",t),I().fire("Error","Hubo un problema al actualizar el producto: "+t.message,"error")}}))},children:"Actualizar"})]})},av=t=>{let{onVolver:n}=t;const[r,i]=(0,e.useState)({name:"",description:"",price:"",quantity:"",state:"Disponible"}),[s,o]=(0,e.useState)(null),[a,l]=(0,e.useState)(null),c=e=>{i({...r,[e.target.name]:e.target.value})};return(0,Om.jsxs)("div",{className:"admin-add-product",children:[(0,Om.jsxs)("div",{className:"header",children:[(0,Om.jsx)(Fm,{className:"close-icon",size:24,onClick:n}),(0,Om.jsx)("h2",{className:"add-product-title",children:"Agregar Producto"})]}),(0,Om.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const{name:e,description:t,price:n,quantity:i}=r;return e&&t&&n&&i&&s?n<=0?(I().fire({icon:"error",title:"Error",text:"El precio debe ser mayor que 0."}),!1):!(i<=0)||(I().fire({icon:"error",title:"Error",text:"La cantidad debe ser mayor que 0."}),!1):(I().fire({icon:"error",title:"Error",text:"Todos los campos son obligatorios, y debes seleccionar una imagen."}),!1)})())try{await(async(e,t)=>{try{const n=km(Am,`products/${t.name}`),r=await wm(n,t);console.log("Imagen subida exitosamente:",r);const i=await _m(r.ref);console.log("URL de descarga de la imagen:",i);const s={...e,imageID:i};await vu(uc(jm,"Sales"),s),console.log("Producto agregado exitosamente con imagen.")}catch(n){console.error("Error al agregar el producto: ",n)}})(r,s),I().fire({icon:"success",title:"Producto agregado",text:"El producto ha sido agregado correctamente."}),i({name:"",description:"",price:"",quantity:"",state:"Disponible"}),o(null),l(null),n()}catch(t){console.error("Error al agregar el producto:",t),I().fire({icon:"error",title:"Error",text:"Ocurri\xf3 un error al agregar el producto."})}},className:"add-product-form",children:[(0,Om.jsxs)("div",{className:"left-column",children:[(0,Om.jsxs)("div",{className:"form-group",children:[(0,Om.jsx)("label",{htmlFor:"description",children:"Descripci\xf3n"}),(0,Om.jsx)("textarea",{id:"description",name:"description",value:r.description,onChange:c,required:!0,className:"description-input"})]}),(0,Om.jsxs)("div",{className:"form-group",children:[(0,Om.jsx)("label",{htmlFor:"image",className:"custom-file-label",children:"Abrir imagen"}),(0,Om.jsx)("input",{type:"file",id:"image",name:"image",onChange:e=>{const t=e.target.files[0];o(t);const n=new FileReader;n.onloadend=()=>{l(n.result)},n.readAsDataURL(t)},className:"custom-file-input"}),a&&(0,Om.jsx)("div",{className:"image-preview",children:(0,Om.jsx)("img",{src:a,alt:"Vista previa"})})]})]}),(0,Om.jsxs)("div",{className:"right-column",children:[(0,Om.jsxs)("div",{className:"form-group",children:[(0,Om.jsx)("label",{htmlFor:"name",children:"Nombre del producto"}),(0,Om.jsx)("input",{type:"text",id:"name",name:"name",value:r.name,onChange:c,required:!0})]}),(0,Om.jsxs)("div",{className:"form-group-small",children:[(0,Om.jsx)("label",{htmlFor:"price",children:"Precio"}),(0,Om.jsx)("input",{type:"number",id:"price",name:"price",value:r.price,onChange:c,required:!0,className:"price-input"})]}),(0,Om.jsxs)("div",{className:"form-group-small",children:[(0,Om.jsx)("label",{htmlFor:"quantity",children:"Cantidad disponible"}),(0,Om.jsx)("input",{type:"number",id:"quantity",name:"quantity",value:r.quantity,onChange:c,required:!0,className:"quantity-input"})]}),(0,Om.jsx)("button",{className:"button-add",type:"submit",children:"Agregar producto"})]})]})]})},lv=e=>{let{contador:t,onClick:n}=e;return(0,Om.jsxs)("div",{className:"floating-cart",onClick:n,children:[(0,Om.jsx)(sv,{size:32}),t>0&&(0,Om.jsx)("div",{className:"cart-counter",children:t})]})},cv=t=>{let{onClose:n}=t;const[r,i]=(0,e.useState)([]),[s,o]=(0,e.useState)(!0),a=m((e=>e.user)),l=async()=>{try{const e=await(async e=>{try{const t=Yc(uc(jm,"ShopingCar"),Xc("idUser","==",e)),n=(await fu(t)).docs.map((e=>({id:e.id,...e.data()})));return n}catch(t){throw console.error("Error al obtener el carrito de compras: ",t),new Error("No se pudo obtener el carrito de compras.")}})(a.userId);i(e)}catch(e){console.error("Error al obtener los productos del carrito:",e)}finally{o(!1)}},c=async(e,t,n)=>{try{await(async(e,t,n)=>{try{const r=dc(jm,"ShopingCar",e);await gu(r);const i=dc(jm,"Sales",t),s=await du(i);if(s.exists()){const e=s.data(),t=parseInt(e.quantity,10)+parseInt(n,10);await mu(i,{quantity:t.toString()})}}catch(r){console.error("Error al eliminar el producto del carrito:",r)}})(e,t,n),l()}catch(r){console.error("Error al eliminar el producto del carrito:",r)}};return(0,e.useEffect)((()=>{a&&a.userId&&l()}),[a]),s?(0,Om.jsx)("p",{children:"Cargando carrito de compras..."}):(0,Om.jsxs)("div",{className:"carrito-contenedor",children:[(0,Om.jsx)("button",{className:"boton-cerrar",onClick:n,children:(0,Om.jsx)(Fm,{size:24})}),(0,Om.jsx)("h1",{className:"titulo-carrito",children:"Carrito de Compras"}),(0,Om.jsx)("div",{className:"carrito-grid",children:r.map((e=>(0,Om.jsxs)("div",{className:"carrito-producto",children:[(0,Om.jsx)("img",{src:e.imageID,alt:e.name}),(0,Om.jsx)("h2",{children:e.name}),(0,Om.jsx)("p",{children:e.description}),(0,Om.jsxs)("p",{children:["Precio: \u20a1",e.price]}),(0,Om.jsxs)("p",{children:["Cantidad: ",e.quantity]}),(0,Om.jsxs)("p",{children:["Total: \u20a1",e.totalAmount]}),(0,Om.jsx)(Ng,{className:"icono-basura",size:24,onClick:()=>c(e.id,e.idProduct,e.quantity)})]},e.id)))})]})},uv=()=>{const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)(!0),[s,o]=(0,e.useState)(null),[a,l]=(0,e.useState)(0),[c,u]=(0,e.useState)(!1),[d,h]=(0,e.useState)(""),[f,p]=(0,e.useState)(""),[g,v]=(0,e.useState)(!1),y=m((e=>e.user)),[b,w]=(0,e.useState)({}),x=()=>{u(!c),c&&C()},_=async e=>{try{const t=await qm(e);n(t)}catch(t){console.error("Error al obtener los productos:",t)}finally{i(!1)}};(0,e.useEffect)((()=>{_(""),C()}),[y]);const C=async()=>{const e=await Lg(y.userId);l(e)},k=(e,t)=>{w((n=>({...n,[e]:t})))},E=()=>{h(""),p(""),_("")},S=async(e,t)=>{try{(await I().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir esto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminar"})).isConfirmed&&(await(async(e,t)=>{try{const n=dc(jm,"Sales",e);await gu(n);const r=km(Am,t);await Cm(r),console.log("Producto e imagen eliminados correctamente")}catch(n){console.error("Error al eliminar el producto o la imagen:",n)}})(e,t),I().fire("Eliminado","El producto ha sido eliminado.","success"),E())}catch(n){I().fire("Error","Ocurri\xf3 un error al eliminar el producto.","error")}},N=t.filter((e=>e.name.toLowerCase().includes(d.toLowerCase()))).sort(((e,t)=>"Precio mayor"===f?t.price-e.price:"Precio menor"===f?e.price-t.price:0));return r?(0,Om.jsx)("p",{children:"Cargando productos..."}):(0,Om.jsx)("div",{className:"catalogo-container",children:c?(0,Om.jsx)(cv,{onClose:x}):(0,Om.jsx)(Om.Fragment,{children:g?(0,Om.jsx)(av,{onVolver:()=>{v(!1)}}):s?(0,Om.jsx)(ov,{productId:s.id,onClose:()=>{o(null)},recargarAdminSalesView:E}):(0,Om.jsxs)(Om.Fragment,{children:[(0,Om.jsx)("h1",{className:"titule-products",children:"Cat\xe1logo de Productos"}),(0,Om.jsx)("div",{className:"search-filter-wrapper",children:(0,Om.jsxs)("div",{className:"search-filter-container",children:[(0,Om.jsxs)("div",{className:"add-product-container",onClick:()=>{v(!0)},children:[(0,Om.jsx)(Hg,{className:"add-product-icon"}),(0,Om.jsx)("span",{className:"add-product-text",children:"Agregar producto"})]}),(0,Om.jsxs)("div",{className:"search-container",children:[(0,Om.jsx)(Cg,{className:"reload-icon",onClick:E}),(0,Om.jsx)("input",{type:"text",className:"search-input",placeholder:"Buscar producto...",value:d,onChange:e=>h(e.target.value)}),(0,Om.jsx)(kg,{className:"search-icon"})]}),(0,Om.jsxs)("div",{className:"filter-container",children:[(0,Om.jsx)("label",{htmlFor:"filter-select",className:"filter-label",children:"Ordenar por:"}),(0,Om.jsxs)("select",{id:"filter-select",className:"filter-select",value:f,onChange:e=>p(e.target.value),children:[(0,Om.jsx)("option",{value:"",children:"Aleatorio"}),(0,Om.jsx)("option",{value:"Precio mayor",children:"Precio Mayor"}),(0,Om.jsx)("option",{value:"Precio menor",children:"Precio Menor"})]})]})]})}),(0,Om.jsx)("div",{className:"grid-container",children:N.map((e=>(0,Om.jsxs)("div",{className:"producto-card",children:[(0,Om.jsx)("img",{src:e.imageID,alt:e.name}),(0,Om.jsx)("h2",{children:e.name}),(0,Om.jsx)("p",{children:e.description}),(0,Om.jsxs)("p",{children:["Precio: \u20a1",e.price]}),(0,Om.jsxs)("p",{children:["Cantidad disponible: ",e.quantity]}),(0,Om.jsxs)("p",{children:["Estado: ",e.state]}),(0,Om.jsxs)("div",{className:"quantity-control",children:[(0,Om.jsx)(rv,{className:"icono-decrementar",size:24,onClick:()=>{return t=e.id,void w((e=>({...e,[t]:Math.max(e[t]-1,1)})));var t}}),(0,Om.jsx)("input",{type:"number",className:"cantidad-input",value:b[e.id]||1,min:1,max:e.quantity,onChange:t=>{const n=parseInt(t.target.value,10);n>=1&&n<=e.quantity?k(e.id,n):n<1?k(e.id,1):n>e.quantity&&k(e.id,e.quantity)}}),(0,Om.jsx)(iv,{className:"icono-incrementar",size:24,onClick:()=>{return t=e.id,n=e.quantity,void w((e=>({...e,[t]:Math.min(e[t]+1,n)})));var t,n}})]}),(0,Om.jsxs)("div",{className:"producto-actions",children:[(0,Om.jsx)(sv,{className:"icono-comprar",color:"green",size:24,onClick:async()=>{"0"===e.quantity?I().fire({title:"Producto agotado",text:"Este producto no est\xe1 disponible.",icon:"warning"}):await(async(e,t)=>{y&&y.userId?"0"===e.quantity?I().fire({title:"Producto agotado",text:"Este producto no est\xe1 disponible.",icon:"warning"}):t>e.quantity?I().fire({title:"Cantidad excedida",text:"No hay suficientes productos en stock.",icon:"warning"}):(await Rg(e.id,y.userId,t),await C(),E()):I().fire({title:"Error",text:"No se ha autenticado el usuario.",icon:"error"})})(e,b[e.id]||1)}}),(0,Om.jsx)(Sg,{className:"icono-editar",color:"yellow",size:24,onClick:()=>(e=>{const n=t.find((t=>t.id===e));o(n)})(e.id)}),(0,Om.jsx)(Ng,{className:"icono-eliminar",color:"red",size:24,onClick:()=>S(e.id,e.imageID)})]})]},e.id)))}),(0,Om.jsx)(lv,{contador:a,onClick:x})]})})})};function dv(e){return e+.5|0}const hv=(e,t,n)=>Math.max(Math.min(e,n),t);function fv(e){return hv(dv(2.55*e),0,255)}function pv(e){return hv(dv(255*e),0,255)}function mv(e){return hv(dv(e/2.55)/100,0,1)}function gv(e){return hv(dv(100*e),0,100)}const vv={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},yv=[..."0123456789ABCDEF"],bv=e=>yv[15&e],wv=e=>yv[(240&e)>>4]+yv[15&e],xv=e=>(240&e)>>4===(15&e);function _v(e){var t=(e=>xv(e.r)&&xv(e.g)&&xv(e.b)&&xv(e.a))(e)?bv:wv;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const Cv=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function kv(e,t,n){const r=t*Math.min(n,1-n),i=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function Ev(e,t,n){const r=function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function Sv(e,t,n){const r=kv(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function Nv(e){const t=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(t,n,r),s=Math.min(t,n,r),o=(i+s)/2;let a,l,c;return i!==s&&(c=i-s,l=o>.5?c/(2-i-s):c/(i+s),a=function(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}(t,n,r,c,i),a=60*a+.5),[0|a,l||0,o]}function Tv(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(pv)}function jv(e,t,n){return Tv(kv,e,t,n)}function Iv(e){return(e%360+360)%360}function Av(e){const t=Cv.exec(e);let n,r=255;if(!t)return;t[5]!==n&&(r=t[6]?fv(+t[5]):pv(+t[5]));const i=Iv(+t[2]),s=+t[3]/100,o=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return Tv(Sv,e,t,n)}(i,s,o):"hsv"===t[1]?function(e,t,n){return Tv(Ev,e,t,n)}(i,s,o):jv(i,s,o),{r:n[0],g:n[1],b:n[2],a:r}}const Ov={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Pv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Dv;function Mv(e){Dv||(Dv=function(){const e={},t=Object.keys(Pv),n=Object.keys(Ov);let r,i,s,o,a;for(r=0;r<t.length;r++){for(o=a=t[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,Ov[s]);s=parseInt(Pv[o],16),e[a]=[s>>16&255,s>>8&255,255&s]}return e}(),Dv.transparent=[0,0,0,0]);const t=Dv[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const Rv=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Lv=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Fv=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function zv(e,t,n){if(e){let r=Nv(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=jv(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Uv(e,t){return e?Object.assign(t||{},e):e}function Vv(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=pv(e[3]))):(t=Uv(e,{r:0,g:0,b:0,a:1})).a=pv(t.a),t}function Bv(e){return"r"===e.charAt(0)?function(e){const t=Rv.exec(e);let n,r,i,s=255;if(t){if(t[7]!==n){const e=+t[7];s=t[8]?fv(e):hv(255*e,0,255)}return n=+t[1],r=+t[3],i=+t[5],n=255&(t[2]?fv(n):hv(n,0,255)),r=255&(t[4]?fv(r):hv(r,0,255)),i=255&(t[6]?fv(i):hv(i,0,255)),{r:n,g:r,b:i,a:s}}}(e):Av(e)}class $v{constructor(e){if(e instanceof $v)return e;const t=typeof e;let n;"object"===t?n=Vv(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*vv[e[1]],g:255&17*vv[e[2]],b:255&17*vv[e[3]],a:5===n?17*vv[e[4]]:255}:7!==n&&9!==n||(t={r:vv[e[1]]<<4|vv[e[2]],g:vv[e[3]]<<4|vv[e[4]],b:vv[e[5]]<<4|vv[e[6]],a:9===n?vv[e[7]]<<4|vv[e[8]]:255})),t}(e)||Mv(e)||Bv(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Uv(this._rgb);return e&&(e.a=mv(e.a)),e}set rgb(e){this._rgb=Vv(e)}rgbString(){return this._valid?function(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${mv(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}(this._rgb):void 0}hexString(){return this._valid?_v(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=Nv(e),n=t[0],r=gv(t[1]),i=gv(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${mv(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let i;const s=t===i?.5:t,o=2*s-1,a=n.a-r.a,l=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;i=1-l,n.r=255&l*n.r+i*r.r+.5,n.g=255&l*n.g+i*r.g+.5,n.b=255&l*n.b+i*r.b+.5,n.a=s*n.a+(1-s)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const r=Fv(mv(e.r)),i=Fv(mv(e.g)),s=Fv(mv(e.b));return{r:pv(Lv(r+n*(Fv(mv(t.r))-r))),g:pv(Lv(i+n*(Fv(mv(t.g))-i))),b:pv(Lv(s+n*(Fv(mv(t.b))-s))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new $v(this.rgb)}alpha(e){return this._rgb.a=pv(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=dv(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return zv(this._rgb,2,e),this}darken(e){return zv(this._rgb,2,-e),this}saturate(e){return zv(this._rgb,1,e),this}desaturate(e){return zv(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=Nv(e);n[0]=Iv(n[0]+t),n=jv(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function Hv(){}const qv=(()=>{let e=0;return()=>e++})();function Wv(e){return null===e||"undefined"===typeof e}function Gv(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Kv(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function Yv(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function Qv(e,t){return Yv(e)?e:t}function Xv(e,t){return"undefined"===typeof e?t:e}const Jv=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Zv(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function ey(e,t,n,r){let i,s,o;if(Gv(e))if(s=e.length,r)for(i=s-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<s;i++)t.call(n,e[i],i);else if(Kv(e))for(o=Object.keys(e),s=o.length,i=0;i<s;i++)t.call(n,e[o[i]],o[i])}function ty(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function ny(e){if(Gv(e))return e.map(ny);if(Kv(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=ny(e[n[i]]);return t}return e}function ry(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function iy(e,t,n,r){if(!ry(e))return;const i=t[e],s=n[e];Kv(i)&&Kv(s)?sy(i,s,r):t[e]=ny(s)}function sy(e,t,n){const r=Gv(t)?t:[t],i=r.length;if(!Kv(e))return e;const s=(n=n||{}).merger||iy;let o;for(let a=0;a<i;++a){if(o=r[a],!Kv(o))continue;const t=Object.keys(o);for(let r=0,i=t.length;r<i;++r)s(t[r],e,o,n)}return e}function oy(e,t){return sy(e,t,{merger:ay})}function ay(e,t,n){if(!ry(e))return;const r=t[e],i=n[e];Kv(r)&&Kv(i)?oy(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=ny(i))}const ly={"":e=>e,x:e=>e.x,y:e=>e.y};function cy(e,t){const n=ly[t]||(ly[t]=function(e){const t=function(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function uy(e){return e.charAt(0).toUpperCase()+e.slice(1)}const dy=e=>"undefined"!==typeof e,hy=e=>"function"===typeof e,fy=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const py=Math.PI,my=2*py,gy=my+py,vy=Number.POSITIVE_INFINITY,yy=py/180,by=py/2,wy=py/4,xy=2*py/3,_y=Math.log10,Cy=Math.sign;function ky(e,t,n){return Math.abs(e-t)<n}function Ey(e){const t=Math.round(e);e=ky(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(_y(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Sy(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Ny(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Ty(e){return e*(py/180)}function jy(e){return e*(180/py)}function Iy(e){if(!Yv(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Ay(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*py&&(s+=my),{angle:s,distance:i}}function Oy(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Py(e,t){return(e-t+gy)%my-py}function Dy(e){return(e%my+my)%my}function My(e,t,n,r){const i=Dy(e),s=Dy(t),o=Dy(n),a=Dy(s-i),l=Dy(o-i),c=Dy(i-s),u=Dy(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function Ry(e,t,n){return Math.max(t,Math.min(n,e))}function Ly(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Fy(e,t,n){n=n||(n=>e[n]<t);let r,i=e.length-1,s=0;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const zy=(e,t,n,r)=>Fy(e,n,r?r=>{const i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:r=>e[r][t]<n),Uy=(e,t,n)=>Fy(e,n,(r=>e[r][t]>=n));const Vy=["push","pop","shift","splice","unshift"];function By(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),r.length>0||(Vy.forEach((t=>{delete e[t]})),delete e._chartjs)}function $y(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Hy="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function qy(e,t){let n=[],r=!1;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];n=s,r||(r=!0,Hy.call(window,(()=>{r=!1,e.apply(t,n)})))}}const Wy=e=>"start"===e?"left":"end"===e?"right":"center",Gy=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function Ky(e,t,n){const r=t.length;let i=0,s=r;if(e._sorted){const{iScale:o,_parsed:a}=e,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:h}=o.getUserBounds();d&&(i=Ry(Math.min(zy(a,l,c).lo,n?r:zy(t,l,o.getPixelForValue(c)).lo),0,r-1)),s=h?Ry(Math.max(zy(a,o.axis,u,!0).hi+1,n?0:zy(t,l,o.getPixelForValue(u),!0).hi+1),i,r)-i:r-i}return{start:i,count:s}}function Yy(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const Qy=e=>0===e||1===e,Xy=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*my/n),Jy=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*my/n)+1,Zy={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*by),easeOutSine:e=>Math.sin(e*by),easeInOutSine:e=>-.5*(Math.cos(py*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Qy(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Qy(e)?e:Xy(e,.075,.3),easeOutElastic:e=>Qy(e)?e:Jy(e,.075,.3),easeInOutElastic(e){const t=.1125;return Qy(e)?e:e<.5?.5*Xy(2*e,t,.45):.5+.5*Jy(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-Zy.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*Zy.easeInBounce(2*e):.5*Zy.easeOutBounce(2*e-1)+.5};function eb(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function tb(e){return eb(e)?e:new $v(e)}function nb(e){return eb(e)?e:new $v(e).saturate(.5).darken(.1).hexString()}const rb=["x","y","borderWidth","radius","tension"],ib=["color","borderColor","backgroundColor"];const sb=new Map;function ob(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let r=sb.get(n);return r||(r=new Intl.NumberFormat(e,t),sb.set(n,r)),r}(t,n).format(e)}const ab={values:e=>Gv(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(i="scientific"),s=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const o=_y(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),ob(e,r,l)},logarithmic(e,t,n){if(0===e)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(_y(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?ab.numeric.call(this,e,t,n):""}};var lb={formatters:ab};const cb=Object.create(null),ub=Object.create(null);function db(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const t=n[r];e=e[t]||(e[t]=Object.create(null))}return e}function hb(e,t,n){return"string"===typeof t?sy(db(e,t),n):sy(db(e,""),t)}class fb{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>nb(t.backgroundColor),this.hoverBorderColor=(e,t)=>nb(t.borderColor),this.hoverColor=(e,t)=>nb(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return hb(this,e,t)}get(e){return db(this,e)}describe(e,t){return hb(ub,e,t)}override(e,t){return hb(cb,e,t)}route(e,t,n,r){const i=db(this,e),s=db(this,n),o="_"+t;Object.defineProperties(i,{[o]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[o],t=s[r];return Kv(e)?Object.assign({},t,e):Xv(e,t)},set(e){this[o]=e}}})}apply(e){e.forEach((e=>e(this)))}}var pb=new fb({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:ib},numbers:{type:"number",properties:rb}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:lb.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function mb(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function gb(e,t,n){const r=e.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function vb(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function yb(e,t,n,r){bb(e,t,n,r,null)}function bb(e,t,n,r,i){let s,o,a,l,c,u,d,h;const f=t.pointStyle,p=t.rotation,m=t.radius;let g=(p||0)*yy;if(f&&"object"===typeof f&&(s=f.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return e.save(),e.translate(n,r),e.rotate(g),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(m)||m<=0)){switch(e.beginPath(),f){default:i?e.ellipse(n,r,i/2,m,0,0,my):e.arc(n,r,m,0,my),e.closePath();break;case"triangle":u=i?i/2:m,e.moveTo(n+Math.sin(g)*u,r-Math.cos(g)*m),g+=xy,e.lineTo(n+Math.sin(g)*u,r-Math.cos(g)*m),g+=xy,e.lineTo(n+Math.sin(g)*u,r-Math.cos(g)*m),e.closePath();break;case"rectRounded":c=.516*m,l=m-c,o=Math.cos(g+wy)*l,d=Math.cos(g+wy)*(i?i/2-c:l),a=Math.sin(g+wy)*l,h=Math.sin(g+wy)*(i?i/2-c:l),e.arc(n-d,r-a,c,g-py,g-by),e.arc(n+h,r-o,c,g-by,g),e.arc(n+d,r+a,c,g,g+by),e.arc(n-h,r+o,c,g+by,g+py),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*m,u=i?i/2:l,e.rect(n-u,r-l,2*u,2*l);break}g+=wy;case"rectRot":d=Math.cos(g)*(i?i/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,h=Math.sin(g)*(i?i/2:m),e.moveTo(n-d,r-a),e.lineTo(n+h,r-o),e.lineTo(n+d,r+a),e.lineTo(n-h,r+o),e.closePath();break;case"crossRot":g+=wy;case"cross":d=Math.cos(g)*(i?i/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,h=Math.sin(g)*(i?i/2:m),e.moveTo(n-d,r-a),e.lineTo(n+d,r+a),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o);break;case"star":d=Math.cos(g)*(i?i/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,h=Math.sin(g)*(i?i/2:m),e.moveTo(n-d,r-a),e.lineTo(n+d,r+a),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o),g+=wy,d=Math.cos(g)*(i?i/2:m),o=Math.cos(g)*m,a=Math.sin(g)*m,h=Math.sin(g)*(i?i/2:m),e.moveTo(n-d,r-a),e.lineTo(n+d,r+a),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o);break;case"line":o=i?i/2:Math.cos(g)*m,a=Math.sin(g)*m,e.moveTo(n-o,r-a),e.lineTo(n+o,r+a);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(g)*(i?i/2:m),r+Math.sin(g)*m);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function wb(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function xb(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function _b(e){e.restore()}function Cb(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if("middle"===i){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else"after"===i!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function kb(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Eb(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function Sb(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Nb(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=Gv(t)?t:[t],a=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(e.save(),e.font=i.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Wv(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&Sb(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),Wv(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,r,s.maxWidth)),e.fillText(c,n,r,s.maxWidth),Eb(e,n,r,c,s),r+=Number(i.lineHeight);e.restore()}function Tb(e,t){const{x:n,y:r,w:i,h:s,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*py,py,!0),e.lineTo(n,r+s-o.bottomLeft),e.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,py,by,!0),e.lineTo(n+i-o.bottomRight,r+s),e.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,by,0,!0),e.lineTo(n+i,r+o.topRight),e.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-by,!0),e.lineTo(n+o.topLeft,r)}const jb=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ib=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ab(e,t){const n=(""+e).match(jb);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const Ob=e=>+e||0;function Pb(e,t){const n={},r=Kv(t),i=r?Object.keys(t):t,s=Kv(e)?r?n=>Xv(e[n],e[t[n]]):t=>e[t]:()=>e;for(const o of i)n[o]=Ob(s(o));return n}function Db(e){return Pb(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Mb(e){return Pb(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Rb(e){const t=Db(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Lb(e,t){e=e||{},t=t||pb.font;let n=Xv(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let r=Xv(e.style,t.style);r&&!(""+r).match(Ib)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Xv(e.family,t.family),lineHeight:Ab(Xv(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:Xv(e.weight,t.weight),string:""};return i.string=function(e){return!e||Wv(e.size)||Wv(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i}function Fb(e,t,n,r){let i,s,o,a=!0;for(i=0,s=e.length;i<s;++i)if(o=e[i],void 0!==o&&(void 0!==t&&"function"===typeof o&&(o=o(t),a=!1),void 0!==n&&Gv(o)&&(o=o[n%o.length],a=!1),void 0!==o))return r&&!a&&(r.cacheable=!1),o}function zb(e,t){return Object.assign(Object.create(e),t)}function Ub(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const i=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=Xb("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:n,_getTarget:r,override:r=>Ub([r,...e],t,i,n)};return new Proxy(s,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,r)=>qb(n,r,(()=>function(e,t,n,r){let i;for(const s of t)if(i=Xb($b(s,e),n),"undefined"!==typeof i)return Hb(e,i)?Yb(n,r,e,i):i}(r,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>Jb(e).includes(t),ownKeys:e=>Jb(e),set(e,t,n){const i=e._storage||(e._storage=r());return e[t]=i[t]=n,delete e._keys,!0}})}function Vb(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Bb(e,r),setContext:t=>Vb(e,t,n,r),override:i=>Vb(e.override(i),t,n,r)};return new Proxy(i,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>qb(e,t,(()=>function(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=e;let a=r[t];hy(a)&&o.isScriptable(t)&&(a=function(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(s,o||r);a.delete(e),Hb(e,l)&&(l=Yb(i._scopes,i,e,l));return l}(t,a,e,n));Gv(a)&&a.length&&(a=function(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if("undefined"!==typeof s.index&&r(e))return t[s.index%t.length];if(Kv(t[0])){const n=t,r=i._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=Yb(r,i,e,l);t.push(Vb(n,s,o&&o[e],a))}}return t}(t,a,e,o.isIndexable));Hb(t,a)&&(a=Vb(a,i,s&&s[t],o));return a}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,r)=>(e[n]=r,delete t[n],!0)})}function Bb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:hy(n)?n:()=>n,isIndexable:hy(r)?r:()=>r}}const $b=(e,t)=>e?e+uy(t):t,Hb=(e,t)=>Kv(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function qb(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const r=n();return e[t]=r,r}function Wb(e,t,n){return hy(e)?e(t,n):e}const Gb=(e,t)=>!0===e?t:"string"===typeof e?cy(t,e):void 0;function Kb(e,t,n,r,i){for(const s of t){const t=Gb(n,s);if(t){e.add(t);const s=Wb(t._fallback,n,i);if("undefined"!==typeof s&&s!==n&&s!==r)return s}else if(!1===t&&"undefined"!==typeof r&&n!==r)return null}return!1}function Yb(e,t,n,r){const i=t._rootScopes,s=Wb(t._fallback,n,r),o=[...e,...i],a=new Set;a.add(r);let l=Qb(a,o,n,s||n,r);return null!==l&&(("undefined"===typeof s||s===n||(l=Qb(a,o,s,l,r),null!==l))&&Ub(Array.from(a),[""],i,s,(()=>function(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];if(Gv(i)&&Kv(n))return n;return i||{}}(t,n,r))))}function Qb(e,t,n,r,i){for(;n;)n=Kb(e,t,n,r,i);return n}function Xb(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function Jb(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}const Zb=Number.EPSILON||1e-14,ew=(e,t)=>t<e.length&&!e[t].skip&&e[t],tw=e=>"x"===e?"y":"x";function nw(e,t,n,r){const i=e.skip?t:e,s=t,o=n.skip?t:n,a=Oy(s,i),l=Oy(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,h=r*u;return{previous:{x:s.x-d*(o.x-i.x),y:s.y-d*(o.y-i.y)},next:{x:s.x+h*(o.x-i.x),y:s.y+h*(o.y-i.y)}}}function rw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=tw(t),r=e.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=ew(e,0);for(o=0;o<r;++o)if(a=l,l=c,c=ew(e,o+1),l){if(c){const e=c[t]-l[t];i[o]=0!==e?(c[n]-l[n])/e:0}s[o]=a?c?Cy(i[o-1])!==Cy(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}!function(e,t,n){const r=e.length;let i,s,o,a,l,c=ew(e,0);for(let u=0;u<r-1;++u)l=c,c=ew(e,u+1),l&&c&&(ky(t[u],0,Zb)?n[u]=n[u+1]=0:(i=n[u]/t[u],s=n[u+1]/t[u],a=Math.pow(i,2)+Math.pow(s,2),a<=9||(o=3/Math.sqrt(a),n[u]=i*o*t[u],n[u+1]=s*o*t[u])))}(e,i,s),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=tw(n),i=e.length;let s,o,a,l=ew(e,0);for(let c=0;c<i;++c){if(o=a,a=l,l=ew(e,c+1),!a)continue;const i=a[n],u=a[r];o&&(s=(i-o[n])/3,a[`cp1${n}`]=i-s,a[`cp1${r}`]=u-s*t[c]),l&&(s=(l[n]-i)/3,a[`cp2${n}`]=i+s,a[`cp2${r}`]=u+s*t[c])}}(e,s,t)}function iw(e,t,n){return Math.max(Math.min(e,n),t)}function sw(e,t,n,r,i){let s,o,a,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)rw(e,i);else{let n=r?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],l=nw(n,a,e[Math.min(s+1,o-(r?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}t.capBezierPoints&&function(e,t){let n,r,i,s,o,a=wb(e[0],t);for(n=0,r=e.length;n<r;++n)o=s,s=a,a=n<r-1&&wb(e[n+1],t),s&&(i=e[n],o&&(i.cp1x=iw(i.cp1x,t.left,t.right),i.cp1y=iw(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=iw(i.cp2x,t.left,t.right),i.cp2y=iw(i.cp2y,t.top,t.bottom)))}(e,n)}function ow(){return"undefined"!==typeof window&&"undefined"!==typeof document}function aw(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function lw(e,t,n){let r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const cw=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const uw=["top","right","bottom","left"];function dw(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=uw[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function hw(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=cw(n),s="border-box"===i.boxSizing,o=dw(i,"padding"),a=dw(i,"border","width"),{x:l,y:c,box:u}=function(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let o,a,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(i,s,e.target))o=i,a=s;else{const e=t.getBoundingClientRect();o=r.clientX-e.left,a=r.clientY-e.top,l=!0}return{x:o,y:a,box:l}}(e,n),d=o.left+(u&&a.left),h=o.top+(u&&a.top);let{width:f,height:p}=t;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-d)/f*n.width/r),y:Math.round((c-h)/p*n.height/r)}}const fw=e=>Math.round(10*e)/10;function pw(e,t,n,r){const i=cw(e),s=dw(i,"margin"),o=lw(i.maxWidth,e,"clientWidth")||vy,a=lw(i.maxHeight,e,"clientHeight")||vy,l=function(e,t,n){let r,i;if(void 0===t||void 0===n){const s=e&&aw(e);if(s){const e=s.getBoundingClientRect(),o=cw(s),a=dw(o,"border","width"),l=dw(o,"padding");t=e.width-l.width-a.width,n=e.height-l.height-a.height,r=lw(o.maxWidth,s,"clientWidth"),i=lw(o.maxHeight,s,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||vy,maxHeight:i||vy}}(e,t,n);let{width:c,height:u}=l;if("content-box"===i.boxSizing){const e=dw(i,"border","width"),t=dw(i,"padding");c-=t.width+e.width,u-=t.height+e.height}c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=fw(Math.min(c,o,l.maxWidth)),u=fw(Math.min(u,a,l.maxHeight)),c&&!u&&(u=fw(c/2));return(void 0!==t||void 0!==n)&&r&&l.height&&u>l.height&&(u=l.height,c=fw(Math.floor(u*r))),{width:c,height:u}}function mw(e,t,n){const r=t||1,i=Math.floor(e.height*r),s=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==r||o.height!==i||o.width!==s)&&(e.currentDevicePixelRatio=r,o.height=i,o.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0)}const gw=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};ow()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function vw(e,t){const n=function(e,t){return cw(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function yw(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function bw(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function ww(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=yw(e,i,n),a=yw(i,s,n),l=yw(s,t,n),c=yw(o,a,n),u=yw(a,l,n);return yw(c,u,n)}function xw(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function _w(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function Cw(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function kw(e){return"angle"===e?{between:My,compare:Py,normalize:Dy}:{between:Ly,compare:(e,t)=>e-t,normalize:e=>e}}function Ew(e){let{start:t,end:n,count:r,loop:i,style:s}=e;return{start:t%r,end:n%r,loop:i&&(n-t+1)%r===0,style:s}}function Sw(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,o=t.length,{compare:a,between:l,normalize:c}=kw(r),{start:u,end:d,loop:h,style:f}=function(e,t,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=kw(r),l=t.length;let c,u,{start:d,end:h,loop:f}=e;if(f){for(d+=l,h+=l,c=0,u=l;c<u&&o(a(t[d%l][r]),i,s);++c)d--,h--;d%=l,h%=l}return h<d&&(h+=l),{start:d,end:h,loop:f,style:e.style}}(e,t,n),p=[];let m,g,v,y=!1,b=null;const w=()=>y||l(i,v,m)&&0!==a(i,v),x=()=>!y||0===a(s,m)||l(s,v,m);for(let _=u,C=u;_<=d;++_)g=t[_%o],g.skip||(m=c(g[r]),m!==v&&(y=l(m,i,s),null===b&&w()&&(b=0===a(m,i)?_:C),null!==b&&x()&&(p.push(Ew({start:b,end:_,loop:h,count:o,style:f})),b=null),C=_,v=m));return null!==b&&p.push(Ew({start:b,end:d,loop:h,count:o,style:f})),p}function Nw(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=Sw(r[i],e.points,t);s.length&&n.push(...s)}return n}function Tw(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){const i=e._chart.getContext(),s=jw(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let u=s,d=t[0].start,h=d;function f(e,t,r,i){const s=a?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=s;for(;n[t%l].skip;)t+=s;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:r,style:i}),u=i,d=t%l)}}for(const p of t){d=a?d:p.start;let e,t=n[d%l];for(h=d+1;h<=p.end;h++){const s=n[h%l];e=jw(r.setContext(zb(i,{type:"segment",p0:t,p1:s,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),Iw(e,u)&&f(d,h-1,p.loop,u),t=s,u=e}d<h-1&&f(d,h-1,p.loop,u)}return c}(e,t,n,r):t}function jw(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Iw(e,t){if(!t)return!1;const n=[],r=function(e,t){return eb(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}class Aw{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const i=t.listeners[r],s=t.duration;i.forEach((r=>r({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(n-t.start,s)})))}_refresh(){this._request||(this._running=!0,this._request=Hy.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let s,o=i.length-1,a=!1;for(;o>=0;--o)s=i[o],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(r.draw(),this._notify(r,n,e,"progress")),i.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=i.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ow=new Aw;const Pw="transparent",Dw={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const r=tb(e||Pw),i=r.valid&&tb(t||Pw);return i&&i.valid?i.mix(r,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class Mw{constructor(e,t,n,r){const i=t[n];r=Fb([e.to,r,i,e.from]);const s=Fb([e.from,i,r]);this._active=!0,this._fn=e.fn||Dw[e.type||typeof s],this._easing=Zy[e.easing]||Zy.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,s=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Fb([e.to,t,r,e.from]),this._from=Fb([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,i=this._from,s=this._loop,o=this._to;let a;if(this._active=i!==o&&(s||t<n),!this._active)return this._target[r]=o,void this._notify(!0);t<0?this._target[r]=i:(a=t/n%2,a=s&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[r]=this._fn(i,o,a))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class Rw{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Kv(e))return;const t=Object.keys(pb.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((r=>{const i=e[r];if(!Kv(i))return;const s={};for(const e of t)s[e]=i[e];(Gv(i.properties)&&i.properties||[r]).forEach((e=>{e!==r&&n.has(e)||n.set(e,s)}))}))}_animateOptions(e,t){const n=t.options,r=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const t=e[r[i]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),i}_createAnimations(e,t){const n=this._properties,r=[],i=e.$animations||(e.$animations={}),s=Object.keys(t),o=Date.now();let a;for(a=s.length-1;a>=0;--a){const l=s[a];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(e,t));continue}const c=t[l];let u=i[l];const d=n.get(l);if(u){if(d&&u.active()){u.update(d,c,o);continue}u.cancel()}d&&d.duration?(i[l]=u=new Mw(d,e,l,c),r.push(u)):e[l]=c}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(Ow.add(this._chart,n),!0):void 0}}function Lw(e,t){const n=e&&e.options||{},r=n.reverse,i=void 0===n.min?t:0,s=void 0===n.max?t:0;return{start:r?s:i,end:r?i:s}}function Fw(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function zw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=e.keys,s="single"===r.mode;let o,a,l,c;if(null!==t){for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(r.all)continue;break}c=e.values[l],Yv(c)&&(s||0===t||Cy(t)===Cy(c))&&(t+=c)}return t}}function Uw(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function Vw(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function Bw(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const t=e[i.index];if(n&&t>0||!n&&t<0)return i.index}return null}function $w(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=function(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}(s,o,r),d=t.length;let h;for(let f=0;f<d;++f){const e=t[f],{[l]:n,[c]:s}=e;h=(e._stacks||(e._stacks={}))[c]=Vw(i,u,n),h[a]=s,h._top=Bw(h,o,!0,r.type),h._bottom=Bw(h,o,!1,r.type);(h._visualValues||(h._visualValues={}))[a]=s}}function Hw(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function qw(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}const Ww=e=>"reset"===e||"none"===e,Gw=(e,t)=>t?e:Object.assign({},e);class Kw{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Uw(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&qw(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,i=t.xAxisID=Xv(n.xAxisID,Hw(e,"x")),s=t.yAxisID=Xv(n.yAxisID,Hw(e,"y")),o=t.rAxisID=Xv(n.rAxisID,Hw(e,"r")),a=t.indexAxis,l=t.iAxisID=r(a,i,s,o),c=t.vAxisID=r(a,s,i,o);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&By(this._data,this),e._stacked&&qw(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(Kv(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:r}=t,i="x"===n.axis?"x":"y",s="x"===r.axis?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[s]:e[u]};return a}(t,e)}else if(n!==t){if(n){By(n,this);const e=this._cachedMeta;qw(e),e._parsed=[]}t&&Object.isExtensible(t)&&function(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Vy.forEach((t=>{const n="_onData"+uy(t),r=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];const o=r.apply(this,i);return e._chartjs.listeners.forEach((e=>{"function"===typeof e[n]&&e[n](...i)})),o}})})))}(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=t._stacked;t._stacked=Uw(t.vScale,t),t.stack!==n.stack&&(r=!0,qw(t),t.stack=n.stack),this._resyncElements(e),(r||i!==t._stacked)&&($w(this,t._parsed),t._stacked=Uw(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:s}=n,o=i.axis;let a,l,c,u=0===e&&t===r.length||n._sorted,d=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=Gv(r[e])?this.parseArrayData(n,r,e,t):Kv(r[e])?this.parseObjectData(n,r,e,t):this.parsePrimitiveData(n,r,e,t);const i=()=>null===l[o]||d&&l[o]<d[o];for(a=0;a<t;++a)n._parsed[a+e]=l=c[a],u&&(i()&&(u=!1),d=l);n._sorted=u}s&&$w(this,c)}parsePrimitiveData(e,t,n,r){const{iScale:i,vScale:s}=e,o=i.axis,a=s.axis,l=i.getLabels(),c=i===s,u=new Array(r);let d,h,f;for(d=0,h=r;d<h;++d)f=d+n,u[d]={[o]:c||i.parse(l[f],f),[a]:s.parse(t[f],f)};return u}parseArrayData(e,t,n,r){const{xScale:i,yScale:s}=e,o=new Array(r);let a,l,c,u;for(a=0,l=r;a<l;++a)c=a+n,u=t[c],o[a]={x:i.parse(u[0],c),y:s.parse(u[1],c)};return o}parseObjectData(e,t,n,r){const{xScale:i,yScale:s}=e,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l=new Array(r);let c,u,d,h;for(c=0,u=r;c<u;++c)d=c+n,h=t[d],l[c]={x:i.parse(cy(h,o),d),y:s.parse(cy(h,a),d)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,i=this._cachedMeta,s=t[e.axis];return zw({keys:Fw(r,!0),values:t._stacks[e.axis]._visualValues},s,i.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const i=n[t.axis];let s=null===i?NaN:i;const o=r&&n._stacks[t.axis];r&&o&&(r.values=o,s=zw(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,s),e.max=Math.max(e.max,s)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&e===n.iScale,s=r.length,o=this._getOtherScale(e),a=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Fw(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(o);let d,h;function f(){h=r[d];const t=h[o.axis];return!Yv(h[e.axis])||c>t||u<t}for(d=0;d<s&&(f()||(this.updateRangeFromParsed(l,e,h,a),!i));++d);if(i)for(d=s-1;d>=0;--d)if(!f()){this.updateRangeFromParsed(l,e,h,a);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,i,s;for(r=0,i=t.length;r<i;++r)s=t[r][e.axis],Yv(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,r,i;return Kv(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:!1===e}}(Xv(this.options.clip,function(e,t,n){if(!1===n)return!1;const r=Lw(e,n),i=Lw(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],i=t.chartArea,s=[],o=this._drawStart||0,a=this._drawCount||r.length-o,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,i,o,a),c=o;c<o+a;++c){const t=r[c];t.hidden||(t.active&&l?s.push(t):t.draw(e,i))}for(c=0;c<s.length;++c)s[c].draw(e,i)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];i=t.$context||(t.$context=function(e,t,n){return zb(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=function(e,t){return zb(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===t,i=this._cachedDataOpts,s=e+"-"+t,o=i[s],a=this.enableOptionSharing&&dy(n);if(o)return Gw(o,a);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=r?[`${e}Hover`,"hover",e,""]:[e,""],d=l.getOptionScopes(this.getDataset(),c),h=Object.keys(pb.elements[e]),f=l.resolveNamedOptions(d,h,(()=>this.getContext(n,r,t)),u);return f.$shared&&(f.$shared=a,i[s]=Object.freeze(Gw(f,a))),f}_resolveAnimations(e,t,n){const r=this.chart,i=this._cachedDataOpts,s=`animation-${t}`,o=i[s];if(o)return o;let a;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,t),s=r.getOptionScopes(this.getDataset(),i);a=r.createResolver(s,this.getContext(e,n,t))}const l=new Rw(r,a&&a.animations);return a&&a._cacheable&&(i[s]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Ww(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,i=this.getSharedOptions(n),s=this.includeOptions(t,i)||i!==r;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:s}}updateElement(e,t,n,r){Ww(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!Ww(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const i=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[o,a,l]of this._syncList)this[o](a,l);this._syncList=[];const r=n.length,i=t.length,s=Math.min(i,r);s&&this.parse(0,s),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,i=r.data,s=e+t;let o;const a=e=>{for(e.length+=t,o=e.length-1;o>=s;o--)e[o]=e[o-t]};for(a(i),o=e;o<s;++o)i[o]=new this.dataElementType;this._parsing&&a(r._parsed),this.parse(e,t),n&&this.updateElements(i,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&qw(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class Yw extends Kw{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=t,s=this.chart._animationsDisabled;let{start:o,count:a}=Ky(t,r,s);this._drawStart=o,this._drawCount=a,Yy(t)&&(o=0,a=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},e),this.updateElements(r,o,a,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,r),d=s.axis,h=o.axis,{spanGaps:f,segment:p}=this.options,m=Sy(f)?f:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||i||"none"===r,v=t+n,y=e.length;let b=t>0&&this.getParsed(t-1);for(let w=0;w<y;++w){const n=e[w],f=g?n:{};if(w<t||w>=v){f.skip=!0;continue}const y=this.getParsed(w),x=Wv(y[h]),_=f[d]=s.getPixelForValue(y[d],w),C=f[h]=i||x?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,y,a):y[h],w);f.skip=isNaN(_)||isNaN(C)||x,f.stop=w>0&&Math.abs(y[d]-b[d])>m,p&&(f.parsed=y,f.raw=l.data[w]),u&&(f.options=c||this.resolveDataElementOptions(w,n.active?"active":r)),g||this.updateElement(n,w,f,r),b=y}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,s)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function Qw(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Xw{static override(e){Object.assign(Xw.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Qw()}parse(){return Qw()}format(){return Qw()}add(){return Qw()}diff(){return Qw()}startOf(){return Qw()}endOf(){return Qw()}}var Jw=Xw;function Zw(e,t,n,r){const{controller:i,data:s,_sorted:o}=e,a=i._cachedMeta.iScale;if(a&&t===a.axis&&"r"!==t&&o&&s.length){const e=a._reversePixels?Uy:zy;if(!r)return e(s,t,n);if(i._sharedOptions){const r=s[0],i="function"===typeof r.getRange&&r.getRange(t);if(i){const r=e(s,t,n-i),o=e(s,t,n+i);return{lo:r.lo,hi:o.hi}}}}return{lo:0,hi:s.length-1}}function ex(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=s.length;a<l;++a){const{index:e,data:n}=s[a],{lo:l,hi:c}=Zw(s[a],t,o,i);for(let t=l;t<=c;++t){const i=n[t];i.skip||r(i,e,t)}}}function tx(e,t,n,r,i){const s=[];if(!i&&!e.isPointInArea(t))return s;return ex(e,n,t,(function(n,o,a){(i||wb(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&s.push({element:n,datasetIndex:o,index:a})}),!0),s}function nx(e,t,n,r,i,s){let o=[];const a=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const i=t?Math.abs(e.x-r.x):0,s=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return ex(e,n,t,(function(n,c,u){const d=n.inRange(t.x,t.y,i);if(r&&!d)return;const h=n.getCenterPoint(i);if(!(!!s||e.isPointInArea(h))&&!d)return;const f=a(t,h);f<l?(o=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&o.push({element:n,datasetIndex:c,index:u})})),o}function rx(e,t,n,r,i,s){return s||e.isPointInArea(t)?"r"!==n||r?nx(e,t,n,r,i,s):function(e,t,n,r){let i=[];return ex(e,n,t,(function(e,n,s){const{startAngle:o,endAngle:a}=e.getProps(["startAngle","endAngle"],r),{angle:l}=Ay(e,{x:t.x,y:t.y});My(l,o,a)&&i.push({element:e,datasetIndex:n,index:s})})),i}(e,t,n,i):[]}function ix(e,t,n,r,i){const s=[],o="x"===n?"inXRange":"inYRange";let a=!1;return ex(e,n,t,((e,r,l)=>{e[o]&&e[o](t[n],i)&&(s.push({element:e,datasetIndex:r,index:l}),a=a||e.inRange(t.x,t.y,i))})),r&&!a?[]:s}var sx={evaluateInteractionItems:ex,modes:{index(e,t,n,r){const i=hw(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?tx(e,i,s,r,o):rx(e,i,s,!1,r,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=a[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,n,r){const i=hw(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?tx(e,i,s,r,o):rx(e,i,s,!1,r,o);if(a.length>0){const t=a[0].datasetIndex,n=e.getDatasetMeta(t).data;a=[];for(let e=0;e<n.length;++e)a.push({element:n[e],datasetIndex:t,index:e})}return a},point:(e,t,n,r)=>tx(e,hw(t,e),n.axis||"xy",r,n.includeInvisible||!1),nearest(e,t,n,r){const i=hw(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return rx(e,i,s,n.intersect,r,o)},x:(e,t,n,r)=>ix(e,hw(t,e),"x",n.intersect,r),y:(e,t,n,r)=>ix(e,hw(t,e),"y",n.intersect,r)}};const ox=["left","top","right","bottom"];function ax(e,t){return e.filter((e=>e.pos===t))}function lx(e,t){return e.filter((e=>-1===ox.indexOf(e.pos)&&e.box.axis===t))}function cx(e,t){return e.sort(((e,n)=>{const r=t?n:e,i=t?e:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function ux(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:i}=n;if(!e||!ox.includes(r))continue;const s=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=i}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:o}=a.box,l=n[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*r:o&&t.availableWidth,a.height=i):(a.width=r,a.height=c?c*i:o&&t.availableHeight)}return n}function dx(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function hx(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function fx(e,t,n,r){const{pos:i,box:s}=n,o=e.maxPadding;if(!Kv(i)){n.size&&(e[i]-=n.size);const t=r[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?s.height:s.width),n.size=t.size/t.count,e[i]+=n.size}s.getPadding&&hx(o,s.getPadding());const a=Math.max(0,t.outerWidth-dx(o,e,"left","right")),l=Math.max(0,t.outerHeight-dx(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function px(e,t){const n=t.maxPadding;function r(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{r[e]=Math.max(t[e],n[e])})),r}return r(e?["left","right"]:["top","bottom"])}function mx(e,t,n,r){const i=[];let s,o,a,l,c,u;for(s=0,o=e.length,c=0;s<o;++s){a=e[s],l=a.box,l.update(a.width||t.w,a.height||t.h,px(a.horizontal,t));const{same:o,other:d}=fx(t,n,a,r);c|=o&&i.length,u=u||d,l.fullSize||i.push(a)}return c&&mx(i,t,n,r)||u}function gx(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function vx(e,t,n,r){const i=n.padding;let{x:s,y:o}=t;for(const a of e){const e=a.box,l=r[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const r=t.w*c,s=l.size||e.height;dy(l.start)&&(o=l.start),e.fullSize?gx(e,i.left,o,n.outerWidth-i.right-i.left,s):gx(e,t.left+l.placed,o,r,s),l.start=o,l.placed+=r,o=e.bottom}else{const r=t.h*c,o=l.size||e.width;dy(l.start)&&(s=l.start),e.fullSize?gx(e,s,i.top,o,n.outerHeight-i.bottom-i.top):gx(e,s,t.top+l.placed,o,r),l.start=s,l.placed+=r,s=e.right}}t.x=s,t.y=o}var yx={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=Rb(e.options.layout.padding),s=Math.max(t-i.width,0),o=Math.max(n-i.height,0),a=function(e){const t=function(e){const t=[];let n,r,i,s,o,a;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],({position:s,options:{stack:o,stackWeight:a=1}}=i),t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return t}(e),n=cx(t.filter((e=>e.box.fullSize)),!0),r=cx(ax(t,"left"),!0),i=cx(ax(t,"right")),s=cx(ax(t,"top"),!0),o=cx(ax(t,"bottom")),a=lx(t,"x"),l=lx(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:ax(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}(e.boxes),l=a.vertical,c=a.horizontal;ey(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const u=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,d=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},i);hx(h,Rb(r));const f=Object.assign({maxPadding:h,w:s,h:o,x:i.left,y:i.top},i),p=ux(l.concat(c),d);mx(a.fullSize,f,d,p),mx(l,f,d,p),mx(c,f,d,p)&&mx(l,f,d,p),function(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(f),vx(a.leftAndTop,f,d,p),f.x+=f.w,f.y+=f.h,vx(a.rightAndBottom,f,d,p),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},ey(a.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class bx{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class wx extends bx{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const xx="$chartjs",_x={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Cx=e=>null===e||""===e;const kx=!!gw&&{passive:!0};function Ex(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,kx)}function Sx(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Nx(e,t,n){const r=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||Sx(n.addedNodes,r),t=t&&!Sx(n.removedNodes,r);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function Tx(e,t,n){const r=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||Sx(n.removedNodes,r),t=t&&!Sx(n.addedNodes,r);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}const jx=new Map;let Ix=0;function Ax(){const e=window.devicePixelRatio;e!==Ix&&(Ix=e,jx.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function Ox(e,t,n){const r=e.canvas,i=r&&aw(r);if(!i)return;const s=qy(((e,t)=>{const r=i.clientWidth;n(e,t),r<i.clientWidth&&n()}),window),o=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||s(n,r)}));return o.observe(i),function(e,t){jx.size||window.addEventListener("resize",Ax),jx.set(e,t)}(e,s),o}function Px(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){jx.delete(e),jx.size||window.removeEventListener("resize",Ax)}(e)}function Dx(e,t,n){const r=e.canvas,i=qy((t=>{null!==e.ctx&&n(function(e,t){const n=_x[e.type]||e.type,{x:r,y:i}=hw(e,t);return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==i?i:null}}(t,e))}),e);return function(e,t,n){e&&e.addEventListener(t,n,kx)}(r,t,i),i}class Mx extends bx{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[xx]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Cx(i)){const t=vw(e,"width");void 0!==t&&(e.width=t)}if(Cx(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=vw(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[xx])return!1;const n=t[xx].initial;["height","width"].forEach((e=>{const r=n[e];Wv(r)?t.removeAttribute(e):t.setAttribute(e,r)}));const r=n.style||{};return Object.keys(r).forEach((e=>{t.style[e]=r[e]})),t.width=t.width,delete t[xx],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),i={attach:Nx,detach:Tx,resize:Ox}[t]||Dx;r[t]=i(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:Px,detach:Px,resize:Px}[t]||Ex)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return pw(e,t,n,r)}isAttached(e){const t=e&&aw(e);return!(!t||!t.isConnected)}}class Rx{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Sy(this.x)&&Sy(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach((e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),r}}function Lx(e,t){const n=e.options.ticks,r=function(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(t):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return function(e,t,n,r){let i,s=0,o=n[0];for(r=Math.ceil(r),i=0;i<e.length;i++)i===o&&(t.push(e[i]),s++,o=n[s*r])}(t,c,s,o/i),c;const u=function(e,t,n){const r=function(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),i=t.length/n;if(!r)return Math.max(i,1);const s=function(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(r);for(let o=0,a=s.length-1;o<a;o++){const e=s[o];if(e>i)return e}return Math.max(i,1)}(s,t,i);if(o>0){let e,n;const r=o>1?Math.round((l-a)/(o-1)):null;for(Fx(t,c,u,Wv(r)?0:a-r,a),e=0,n=o-1;e<n;e++)Fx(t,c,u,s[e],s[e+1]);return Fx(t,c,u,l,Wv(r)?t.length:l+r),c}return Fx(t,c,u),c}function Fx(e,t,n,r,i){const s=Xv(r,0),o=Math.min(Xv(i,e.length),e.length);let a,l,c,u=0;for(n=Math.ceil(n),i&&(a=i-r,n=a/Math.floor(a/n)),c=s;c<0;)u++,c=Math.round(s+u*n);for(l=Math.max(s,0);l<o;l++)l===c&&(t.push(e[l]),u++,c=Math.round(s+u*n))}const zx=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,Ux=(e,t)=>Math.min(t||e,e);function Vx(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function Bx(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,o=e._endPixel,a=1e-6;let l,c=e.getPixelForTick(i);if(!(n&&(l=1===r?Math.max(c-s,o-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(i-1))/2,c+=i<t?l:-l,c<s-a||c>o+a)))return c}function $x(e){return e.drawTicks?e.tickLength:0}function Hx(e,t){if(!e.display)return 0;const n=Lb(e.font,t),r=Rb(e.padding);return(Gv(e.text)?e.text.length:1)*n.lineHeight+r.height}function qx(e,t,n){let r=Wy(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class Wx extends Rx{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=Qv(e,Number.POSITIVE_INFINITY),t=Qv(t,Number.NEGATIVE_INFINITY),n=Qv(n,Number.POSITIVE_INFINITY),r=Qv(r,Number.NEGATIVE_INFINITY),{min:Qv(e,n),max:Qv(t,r),minDefined:Yv(e),maxDefined:Yv(t)}}getMinMax(e){let t,{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds();if(i&&s)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let a=0,l=o.length;a<l;++a)t=o[a].controller.getMinMax(this,e),i||(n=Math.min(n,t.min)),s||(r=Math.max(r,t.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Qv(n,Qv(r,n)),max:Qv(r,Qv(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Zv(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:i,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:r,max:i}=e,s=Jv(t,(i-r)/2),o=(e,t)=>n&&0===e?0:e+t;return{min:o(r,-Math.abs(s)),max:o(i,s)}}(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?Vx(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=Lx(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Zv(this.options.afterUpdate,[this])}beforeSetDimensions(){Zv(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Zv(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Zv(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Zv(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,i;for(n=0,r=e.length;n<r;n++)i=e[n],i.label=Zv(t.callback,[i.value,n,e],this)}afterTickToLabelConversion(){Zv(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Zv(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=Ux(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,i=t.maxRotation;let s,o,a,l=r;if(!this._isVisible()||!t.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),u=c.widest.width,d=c.highest.height,h=Ry(this.chart.width-u,0,this.maxWidth);s=e.offset?this.maxWidth/n:h/(n-1),u+6>s&&(s=h/(n-(e.offset?.5:1)),o=this.maxHeight-$x(e.grid)-t.padding-Hx(e.title,this.chart.options.font),a=Math.sqrt(u*u+d*d),l=jy(Math.min(Math.asin(Ry((c.highest.height+6)/s,-1,1)),Math.asin(Ry(o/a,-1,1))-Math.asin(Ry(d/a,-1,1)))),l=Math.max(r,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){Zv(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Zv(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:i}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const s=Hx(r,t.options.font);if(o?(e.width=this.maxWidth,e.height=$x(i)+s):(e.height=this.maxHeight,e.width=$x(i)+s),n.display&&this.ticks.length){const{first:t,last:r,widest:i,highest:s}=this._getLabelSizes(),a=2*n.padding,l=Ty(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(o){const t=n.mirror?0:u*i.width+c*s.height;e.height=Math.min(this.maxHeight,e.height+t+a)}else{const t=n.mirror?0:c*i.width+u*s.height;e.width=Math.min(this.maxWidth,e.width+t+a)}this._calculatePadding(t,r,u,c)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:i,padding:s},position:o}=this.options,a=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,d=0;a?l?(u=r*e.width,d=n*t.height):(u=n*e.height,d=r*t.width):"start"===i?d=t.width:"end"===i?u=e.width:"inner"!==i&&(u=e.width/2,d=t.width/2),this.paddingLeft=Math.max((u-o+s)*this.width/(this.width-o),0),this.paddingRight=Math.max((d-c+s)*this.width/(this.width-c),0)}else{let n=t.height/2,r=e.height/2;"start"===i?(n=0,r=e.height):"end"===i&&(n=t.height,r=0),this.paddingTop=n+s,this.paddingBottom=r+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Zv(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)Wv(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=Vx(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:i}=this,s=[],o=[],a=Math.floor(t/Ux(t,n));let l,c,u,d,h,f,p,m,g,v,y,b=0,w=0;for(l=0;l<t;l+=a){if(d=e[l].label,h=this._resolveTickFontOptions(l),r.font=f=h.string,p=i[f]=i[f]||{data:{},gc:[]},m=h.lineHeight,g=v=0,Wv(d)||Gv(d)){if(Gv(d))for(c=0,u=d.length;c<u;++c)y=d[c],Wv(y)||Gv(y)||(g=mb(r,p.data,p.gc,g,y),v+=m)}else g=mb(r,p.data,p.gc,g,d),v=m;s.push(g),o.push(v),b=Math.max(g,b),w=Math.max(v,w)}!function(e,t){ey(e,(e=>{const n=e.gc,r=n.length/2;let i;if(r>t){for(i=0;i<r;++i)delete e.data[n[i]];n.splice(0,r)}}))}(i,t);const x=s.indexOf(b),_=o.indexOf(w),C=e=>({width:s[e]||0,height:o[e]||0});return{first:C(0),last:C(t-1),widest:C(x),highest:C(_),widths:s,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Ry(this._alignToPixels?gb(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return zb(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=zb(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=Ty(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),i=this._getLabelSizes(),s=e.autoSkipPadding||0,o=i?i.widest.width+s:0,a=i?i.highest.height+s:0;return this.isHorizontal()?a*n>o*r?o/n:a/r:a*r<o*n?a/n:o/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:i,position:s,border:o}=r,a=i.offset,l=this.isHorizontal(),c=this.ticks.length+(a?1:0),u=$x(i),d=[],h=o.setContext(this.getContext()),f=h.display?h.width:0,p=f/2,m=function(e){return gb(n,e,f)};let g,v,y,b,w,x,_,C,k,E,S,N;if("top"===s)g=m(this.bottom),x=this.bottom-u,C=g-p,E=m(e.top)+p,N=e.bottom;else if("bottom"===s)g=m(this.top),E=e.top,N=m(e.bottom)-p,x=g+p,C=this.top+u;else if("left"===s)g=m(this.right),w=this.right-u,_=g-p,k=m(e.left)+p,S=e.right;else if("right"===s)g=m(this.left),k=e.left,S=m(e.right)-p,w=g+p,_=this.left+u;else if("x"===t){if("center"===s)g=m((e.top+e.bottom)/2+.5);else if(Kv(s)){const e=Object.keys(s)[0],t=s[e];g=m(this.chart.scales[e].getPixelForValue(t))}E=e.top,N=e.bottom,x=g+p,C=x+u}else if("y"===t){if("center"===s)g=m((e.left+e.right)/2);else if(Kv(s)){const e=Object.keys(s)[0],t=s[e];g=m(this.chart.scales[e].getPixelForValue(t))}w=g-p,_=w-u,k=e.left,S=e.right}const T=Xv(r.ticks.maxTicksLimit,c),j=Math.max(1,Math.ceil(c/T));for(v=0;v<c;v+=j){const e=this.getContext(v),t=i.setContext(e),r=o.setContext(e),s=t.lineWidth,c=t.color,u=r.dash||[],h=r.dashOffset,f=t.tickWidth,p=t.tickColor,m=t.tickBorderDash||[],g=t.tickBorderDashOffset;y=Bx(this,v,a),void 0!==y&&(b=gb(n,y,s),l?w=_=k=S=b:x=C=E=N=b,d.push({tx1:w,ty1:x,tx2:_,ty2:C,x1:k,y1:E,x2:S,y2:N,width:s,color:c,borderDash:u,borderDashOffset:h,tickWidth:f,tickColor:p,tickBorderDash:m,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,d}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:i}=n,s=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:l,padding:c,mirror:u}=i,d=$x(n.grid),h=d+c,f=u?-c:h,p=-Ty(this.labelRotation),m=[];let g,v,y,b,w,x,_,C,k,E,S,N,T="middle";if("top"===r)x=this.bottom-f,_=this._getXAxisLabelAlignment();else if("bottom"===r)x=this.top+f,_=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(d);_=e.textAlign,w=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(d);_=e.textAlign,w=e.x}else if("x"===t){if("center"===r)x=(e.top+e.bottom)/2+h;else if(Kv(r)){const e=Object.keys(r)[0],t=r[e];x=this.chart.scales[e].getPixelForValue(t)+h}_=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)w=(e.left+e.right)/2-h;else if(Kv(r)){const e=Object.keys(r)[0],t=r[e];w=this.chart.scales[e].getPixelForValue(t)}_=this._getYAxisLabelAlignment(d).textAlign}"y"===t&&("start"===a?T="top":"end"===a&&(T="bottom"));const j=this._getLabelSizes();for(g=0,v=o.length;g<v;++g){y=o[g],b=y.label;const e=i.setContext(this.getContext(g));C=this.getPixelForTick(g)+i.labelOffset,k=this._resolveTickFontOptions(g),E=k.lineHeight,S=Gv(b)?b.length:1;const t=S/2,n=e.color,a=e.textStrokeColor,c=e.textStrokeWidth;let d,h=_;if(s?(w=C,"inner"===_&&(h=g===v-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),N="top"===r?"near"===l||0!==p?-S*E+E/2:"center"===l?-j.highest.height/2-t*E+E:-j.highest.height+E/2:"near"===l||0!==p?E/2:"center"===l?j.highest.height/2-t*E:j.highest.height-S*E,u&&(N*=-1),0===p||e.showLabelBackdrop||(w+=E/2*Math.sin(p))):(x=C,N=(1-S)*E/2),e.showLabelBackdrop){const t=Rb(e.backdropPadding),n=j.heights[g],r=j.widths[g];let i=N-t.top,s=0-t.left;switch(T){case"middle":i-=n/2;break;case"bottom":i-=n}switch(_){case"center":s-=r/2;break;case"right":s-=r;break;case"inner":g===v-1?s-=r:g>0&&(s-=r/2)}d={left:s,top:i,width:r+t.width,height:n+t.height,color:e.backdropColor}}m.push({label:b,font:k,textOffset:N,options:{rotation:p,color:n,strokeColor:a,strokeWidth:c,textAlign:h,textBaseline:T,translation:[w,x],backdrop:d}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Ty(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,s=e+i,o=this._getLabelSizes().widest.width;let a,l;return"left"===t?r?(l=this.right+i,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l+=o)):(l=this.right-s,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l=this.left)):"right"===t?r?(l=this.left+i,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l-=o)):(l=this.left+s,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:i,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,i,s),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,s;const o=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(i=0,s=r.length;i<s;++i){const e=r[i];t.drawOnChartArea&&o({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&o({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),s=n.display?i.width:0;if(!s)return;const o=r.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,d;this.isHorizontal()?(l=gb(e,this.left,s)-s/2,c=gb(e,this.right,o)+o/2,u=d=a):(u=gb(e,this.top,s)-s/2,d=gb(e,this.bottom,o)+o/2,l=c=a),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(l,u),t.lineTo(c,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&xb(t,n);const r=this.getLabelItems(e);for(const i of r){const e=i.options,n=i.font;Nb(t,i.label,0,i.textOffset,n,e)}n&&_b(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const i=Lb(n.font),s=Rb(n.padding),o=n.align;let a=i.lineHeight/2;"bottom"===t||"center"===t||Kv(t)?(a+=s.bottom,Gv(n.text)&&(a+=i.lineHeight*(n.text.length-1))):a+=s.top;const{titleX:l,titleY:c,maxWidth:u,rotation:d}=function(e,t,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let d,h,f,p=0;const m=o-i,g=a-s;if(e.isHorizontal()){if(h=Gy(r,s,a),Kv(n)){const e=Object.keys(n)[0],r=n[e];f=u[e].getPixelForValue(r)+m-t}else f="center"===n?(c.bottom+c.top)/2+m-t:zx(e,n,t);d=a-s}else{if(Kv(n)){const e=Object.keys(n)[0],r=n[e];h=u[e].getPixelForValue(r)-g+t}else h="center"===n?(c.left+c.right)/2-g+t:zx(e,n,t);f=Gy(r,o,i),p="left"===n?-by:by}return{titleX:h,titleY:f,maxWidth:d,rotation:p}}(this,a,t,o);Nb(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:d,textAlign:qx(o,t,r),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=Xv(e.grid&&e.grid.z,-1),r=Xv(e.border&&e.border.z,0);return this._isVisible()&&this.draw===Wx.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,s;for(i=0,s=t.length;i<s;++i){const s=t[i];s[n]!==this.id||e&&s.type!==e||r.push(s)}return r}_resolveTickFontOptions(e){return Lb(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Gx{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,i=e.id,s=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,function(e,t,n){const r=sy(Object.create(null),[n?pb.get(n):{},pb.get(t),e.defaults]);pb.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");pb.route(s,i,l,a)}))}(t,e.defaultRoutes);e.descriptors&&pb.describe(t,e.descriptors)}(e,s,n),this.override&&pb.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in pb[r]&&(delete pb[r][n],this.override&&delete cb[n])}}class Kx{constructor(){this.controllers=new Gx(Kw,"datasets",!0),this.elements=new Gx(Rx,"elements"),this.plugins=new Gx(Object,"plugins"),this.scales=new Gx(Wx,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach((t=>{const r=n||this._getRegistryForType(t);n||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):ey(t,(t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)}))}))}_exec(e,t,n){const r=uy(e);Zv(n["before"+r],[],n),t[e](n),Zv(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var Yx=new Kx;class Qx{constructor(){this._init=[]}notify(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),s=this._notify(i,e,t,n);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,t,n,r){r=r||{};for(const i of e){const e=i.plugin;if(!1===Zv(e[n],[t,r,i.options],e)&&r.cancelable)return!1}return!0}invalidate(){Wv(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=Xv(n.options&&n.options.plugins,{}),i=function(e){const t={},n=[],r=Object.keys(Yx.plugins.items);for(let s=0;s<r.length;s++)n.push(Yx.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const e=i[s];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){let{plugins:i,localIds:s}=t;const o=[],a=e.getContext();for(const l of i){const t=l.id,i=Xx(n[t],r);null!==i&&o.push({plugin:l,options:Jx(e.config,{plugin:l,local:s[t]},i,a)})}return o}(e,i,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function Xx(e,t){return t||!1!==e?!0===e?{}:e:null}function Jx(e,t,n,r){let{plugin:i,local:s}=t;const o=e.pluginScopeKeys(i),a=e.getOptionScopes(n,o);return s&&i.defaults&&a.push(i.defaults),e.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Zx(e,t){const n=pb.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function e_(e){if("x"===e||"y"===e||"r"===e)return e}function t_(e){if(e_(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const s of n){const t=s.axis||("top"===(i=s.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||e.length>1&&e_(e[0].toLowerCase());if(t)return t}var i;throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function n_(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function r_(e,t){const n=cb[e.type]||{scales:{}},r=t.scales||{},i=Zx(e.type,t),s=Object.create(null);return Object.keys(r).forEach((t=>{const o=r[t];if(!Kv(o))return console.error(`Invalid scale configuration for scale: ${t}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const a=t_(t,o,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return n_(e,"x",n[0])||n_(e,"y",n[0])}return{}}(t,e),pb.scales[o.type]),l=function(e,t){return e===t?"_index_":"_value_"}(a,i),c=n.scales||{};s[t]=oy(Object.create(null),[{axis:a},o,c[a],c[l]])})),e.data.datasets.forEach((n=>{const i=n.type||e.type,o=n.indexAxis||Zx(i,t),a=(cb[i]||{}).scales||{};Object.keys(a).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,o),i=n[t+"AxisID"]||t;s[i]=s[i]||Object.create(null),oy(s[i],[{axis:t},r[i],a[e]])}))})),Object.keys(s).forEach((e=>{const t=s[e];oy(t,[pb.scales[t.type],pb.scale])})),s}function i_(e){const t=e.options||(e.options={});t.plugins=Xv(t.plugins,{}),t.scales=r_(e,t)}function s_(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const o_=new Map,a_=new Set;function l_(e,t){let n=o_.get(e);return n||(n=t(),o_.set(e,n),a_.add(n)),n}const c_=(e,t,n)=>{const r=cy(t,n);void 0!==r&&e.add(r)};class u_{constructor(e){this._config=function(e){return(e=e||{}).data=s_(e.data),i_(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=s_(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),i_(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return l_(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return l_(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return l_(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id;return l_(`${this.type}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:i}=this,s=this._cachedScopes(e,n),o=s.get(t);if(o)return o;const a=new Set;t.forEach((t=>{e&&(a.add(e),t.forEach((t=>c_(a,e,t)))),t.forEach((e=>c_(a,r,e))),t.forEach((e=>c_(a,cb[i]||{},e))),t.forEach((e=>c_(a,pb,e))),t.forEach((e=>c_(a,ub,e)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),a_.has(t)&&s.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,cb[t]||{},pb.datasets[t]||{},{type:t},pb,ub]}resolveNamedOptions(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const i={$shared:!0},{resolver:s,subPrefixes:o}=d_(this._resolverCache,e,r);let a=s;if(function(e,t){const{isScriptable:n,isIndexable:r}=Bb(e);for(const i of t){const t=n(i),s=r(i),o=(s||t)&&e[i];if(t&&(hy(o)||h_(o))||s&&Gv(o))return!0}return!1}(s,t)){i.$shared=!1;a=Vb(s,n=hy(n)?n():n,this.createResolver(e,n,o))}for(const l of t)i[l]=a[l];return i}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:i}=d_(this._resolverCache,e,n);return Kv(t)?Vb(i,t,void 0,r):i}}function d_(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);if(!s){s={resolver:Ub(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},r.set(i,s)}return s}const h_=e=>Kv(e)&&Object.getOwnPropertyNames(e).some((t=>hy(e[t])));const f_=["top","bottom","left","right","chartArea"];function p_(e,t){return"top"===e||"bottom"===e||-1===f_.indexOf(e)&&"x"===t}function m_(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function g_(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Zv(n&&n.onComplete,[e],t)}function v_(e){const t=e.chart,n=t.options.animation;Zv(n&&n.onProgress,[e],t)}function y_(e){return ow()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const b_={},w_=e=>{const t=y_(e);return Object.values(b_).filter((e=>e.canvas===t)).pop()};function x_(e,t,n){const r=Object.keys(e);for(const i of r){const r=+i;if(r>=t){const s=e[i];delete e[i],(n>0||r>t)&&(e[r+n]=s)}}}function __(e,t,n){return e.options.clip?e[n]:t[n]}class C_{static defaults=(()=>pb)();static instances=(()=>b_)();static overrides=(()=>cb)();static registry=(()=>Yx)();static version="4.4.5";static getChart=(()=>w_)();static register(){Yx.add(...arguments),k_()}static unregister(){Yx.remove(...arguments),k_()}constructor(e,t){const n=this.config=new u_(t),r=y_(e),i=w_(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!ow()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?wx:Mx}(r)),this.platform.updateConfig(n);const o=this.platform.acquireContext(r,s.aspectRatio),a=o&&o.canvas,l=a&&a.height,c=a&&a.width;this.id=qv(),this.ctx=o,this.canvas=a,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Qx,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}((e=>this.update(e)),s.resizeDelay||0),this._dataChanges=[],b_[this.id]=this,o&&a?(Ow.listen(this,"complete",g_),Ow.listen(this,"progress",v_),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:i}=this;return Wv(e)?t&&i?i:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Yx}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():mw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return vb(this.canvas,this.ctx),this}stop(){return Ow.stop(this),this}resize(e,t){Ow.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,e,t,i),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,mw(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),Zv(n.onResize,[this,s],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){ey(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let i=[];t&&(i=i.concat(Object.keys(t).map((e=>{const n=t[e],r=t_(e,n),i="r"===r,s="x"===r;return{options:n,dposition:i?"chartArea":s?"bottom":"left",dtype:i?"radialLinear":s?"category":"linear"}})))),ey(i,(t=>{const i=t.options,s=i.id,o=t_(s,i),a=Xv(i.type,t.dtype);void 0!==i.position&&p_(i.position,o)===p_(t.dposition)||(i.position=t.dposition),r[s]=!0;let l=null;if(s in n&&n[s].type===a)l=n[s];else{l=new(Yx.getScale(a))({id:s,type:a,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(i,e)})),ey(r,((e,t)=>{e||delete n[t]})),ey(n,(e=>{yx.configure(this,e,e.options),yx.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(m_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const r=t[n];let i=this.getDatasetMeta(n);const s=r.type||this.config.type;if(i.type&&i.type!==s&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=s,i.indexAxis=r.indexAxis||Zx(s,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const t=Yx.getController(s),{datasetElementType:r,dataElementType:o}=pb.datasets[s];Object.assign(t,{dataElementType:Yx.getElement(o),datasetElementType:r&&Yx.getElement(r)}),i.controller=new t(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){ey(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!r&&-1===i.indexOf(e);e.buildOrUpdateElements(t),s=Math.max(+e.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),r||ey(i,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(m_("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){ey(this.scales,(e=>{yx.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);fy(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of t){x_(e,r,"_removeElements"===n?-i:i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),r=n(0);for(let i=1;i<t;i++)if(!fy(r,n(i)))return;return Array.from(r).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;yx.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],ey(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,hy(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Ow.has(this)?this.attached&&!Ow.running(this)&&Ow.start(this):(this.draw(),g_({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,i;for(r=0,i=t.length;r<i;++r){const i=t[r];e&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,r=!n.disabled,i=function(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:__(n,t,"left"),right:__(n,t,"right"),top:__(r,t,"top"),bottom:__(r,t,"bottom")}:t}(e,this.chartArea),s={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(r&&xb(t,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),e.controller.draw(),r&&_b(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return wb(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const i=sx.modes[t];return"function"===typeof i?i(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter((e=>e&&e._dataset===t)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=zb(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",i=this.getDatasetMeta(e),s=i.controller._resolveAnimations(void 0,r);dy(t)?(i.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),s.update(i,{visible:n}),this.update((t=>t.datasetIndex===e?r:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Ow.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),vb(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete b_[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};ey(this.options.events,(e=>n(e,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},i=(e,t)=>{this.canvas&&this.resize(e,t)};let s;const o=()=>{r("attach",o),this.attached=!0,this.resize(),n("resize",i),n("detach",s)};s=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",o)},t.isAttached(this.canvas)?o():s()}unbindEvents(){ey(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},ey(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let i,s,o,a;for("dataset"===t&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),o=0,a=e.length;o<a;++o){s=e[o];const t=s&&this.getDatasetMeta(s.datasetIndex).controller;t&&t[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.getDatasetMeta(t);if(!r)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:r.data[n],index:n}}));!ty(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const r=this.options.hover,i=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),s=i(t,e),o=n?e:i(e,t);s.length&&this.updateHoverStyle(s,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:i}=this,s=t,o=this._getActiveElements(e,r,n,s),a=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,a);n&&(this._lastEvent=null,Zv(i.onHover,[e,o,this],this),a&&Zv(i.onClick,[e,o,this],this));const c=!ty(o,r);return(c||t)&&(this._active=o,this._updateHoverStyles(o,r,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}}function k_(){return ey(C_.instances,(e=>e._plugins.invalidate()))}function E_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=Xv(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Xv(n.borderDash,t.borderDash)),e.lineDashOffset=Xv(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Xv(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Xv(n.borderWidth,t.borderWidth),e.strokeStyle=Xv(n.borderColor,t.borderColor)}function S_(e,t,n){e.lineTo(n.x,n.y)}function N_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=t,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:t.loop,ilen:c<l&&!u?r+c-l:c-l}}function T_(e,t,n,r){const{points:i,options:s}=t,{count:o,start:a,loop:l,ilen:c}=N_(i,n,r),u=function(e){return e.stepped?Cb:e.tension||"monotone"===e.cubicInterpolationMode?kb:S_}(s);let d,h,f,{move:p=!0,reverse:m}=r||{};for(d=0;d<=c;++d)h=i[(a+(m?c-d:d))%o],h.skip||(p?(e.moveTo(h.x,h.y),p=!1):u(e,f,h,m,s.stepped),f=h);return l&&(h=i[(a+(m?c:0))%o],u(e,f,h,m,s.stepped)),!!l}function j_(e,t,n,r){const i=t.points,{count:s,start:o,ilen:a}=N_(i,n,r),{move:l=!0,reverse:c}=r||{};let u,d,h,f,p,m,g=0,v=0;const y=e=>(o+(c?a-e:e))%s,b=()=>{f!==p&&(e.lineTo(g,p),e.lineTo(g,f),e.lineTo(g,m))};for(l&&(d=i[y(0)],e.moveTo(d.x,d.y)),u=0;u<=a;++u){if(d=i[y(u)],d.skip)continue;const t=d.x,n=d.y,r=0|t;r===h?(n<f?f=n:n>p&&(p=n),g=(v*g+t)/++v):(b(),e.lineTo(t,n),h=r,v=0,f=p=n),m=n}b()}function I_(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?j_:T_}const A_="function"===typeof Path2D;function O_(e,t,n,r){A_&&!t.options.segment?function(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),E_(e,t.options),e.stroke(i)}(e,t,n,r):function(e,t,n,r){const{segments:i,options:s}=t,o=I_(t);for(const a of i)E_(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}(e,t,n,r)}class P_ extends Rx{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;sw(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:o,end:a}=function(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}(n,i,s,r);return Tw(e,!0===r?[{start:o,end:a,loop:s}]:function(e,t,n,r){const i=e.length,s=[];let o,a=t,l=e[t];for(o=t+1;o<=n;++o){const n=e[o%i];n.skip||n.stop?l.skip||(r=!1,s.push({start:t%i,end:(o-1)%i,loop:r}),t=a=n.stop?o:null):(a=o,l.skip&&(t=o)),l=n}return null!==a&&s.push({start:t%i,end:a%i,loop:r}),s}(n,o,a<o?a+i:a,!!e._fullLoop&&0===o&&a===i-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],i=this.points,s=Nw(this,{property:t,start:r,end:r});if(!s.length)return;const o=[],a=function(e){return e.stepped?bw:e.tension||"monotone"===e.cubicInterpolationMode?ww:yw}(n);let l,c;for(l=0,c=s.length;l<c;++l){const{start:c,end:u}=s[l],d=i[c],h=i[u];if(d===h){o.push(d);continue}const f=a(d,h,Math.abs((r-d[t])/(h[t]-d[t])),n.stepped);f[t]=e[t],o.push(f)}return 1===o.length?o[0]:o}pathSegment(e,t,n){return I_(this)(e,this,t,n)}path(e,t,n){const r=this.segments,i=I_(this);let s=this._loop;t=t||0,n=n||this.points.length-t;for(const o of r)s&=i(e,this,o,{start:t,end:t+n-1});return!!s}draw(e,t,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),O_(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function D_(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}class M_ extends Rx{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:i,y:s}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(t-s,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return D_(this,e,"x",t)}inYRange(e,t){return D_(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!wb(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,yb(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}const R_=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}};class L_ extends Rx{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Zv(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,r=Lb(n.font),i=r.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=R_(n,i);let l,c;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,i,o,a)+10):(c=this.maxHeight,l=this._fitCols(s,r,o,a)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:i,maxWidth:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+o;let u=e;i.textAlign="left",i.textBaseline="middle";let d=-1,h=-c;return this.legendItems.forEach(((e,f)=>{const p=n+t/2+i.measureText(e.text).width;(0===f||l[l.length-1]+p+2*o>s)&&(u+=c,l[l.length-(f>0?0:1)]=0,h+=c,d++),a[f]={left:0,top:h,row:d,width:p,height:r},l[l.length-1]+=p+o})),u}_fitCols(e,t,n,r){const{ctx:i,maxHeight:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-e;let u=o,d=0,h=0,f=0,p=0;return this.legendItems.forEach(((e,s)=>{const{itemWidth:m,itemHeight:g}=function(e,t,n,r,i){const s=function(e,t,n,r){let i=e.text;i&&"string"!==typeof i&&(i=i.reduce(((e,t)=>e.length>t.length?e:t)));return t+n.size/2+r.measureText(i).width}(r,e,t,n),o=function(e,t,n){let r=e;"string"!==typeof t.text&&(r=F_(t,n));return r}(i,r,t.lineHeight);return{itemWidth:s,itemHeight:o}}(n,t,i,e,r);s>0&&h+g+2*o>c&&(u+=d+o,l.push({width:d,height:h}),f+=d+o,p++,d=h=0),a[s]={left:f,top:h,col:p,width:m,height:g},d=Math.max(d,m),h+=g+o})),u+=d,l.push({width:d,height:h}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:i}}=this,s=xw(i,this.left,this.width);if(this.isHorizontal()){let i=0,o=Gy(n,this.left+r,this.right-this.lineWidths[i]);for(const a of t)i!==a.row&&(i=a.row,o=Gy(n,this.left+r,this.right-this.lineWidths[i])),a.top+=this.top+e+r,a.left=s.leftForLtr(s.x(o),a.width),o+=a.width+r}else{let i=0,o=Gy(n,this.top+e+r,this.bottom-this.columnSizes[i].height);for(const a of t)a.col!==i&&(i=a.col,o=Gy(n,this.top+e+r,this.bottom-this.columnSizes[i].height)),a.top=o,a.left+=this.left+r,a.left=s.leftForLtr(s.x(a.left),a.width),o+=a.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;xb(e,this),this._draw(),_b(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:i,labels:s}=e,o=pb.color,a=xw(e.rtl,this.left,this.width),l=Lb(s.font),{padding:c}=s,u=l.size,d=u/2;let h;this.drawTitle(),r.textAlign=a.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:m}=R_(s,u),g=this.isHorizontal(),v=this._computeTitleHeight();h=g?{x:Gy(i,this.left+c,this.right-n[0]),y:this.top+c+v,line:0}:{x:this.left+c,y:Gy(i,this.top+v+c,this.bottom-t[0].height),line:0},_w(this.ctx,e.textDirection);const y=m+c;this.legendItems.forEach(((b,w)=>{r.strokeStyle=b.fontColor,r.fillStyle=b.fontColor;const x=r.measureText(b.text).width,_=a.textAlign(b.textAlign||(b.textAlign=s.textAlign)),C=f+d+x;let k=h.x,E=h.y;a.setWidth(this.width),g?w>0&&k+C+c>this.right&&(E=h.y+=y,h.line++,k=h.x=Gy(i,this.left+c,this.right-n[h.line])):w>0&&E+y>this.bottom&&(k=h.x=k+t[h.line].width+c,h.line++,E=h.y=Gy(i,this.top+v+c,this.bottom-t[h.line].height));if(function(e,t,n){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;r.save();const i=Xv(n.lineWidth,1);if(r.fillStyle=Xv(n.fillStyle,o),r.lineCap=Xv(n.lineCap,"butt"),r.lineDashOffset=Xv(n.lineDashOffset,0),r.lineJoin=Xv(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=Xv(n.strokeStyle,o),r.setLineDash(Xv(n.lineDash,[])),s.usePointStyle){const o={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},l=a.xPlus(e,f/2);bb(r,o,l,t+d,s.pointStyleWidth&&f)}else{const s=t+Math.max((u-p)/2,0),o=a.leftForLtr(e,f),l=Mb(n.borderRadius);r.beginPath(),Object.values(l).some((e=>0!==e))?Tb(r,{x:o,y:s,w:f,h:p,radius:l}):r.rect(o,s,f,p),r.fill(),0!==i&&r.stroke()}r.restore()}(a.x(k),E,b),k=((e,t,n,r)=>e===(r?"left":"right")?n:"center"===e?(t+n)/2:t)(_,k+f+d,g?k+C:this.right,e.rtl),function(e,t,n){Nb(r,n.text,e,t+m/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(k),E,b),g)h.x+=C+c;else if("string"!==typeof b.text){const e=l.lineHeight;h.y+=F_(b,e)+c}else h.y+=y})),Cw(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Lb(t.font),r=Rb(t.padding);if(!t.display)return;const i=xw(e.rtl,this.left,this.width),s=this.ctx,o=t.position,a=n.size/2,l=r.top+a;let c,u=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+l,u=Gy(e.align,u,this.right-d);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+Gy(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=Gy(o,u,u+d);s.textAlign=i.textAlign(Wy(o)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=n.string,Nb(s,t.text,h,c,n)}_computeTitleHeight(){const e=this.options.title,t=Lb(e.font),n=Rb(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,i;if(Ly(e,this.left,this.right)&&Ly(t,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],Ly(e,r.left,r.left+r.width)&&Ly(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,i=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(r,n);r&&!i&&Zv(t.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!i&&Zv(t.onHover,[e,n,this],this)}else n&&Zv(t.onClick,[e,n,this],this)}}function F_(e,t){return t*(e.text?e.text.length:0)}var z_={id:"legend",_element:L_,start(e,t,n){const r=e.legend=new L_({ctx:e.ctx,options:n,chart:e});yx.configure(e,r,n),yx.addBox(e,r)},stop(e){yx.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;yx.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(n?0:void 0),c=Rb(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class U_ extends Rx{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=Gv(n.text)?n.text.length:1;this._padding=Rb(n.padding);const i=r*Lb(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:r,right:i,options:s}=this,o=s.align;let a,l,c,u=0;return this.isHorizontal()?(l=Gy(o,n,i),c=t+e,a=i-n):("left"===s.position?(l=n+e,c=Gy(o,r,t),u=-.5*py):(l=i-e,c=Gy(o,t,r),u=.5*py),a=r-t),{titleX:l,titleY:c,maxWidth:a,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Lb(t.font),r=n.lineHeight/2+this._padding.top,{titleX:i,titleY:s,maxWidth:o,rotation:a}=this._drawArgs(r);Nb(e,t.text,0,0,n,{color:t.color,maxWidth:o,rotation:a,textAlign:Wy(t.align),textBaseline:"middle",translation:[i,s]})}}var V_={id:"title",_element:U_,start(e,t,n){!function(e,t){const n=new U_({ctx:e.ctx,options:t,chart:e});yx.configure(e,n,t),yx.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;yx.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;yx.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const B_={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r.add(e.x),i+=e.y,++s}}if(0===s||0===r.size)return!1;const o=[...r].reduce(((e,t)=>e+t))/r.size;return{x:o,y:i/s}},nearest(e,t){if(!e.length)return!1;let n,r,i,s=t.x,o=t.y,a=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){const r=e[n].element;if(r&&r.hasValue()){const e=Oy(t,r.getCenterPoint());e<a&&(a=e,i=r)}}if(i){const e=i.tooltipPosition();s=e.x,o=e.y}return{x:s,y:o}}};function $_(e,t){return t&&(Gv(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function H_(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function q_(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:e,label:o,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function W_(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:o,boxHeight:a}=t,l=Lb(t.bodyFont),c=Lb(t.titleFont),u=Lb(t.footerFont),d=s.length,h=i.length,f=r.length,p=Rb(t.padding);let m=p.height,g=0,v=r.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(v+=e.beforeBody.length+e.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),v){m+=f*(t.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(v-f)*l.lineHeight+(v-1)*t.bodySpacing}h&&(m+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let y=0;const b=function(e){g=Math.max(g,n.measureText(e).width+y)};return n.save(),n.font=c.string,ey(e.title,b),n.font=l.string,ey(e.beforeBody.concat(e.afterBody),b),y=t.displayColors?o+2+t.boxPadding:0,ey(r,(e=>{ey(e.before,b),ey(e.lines,b),ey(e.after,b)})),y=0,n.font=u.string,ey(e.footer,b),n.restore(),g+=p.width,{width:g,height:m}}function G_(e,t,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return"center"===r?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),function(e,t,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;return"left"===e&&i+s+o>t.width||"right"===e&&i-s-o<0||void 0}(c,e,t,n)&&(c="center"),c}function K_(e,t,n){const r=n.yAlign||t.yAlign||function(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||G_(e,t,n,r),yAlign:r}}function Y_(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=Mb(o);let p=function(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,a);const m=function(e,t,n){let{y:r,height:i}=e;return"top"===t?r+=n:r-="bottom"===t?i+n:i/2,r}(t,l,c);return"center"===l?"left"===a?p+=c:"right"===a&&(p-=c):"left"===a?p-=Math.max(u,h)+i:"right"===a&&(p+=Math.max(d,f)+i),{x:Ry(p,0,r.width-t.width),y:Ry(m,0,r.height-t.height)}}function Q_(e,t,n){const r=Rb(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function X_(e){return $_([],H_(e))}function J_(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Z_={beforeTitle:Hv,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:Hv,beforeBody:Hv,beforeLabel:Hv,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Wv(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Hv,afterBody:Hv,beforeFooter:Hv,footer:Hv,afterFooter:Hv};function eC(e,t,n,r){const i=e[t].call(n,r);return"undefined"===typeof i?Z_[t].call(n,r):i}class tC extends Rx{static positioners=(()=>B_)();constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,i=new Rw(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,zb(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,r=eC(n,"beforeTitle",this,e),i=eC(n,"title",this,e),s=eC(n,"afterTitle",this,e);let o=[];return o=$_(o,H_(r)),o=$_(o,H_(i)),o=$_(o,H_(s)),o}getBeforeBody(e,t){return X_(eC(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return ey(e,(e=>{const t={before:[],lines:[],after:[]},i=J_(n,e);$_(t.before,H_(eC(i,"beforeLabel",this,e))),$_(t.lines,eC(i,"label",this,e)),$_(t.after,H_(eC(i,"afterLabel",this,e))),r.push(t)})),r}getAfterBody(e,t){return X_(eC(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=eC(n,"beforeFooter",this,e),i=eC(n,"footer",this,e),s=eC(n,"afterFooter",this,e);let o=[];return o=$_(o,H_(r)),o=$_(o,H_(i)),o=$_(o,H_(s)),o}_createItems(e){const t=this._active,n=this.chart.data,r=[],i=[],s=[];let o,a,l=[];for(o=0,a=t.length;o<a;++o)l.push(q_(this.chart,t[o]));return e.filter&&(l=l.filter(((t,r,i)=>e.filter(t,r,i,n)))),e.itemSort&&(l=l.sort(((t,r)=>e.itemSort(t,r,n)))),ey(l,(t=>{const n=J_(e.callbacks,t);r.push(eC(n,"labelColor",this,t)),i.push(eC(n,"labelPointStyle",this,t)),s.push(eC(n,"labelTextColor",this,t))})),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=s,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let i,s=[];if(r.length){const e=B_[n.position].call(this,r,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const t=this._size=W_(this,n),o=Object.assign({},e,t),a=K_(this.chart,n,o),l=Y_(n,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,i={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=s,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const i=this.getCaretPosition(e,n,r);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:i}=this,{caretSize:s,cornerRadius:o}=n,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:u}=Mb(o),{x:d,y:h}=e,{width:f,height:p}=t;let m,g,v,y,b,w;return"center"===i?(b=h+p/2,"left"===r?(m=d,g=m-s,y=b+s,w=b-s):(m=d+f,g=m+s,y=b-s,w=b+s),v=m):(g="left"===r?d+Math.max(a,c)+s:"right"===r?d+f-Math.max(l,u)-s:this.caretX,"top"===i?(y=h,b=y-s,m=g-s,v=g+s):(y=h+p,b=y+s,m=g+s,v=g-s),w=y),{x1:m,x2:g,x3:v,y1:y,y2:b,y3:w}}drawTitle(e,t,n){const r=this.title,i=r.length;let s,o,a;if(i){const l=xw(n.rtl,this.x,this.width);for(e.x=Q_(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",s=Lb(n.titleFont),o=n.titleSpacing,t.fillStyle=n.titleColor,t.font=s.string,a=0;a<i;++a)t.fillText(r[a],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+o,a+1===i&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,t,n,r,i){const s=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:a,boxWidth:l}=i,c=Lb(i.bodyFont),u=Q_(this,"left",i),d=r.x(u),h=a<c.lineHeight?(c.lineHeight-a)/2:0,f=t.y+h;if(i.usePointStyle){const t={radius:Math.min(l,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=r.leftForLtr(d,l)+l/2,c=f+a/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,yb(e,t,n,c),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,yb(e,t,n,c)}else{e.lineWidth=Kv(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const t=r.leftForLtr(d,l),n=r.leftForLtr(r.xPlus(d,1),l-2),o=Mb(s.borderRadius);Object.values(o).some((e=>0!==e))?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Tb(e,{x:t,y:f,w:l,h:a,radius:o}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),Tb(e,{x:n,y:f+1,w:l-2,h:a-2,radius:o}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(t,f,l,a),e.strokeRect(t,f,l,a),e.fillStyle=s.backgroundColor,e.fillRect(n,f+1,l-2,a-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:i,bodyAlign:s,displayColors:o,boxHeight:a,boxWidth:l,boxPadding:c}=n,u=Lb(n.bodyFont);let d=u.lineHeight,h=0;const f=xw(n.rtl,this.x,this.width),p=function(n){t.fillText(n,f.x(e.x+h),e.y+d/2),e.y+=d+i},m=f.textAlign(s);let g,v,y,b,w,x,_;for(t.textAlign=s,t.textBaseline="middle",t.font=u.string,e.x=Q_(this,m,n),t.fillStyle=n.bodyColor,ey(this.beforeBody,p),h=o&&"right"!==m?"center"===s?l/2+c:l+2+c:0,b=0,x=r.length;b<x;++b){for(g=r[b],v=this.labelTextColors[b],t.fillStyle=v,ey(g.before,p),y=g.lines,o&&y.length&&(this._drawColorBox(t,e,b,f,n),d=Math.max(u.lineHeight,a)),w=0,_=y.length;w<_;++w)p(y[w]),d=u.lineHeight;ey(g.after,p)}h=0,d=u.lineHeight,ey(this.afterBody,p),e.y-=i}drawFooter(e,t,n){const r=this.footer,i=r.length;let s,o;if(i){const a=xw(n.rtl,this.x,this.width);for(e.x=Q_(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=a.textAlign(n.footerAlign),t.textBaseline="middle",s=Lb(n.footerFont),t.fillStyle=n.footerColor,t.font=s.string,o=0;o<i;++o)t.fillText(r[o],a.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:i,yAlign:s}=this,{x:o,y:a}=e,{width:l,height:c}=n,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=Mb(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(o+u,a),"top"===s&&this.drawCaret(e,t,n,r),t.lineTo(o+l-d,a),t.quadraticCurveTo(o+l,a,o+l,a+d),"center"===s&&"right"===i&&this.drawCaret(e,t,n,r),t.lineTo(o+l,a+c-f),t.quadraticCurveTo(o+l,a+c,o+l-f,a+c),"bottom"===s&&this.drawCaret(e,t,n,r),t.lineTo(o+h,a+c),t.quadraticCurveTo(o,a+c,o,a+c-h),"center"===s&&"left"===i&&this.drawCaret(e,t,n,r),t.lineTo(o,a+u),t.quadraticCurveTo(o,a,o+u,a),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=B_[e.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=W_(this,e),o=Object.assign({},n,this._size),a=K_(t,e,o),l=Y_(e,o,a,t);r._to===l.x&&i._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=Rb(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,r,t),_w(e,t.textDirection),i.y+=s.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),Cw(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.chart.getDatasetMeta(t);if(!r)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:r.data[n],index:n}})),i=!ty(n,r),s=this._positionChanged(r,t);(i||s)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],s=this._getActiveElements(e,i,t,n),o=this._positionChanged(s,e),a=t||!ty(s,i)||o;return a&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),a}_getActiveElements(e,t,n,r){const i=this.options;if("mouseout"===e.type)return[];if(!r)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const s=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&s.reverse(),s}_positionChanged(e,t){const{caretX:n,caretY:r,options:i}=this,s=B_[i.position].call(this,e,t);return!1!==s&&(n!==s.x||r!==s.y)}}var nC={id:"tooltip",_element:tC,positioners:B_,afterInit(e,t,n){n&&(e.tooltip=new tC({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Z_},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function rC(e,t,n,r){const i=e.indexOf(t);if(-1===i)return((e,t,n,r)=>("string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,r);return i!==e.lastIndexOf(t)?n:i}function iC(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class sC extends Wx{static id="category";static defaults=(()=>({ticks:{callback:iC}}))();constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Wv(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:Ry(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:rC(n,e,Xv(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=e;s<=t;s++)r.push({value:s});return r}getLabelForValue(e){return iC.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function oC(e,t){const n=[],{bounds:r,step:i,min:s,max:o,precision:a,count:l,maxTicks:c,maxDigits:u,includeBounds:d}=e,h=i||1,f=c-1,{min:p,max:m}=t,g=!Wv(s),v=!Wv(o),y=!Wv(l),b=(m-p)/(u+1);let w,x,_,C,k=Ey((m-p)/f/h)*h;if(k<1e-14&&!g&&!v)return[{value:p},{value:m}];C=Math.ceil(m/k)-Math.floor(p/k),C>f&&(k=Ey(C*k/f/h)*h),Wv(a)||(w=Math.pow(10,a),k=Math.ceil(k*w)/w),"ticks"===r?(x=Math.floor(p/k)*k,_=Math.ceil(m/k)*k):(x=p,_=m),g&&v&&i&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((o-s)/i,k/1e3)?(C=Math.round(Math.min((o-s)/k,c)),k=(o-s)/C,x=s,_=o):y?(x=g?s:x,_=v?o:_,C=l-1,k=(_-x)/C):(C=(_-x)/k,C=ky(C,Math.round(C),k/1e3)?Math.round(C):Math.ceil(C));const E=Math.max(Iy(k),Iy(x));w=Math.pow(10,Wv(a)?E:a),x=Math.round(x*w)/w,_=Math.round(_*w)/w;let S=0;for(g&&(d&&x!==s?(n.push({value:s}),x<s&&S++,ky(Math.round((x+S*k)*w)/w,s,aC(s,b,e))&&S++):x<s&&S++);S<C;++S){const e=Math.round((x+S*k)*w)/w;if(v&&e>o)break;n.push({value:e})}return v&&d&&_!==o?n.length&&ky(n[n.length-1].value,o,aC(o,b,e))?n[n.length-1].value=o:n.push({value:o}):v&&_!==o||n.push({value:_}),n}function aC(e,t,n){let{horizontal:r,minRotation:i}=n;const s=Ty(i),o=(r?Math.sin(s):Math.cos(s))||.001,a=.75*t*(""+e).length;return Math.min(t/o,a)}class lC extends Wx{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Wv(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const s=e=>r=t?r:e,o=e=>i=n?i:e;if(e){const e=Cy(r),t=Cy(i);e<0&&t<0?o(0):e>0&&t>0&&s(0)}if(r===i){let t=0===i?1:Math.abs(.05*i);o(i+t),e||s(r-t)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=oC({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&Ny(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return ob(e,this.chart.options.locale,this.options.ticks.format)}}class cC extends lC{static id="linear";static defaults=(()=>({ticks:{callback:lb.formatters.numeric}}))();determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Yv(e)?e:0,this.max=Yv(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Ty(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}lb.formatters.logarithmic;lb.formatters.numeric;const uC={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},dC=Object.keys(uC);function hC(e,t){return e-t}function fC(e,t){if(Wv(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let o=t;return"function"===typeof r&&r(o),Yv(o)||("string"===typeof r?n.parse(o,r):n.parse(o)),null===o?null:(i&&("week"!==i||!Sy(s)&&!0!==s?n.startOf(o,i):n.startOf(o,"isoWeek",s)),+o)}function pC(e,t,n,r){const i=dC.length;for(let s=dC.indexOf(e);s<i-1;++s){const e=uC[dC[s]],i=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(i*e.size))<=r)return dC[s]}return dC[i-1]}function mC(e,t,n){if(n){if(n.length){const{lo:r,hi:i}=Fy(n,t);e[n[r]>=t?n[r]:n[i]]=!0}}else e[t]=!0}function gC(e,t,n){const r=[],i={},s=t.length;let o,a;for(0;o<s;++o)t[o],i[a]=o,r.push({value:a,major:!1});return 0!==s&&n?function(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),o=t[t.length-1].value;let a,l;for(s;a<=o;+i.add(a,1,r))n[a],l>=0&&(t[l].major=!0);return t}(e,r,i,n):r}class vC extends Wx{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),r=this._adapter=new Jw(e.adapters.date);r.init(t),oy(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:fC(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:i,minDefined:s,maxDefined:o}=this.getUserBounds();function a(e){s||isNaN(e.min)||Math.min(r,e.min),o||isNaN(e.max)||Math.max(i,e.max)}s&&o||(a(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||a(this.getMinMax(!1))),Yv(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),Yv(i)&&!isNaN(i)?i:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(e[0],e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,s=function(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)0;for(;i>r&&e[i-1]>n;)0;return r>0||i<e.length?e.slice(r,i):e}(r,i,this.max);return this._unit=t.unit||(n.autoSkip?pC(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(e,t,n,r,i){for(let s=dC.length-1;s>=dC.indexOf(n);s--){const n=dC[s];if(uC[n].common&&e._adapter.diff(i,r,n)>=t-1)return n}return dC[n?dC.indexOf(n):0]}(this,s.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=dC.indexOf(e)+1,n=dC.length;t<n;++t)if(uC[dC[t]].common)return dC[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&s.reverse(),gC(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,i=0;this.options.offset&&n.length&&(this.getDecimalForValue(n[0]),1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,this.getDecimalForValue(n[n.length-1]),1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const s=n.length<3?.5:.25;Ry(r,0,s),Ry(i,0,s),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,i=r.time,s=i.unit||pC(i.minUnit,t,n,this._getLabelCapacity(t)),o=Xv(r.ticks.stepSize,1),a="week"===s&&i.isoWeekday,l=Sy(a)||!0===a,c={};let u,d,h=t;if(l&&+e.startOf(h,"isoWeek",a),+e.startOf(h,l?"day":s),e.diff(n,t,s)>1e5*o)throw new Error(t+" and "+n+" are too far apart with stepSize of "+o+" "+s);const f="data"===r.ticks.source&&this.getDataTimestamps();for(0;u<n;+e.add(u,o,s),d++)mC(c,u,f);return u!==n&&"ticks"!==r.bounds&&1!==d||mC(c,u,f),Object.keys(c).sort(hC).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,r=this._unit,i=t||n[r];return this._adapter.format(e,i)}_tickFormatFunction(e,t,n,r){const i=this.options,s=i.ticks.callback;if(s)return Zv(s,[e,t,n],this);const o=i.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],u=l&&o[l],d=n[t],h=l&&u&&d&&d.major;return this._adapter.format(e,r||(h?u:c))}generateTickLabels(e){let t,n,r;for(e.length;t<n;++t)e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=Ty(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(r),s=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:n*i+o*s,h:n*s+o*i}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,i=this._tickFormatFunction(e,0,gC(this,[e],this._majorUnit),r),s=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(r.length;e<t;++e)n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(r.length;t<n;++t)e.push(fC(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return $y(e.sort(hC))}}const yC="label";function bC(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function wC(e,t){e.labels=t}function xC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yC;const r=[];e.datasets=t.map((t=>{const i=e.datasets.find((e=>e[n]===t[n]));return i&&t.data&&!r.includes(i)?(r.push(i),Object.assign(i,t),i):{...t}}))}function _C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yC;const n={labels:[],datasets:[]};return wC(n,e.labels),xC(n,e.datasets,t),n}function CC(t,n){const{height:r=150,width:i=300,redraw:s=!1,datasetIdKey:o,type:a,data:l,options:c,plugins:u=[],fallbackContent:d,updateMode:h,...f}=t,p=(0,e.useRef)(null),m=(0,e.useRef)(),g=()=>{p.current&&(m.current=new C_(p.current,{type:a,data:_C(l,o),options:c&&{...c},plugins:u}),bC(n,m.current))},v=()=>{bC(n,null),m.current&&(m.current.destroy(),m.current=null)};return(0,e.useEffect)((()=>{!s&&m.current&&c&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(m.current,c)}),[s,c]),(0,e.useEffect)((()=>{!s&&m.current&&wC(m.current.config.data,l.labels)}),[s,l.labels]),(0,e.useEffect)((()=>{!s&&m.current&&l.datasets&&xC(m.current.config.data,l.datasets,o)}),[s,l.datasets]),(0,e.useEffect)((()=>{m.current&&(s?(v(),setTimeout(g)):m.current.update(h))}),[s,c,l.labels,l.datasets,h]),(0,e.useEffect)((()=>{m.current&&(v(),setTimeout(g))}),[a]),(0,e.useEffect)((()=>(g(),()=>v())),[]),e.createElement("canvas",Object.assign({ref:p,role:"img",height:r,width:i},f),d)}const kC=(0,e.forwardRef)(CC);function EC(t,n){return C_.register(n),(0,e.forwardRef)(((n,r)=>e.createElement(kC,Object.assign({},n,{ref:r,type:t}))))}const SC=EC("line",Yw);C_.register(sC,cC,M_,P_,V_,nC,z_);const NC=()=>{const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)({}),[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)(""),[c,u]=(0,e.useState)("general"),d=e=>{const t=[],n=[];e.forEach((e=>{t.push(e.fecha),n.push(e.monto)})),i({labels:t,datasets:[{label:"Monto de gastos por fecha (CRC)",data:n,fill:!1,borderColor:"rgba(75, 192, 192, 1)",tension:.1}]})};return(0,Om.jsxs)("div",{className:"gts-container",children:[(0,Om.jsx)("h1",{className:"titulo",children:"Estad\xedsticas de gastos del gimnasio"}),(0,Om.jsxs)("div",{className:"form-data",children:[(0,Om.jsxs)("div",{className:"dates-container",children:[(0,Om.jsx)("label",{children:"Fecha de inicio: "}),(0,Om.jsx)("input",{className:"date-input",type:"date",value:s,onChange:e=>o(e.target.value)}),(0,Om.jsx)("label",{children:"Fecha de fin: "}),(0,Om.jsx)("input",{className:"date-input",type:"date",value:a,onChange:e=>l(e.target.value)})]}),(0,Om.jsxs)("div",{className:"categories-container",children:[(0,Om.jsx)("label",{children:"Categor\xeda: "}),(0,Om.jsxs)("select",{className:"select-categories",value:c,onChange:e=>{u(e.target.value)},children:[(0,Om.jsx)("option",{value:"general",children:"General"}),(0,Om.jsx)("option",{value:"electricidad",children:"Electricidad"}),(0,Om.jsx)("option",{value:"agua",children:"Agua"}),(0,Om.jsx)("option",{value:"alquiler",children:"Alquiler"})]})]}),(0,Om.jsx)("div",{className:"btn-container",children:(0,Om.jsx)("button",{className:"cons-btn",onClick:async()=>{if(s&&a)try{let e=Yc(uc(jm,"gastos"),Xc("fecha",">=",s),Xc("fecha","<=",a));const t=(await fu(e)).docs.map((e=>({id:e.id,...e.data(),monto:parseFloat(e.data().monto)}))),r="general"===c?t:t.filter((e=>e.categoria===c));n(r),d(r)}catch(e){console.error("Error al obtener los gastos:",e)}else I().fire("Error","Por favor, completa todos los campos.","error")},children:"Consultar"})})]}),(0,Om.jsx)("div",{class:"graph-wrapper",children:(0,Om.jsx)("div",{className:"graph-container",children:r&&r.labels?(0,Om.jsx)(SC,{data:r,options:{responsive:!0,plugins:{legend:{display:!1,position:"top"},title:{display:!0,text:"Gastos del gimnasio por fecha"}},scales:{x:{title:{display:!0,text:"Fechas"}},y:{title:{display:!0,text:"Monto (Colones)"}}}}}):(0,Om.jsx)("p",{className:"message",children:"No hay datos disponibles para mostrar."})})})]})};C_.register(sC,cC,M_,P_,V_,nC,z_);const TC=()=>{const[t,n]=(0,e.useState)({labels:[],datasets:[{label:"Monto de ingresos por fecha (CRC)",data:[],borderColor:"rgba(75, 192, 192, 1)",tension:.1}]}),[r,i]=(0,e.useState)(""),[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)("all"),c=e=>{if(0===e.length)return void n({labels:[],datasets:[{label:"",data:[]}]});const t=[],r=[];e.forEach((e=>{if(e.createdAt){const n=e.createdAt.toDate().toLocaleDateString();t.push(n),r.push(e.monto)}})),console.log("Fechas para el gr\xe1fico:",t),console.log("Montos para el gr\xe1fico:",r),n({labels:t,datasets:[{label:"Monto de ingresos por fecha (CRC)",data:r,fill:!1,borderColor:"rgba(75, 192, 192, 1)",tension:.1}]})};return(0,Om.jsxs)("div",{className:"gts-container",children:[(0,Om.jsx)("h1",{className:"titulo",children:"Estad\xedsticas de ingresos del gimnasio"}),(0,Om.jsxs)("div",{className:"form-data",children:[(0,Om.jsxs)("div",{className:"dates-container",children:[(0,Om.jsx)("label",{children:"Fecha de inicio: "}),(0,Om.jsx)("input",{className:"date-input",type:"date",value:r,onChange:e=>i(e.target.value)}),(0,Om.jsx)("label",{children:"Fecha de fin: "}),(0,Om.jsx)("input",{className:"date-input",type:"date",value:s,onChange:e=>o(e.target.value)})]}),(0,Om.jsxs)("div",{className:"categories-container",children:[(0,Om.jsx)("label",{children:"Tipo de ingreso: "}),(0,Om.jsxs)("select",{className:"select-categories",value:a,onChange:e=>{l(e.target.value)},children:[(0,Om.jsx)("option",{value:"all",children:"Ambos"}),(0,Om.jsx)("option",{value:"Pago de articulo",children:"Pago de art\xedculo"}),(0,Om.jsx)("option",{value:"Pago de membresia",children:"Pago de membres\xeda"})]})]}),(0,Om.jsx)("div",{className:"btn-container",children:(0,Om.jsx)("button",{className:"cons-btn",onClick:async()=>{if(!r||!s)return void I().fire("Error","Por favor, completa todos los campos.","error");const e=wn.fromDate(new Date(r)),t=wn.fromDate(new Date(s+"T23:59:59"));console.log("Rango de fechas:",e.toDate(),"a",t.toDate());try{let r=Yc(uc(jm,"Payments"),Xc("createdAt",">=",e),Xc("createdAt","<=",t));const i=await fu(r);if(i.empty)return console.log("No se encontraron ingresos en el rango de fechas especificado."),I().fire("Sin datos","No se encontraron ingresos en el rango de fechas especificado.","info"),void n({labels:[],datasets:[{label:"",data:[]}]});i.docs.forEach((e=>{console.log("Documento encontrado:",e.data()),console.log("Fecha de createdAt:",e.data().createdAt.toDate())}));const s=i.docs.map((e=>({id:e.id,...e.data(),monto:parseFloat(e.data().monto)}))).filter((e=>"all"===a||e.motivo===a));c(s)}catch(i){console.error("Error al obtener los ingresos:",i),I().fire("Error","Hubo un problema al obtener los ingresos.","error")}},children:"Consultar"})})]}),(0,Om.jsx)("div",{class:"graph-wrapper",children:(0,Om.jsx)("div",{className:"graph-container",children:t.labels.length>0?(0,Om.jsx)(SC,{data:t,options:{responsive:!0,plugins:{legend:{display:!1,position:"top"},title:{display:!0,text:"Ingresos del gimnasio por fecha"}},scales:{x:{title:{display:!0,text:"Fechas"}},y:{title:{display:!0,text:"Monto (Colones)"}}}}}):(0,Om.jsx)("p",{className:"message",children:"No hay datos disponibles para mostrar."})})})]})},jC=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;await vu(uc(jm,"alerts"),{message:e,paymentId:t,clientId:n,scheduleDate:(new Date).toISOString()}),await vu(uc(jm,"mail"),{to:[r],message:{subject:"Alerta de Pago",text:e,html:`<p>${e}</p>`}})},IC=async()=>{const e=dc(jm,"config","generalAlert"),t=await du(e);return t.exists()?t.data():null},AC=t=>{let{onShowGeneralAlertConfig:n}=t;const[r,i]=(0,e.useState)([]),[s,o]=(0,e.useState)(!1),[a,l]=(0,e.useState)(null),[c,u]=(0,e.useState)(0),d=new Date;(0,e.useEffect)((()=>{(async()=>{try{o(!0);const e=await(async()=>{const e=Yc(uc(jm,"Payments"),Xc("fechaVencimiento",">",(new Date).toISOString()));return(await fu(e)).docs.map((e=>({id:e.id,...e.data()})))})(),t=Object.values(e.reduce(((e,t)=>{if(!e[t.cliente]||new Date(t.fechaVencimiento)>new Date(e[t.cliente].fechaVencimiento)){const n=new Date(t.fechaVencimiento.split(",")[0]);console.log(n);const r=Math.ceil((n-d)/864e5);console.log(r),e[t.cliente]=t}return e}),{}));t.sort(((e,t)=>new Date(e.fechaVencimiento)-new Date(t.fechaVencimiento))),i(t)}catch(e){I().fire("Error","No se pudo cargar la informaci\xf3n.","error")}finally{o(!1)}})()}),[]);const h=(0,e.useCallback)((async e=>{try{l(e.id);const t=`Recordatorio: Su pr\xf3ximo pago es el ${e.fechaVencimiento.split(",")[0]}.`;await jC(t,e.id,e.uid,e.correo),I().fire("\xc9xito","Recordatorio de pago enviado correctamente.","success")}catch(t){I().fire("Error","No se pudo enviar el recordatorio de pago.","error")}finally{l(null)}}),[]),f=Math.ceil(r.length/5),p=5*c,m=r.slice(p,p+5),g=e=>{"next"===e&&c<Math.floor(r.length/5)?u(c+1):"prev"===e&&c>0?u(c-1):"first"===e?u(0):"last"===e&&u(Math.floor(r.length/5))};return(0,Om.jsxs)("div",{className:"container mt-4 admin-alert-view",children:[(0,Om.jsx)("h2",{className:"mb-4",children:"Gesti\xf3n de Alertas"}),(0,Om.jsx)("button",{className:"btn btn-secondary mb-4",onClick:n,children:"Configurar Alerta General"}),(0,Om.jsxs)("div",{className:"table-responsive",children:[(0,Om.jsxs)("table",{className:"table table-bordered table-hover",children:[(0,Om.jsx)("thead",{className:"table-dark",children:(0,Om.jsxs)("tr",{children:[(0,Om.jsx)("th",{scope:"col",children:"Cliente"}),(0,Om.jsx)("th",{scope:"col",children:"Correo"}),(0,Om.jsx)("th",{scope:"col",children:"Fecha de Vencimiento"}),(0,Om.jsx)("th",{scope:"col",children:"Monto"}),(0,Om.jsx)("th",{scope:"col",children:"Acciones"})]})}),(0,Om.jsx)("tbody",{children:m.length>0?m.map((e=>(0,Om.jsxs)("tr",{children:[(0,Om.jsx)("td",{children:e.cliente}),(0,Om.jsx)("td",{children:e.correo}),(0,Om.jsx)("td",{children:e.fechaVencimiento.split(",")[0]}),(0,Om.jsx)("td",{children:e.monto}),(0,Om.jsx)("td",{children:(0,Om.jsx)("button",{className:"btn btn-primary",onClick:()=>h(e),disabled:s||a===e.uid,children:a===e.uid?"Enviando...":"Enviar Alerta"})})]},e.uid))):(0,Om.jsx)("tr",{children:(0,Om.jsx)("td",{colSpan:"5",className:"text-center",children:"No hay pagos pr\xf3ximos."})})})]}),(0,Om.jsxs)("div",{className:"pagination-buttons",children:[(0,Om.jsx)("button",{className:"button-actions",onClick:()=>g("first"),disabled:0===c,children:(0,Om.jsx)(Tg,{})}),(0,Om.jsx)("button",{className:"button-actions",onClick:()=>g("prev"),disabled:0===c,children:(0,Om.jsx)(jg,{})}),(0,Om.jsxs)("span",{className:"page-indicator",children:[c+1," de ",f]}),(0,Om.jsx)("button",{className:"button-actions",onClick:()=>g("next"),disabled:c===f-1,children:(0,Om.jsx)(Ig,{})}),(0,Om.jsx)("button",{className:"button-actions",onClick:()=>g("last"),disabled:c===f-1,children:(0,Om.jsx)(Ag,{})})]})]})]})},OC=t=>{let{onShowAddPayment:n,onShowPaymentHistory:r}=t;const[i,s]=(0,e.useState)([]),[o,a]=(0,e.useState)(!0),[l,c]=(0,e.useState)(""),[u,d]=(0,e.useState)(zm.CLIENTE),[h,f]=(0,e.useState)("Nombre completo (A-Z)"),[p,m]=(0,e.useState)(null),[g,v]=(0,e.useState)(0);(0,e.useEffect)((()=>{(async()=>{a(!0);try{const e=await(async(e,t)=>{try{const n=Yc(uc(jm,"User"),Xc("rol","==",e)),r=(await fu(n)).docs.map((e=>({id:e.id,...e.data()})));return"Nombre completo (A-Z)"===t?r.sort(((e,t)=>e.nombre.localeCompare(t.nombre))):"Correo (A-Z)"===t?r.sort(((e,t)=>e.correo.localeCompare(t.correo))):"Recientes"===t&&r.sort(((e,t)=>t.createdAt.toMillis()-e.createdAt.toMillis())),r}catch(n){throw console.error("Error al obtener usuarios por rol:",n),new Error("No se pudo obtener la lista de usuarios.")}})(u,h),t=await(async e=>{try{return await Promise.all(e.map((async e=>{const t=Yc(uc(jm,"Payments"),Xc("uid","==",e.uid)),n=(await fu(t)).size;return{...e,cantidadFacturas:n}})))}catch(t){throw console.error("Error al contar las facturas de los usuarios: ",t),new Error("No se pudo contar las facturas de los usuarios.")}})(e);s(t)}catch(e){console.error("Error al obtener usuarios:",e)}a(!1)})()}),[u,h]);const y=e=>{const t=Math.ceil(b.length/5);"first"===e?v(0):"prev"===e&&g>0?v(g-1):"next"===e&&g<t-1?v(g+1):"last"===e&&v(t-1)},b=i.filter((e=>e.nombre.toLowerCase().includes(l.toLowerCase())||e.correo.toLowerCase().includes(l.toLowerCase()))),w=b.slice(5*g,5*(g+1));return(0,Om.jsxs)("div",{className:"seleccionar-usuario-container",children:[(0,Om.jsx)("h1",{children:"Lista de usuarios"}),(0,Om.jsxs)("div",{className:"filter-controls",children:[(0,Om.jsxs)("div",{className:"role-select",children:[(0,Om.jsx)("label",{htmlFor:"role",children:"Buscar:"}),(0,Om.jsxs)("select",{id:"role",value:u,onChange:e=>{d(e.target.value)},children:[(0,Om.jsx)("option",{value:zm.CLIENTE,children:"Clientes"}),(0,Om.jsx)("option",{value:zm.ENTRENADOR,children:"Entrenadores"}),(0,Om.jsx)("option",{value:zm.ADMINISTRADOR,children:"Administradores"})]})]}),(0,Om.jsxs)("div",{className:"sort-select",children:[(0,Om.jsx)("label",{htmlFor:"sort",children:"Ordenar por:"}),(0,Om.jsxs)("select",{id:"sort",value:h,onChange:e=>{f(e.target.value)},children:[(0,Om.jsx)("option",{value:"Nombre completo (A-Z)",children:"Nombre (A-Z)"}),(0,Om.jsx)("option",{value:"Correo (A-Z)",children:"Correo (A-Z)"}),(0,Om.jsx)("option",{value:"Recientes",children:"Recientes"})]})]}),(0,Om.jsx)("div",{className:"search-input",children:(0,Om.jsxs)("div",{className:"search-icon-container",children:[(0,Om.jsx)(kg,{className:"search-icon"}),(0,Om.jsx)("input",{type:"text",placeholder:"Buscar...",value:l,onChange:e=>{c(e.target.value)}})]})})]}),(0,Om.jsx)("div",{className:"instructions-user-list-text",children:(0,Om.jsx)("p",{children:"Selecciona un usuario para facturar o ver m\xe1s informaci\xf3n de pagos:"})}),o?(0,Om.jsx)("div",{className:"loading",children:"Cargando usuarios..."}):(0,Om.jsxs)("table",{className:"tabla-usuarios",children:[(0,Om.jsx)("thead",{children:(0,Om.jsxs)("tr",{children:[(0,Om.jsx)("th",{children:"Nombre"}),(0,Om.jsx)("th",{children:"Correo"}),(0,Om.jsx)("th",{children:"Rol"}),(0,Om.jsx)("th",{children:"Facturas"})]})}),(0,Om.jsx)("tbody",{children:w.map((e=>(0,Om.jsxs)("tr",{className:"usuario-row "+((null===p||void 0===p?void 0:p.id)===e.id?"selected":""),onClick:()=>{var t;m((t=e).id===(null===p||void 0===p?void 0:p.id)?null:t)},children:[(0,Om.jsx)("td",{children:e.nombre}),(0,Om.jsx)("td",{children:e.correo}),(0,Om.jsx)("td",{children:e.rol}),(0,Om.jsx)("td",{children:e.cantidadFacturas||0})]},e.id)))})]}),(0,Om.jsxs)("div",{className:"pagination-buttons",children:[(0,Om.jsx)("button",{className:"button-actions",onClick:()=>y("first"),disabled:0===g,children:(0,Om.jsx)(Tg,{className:"icon-svg",size:24})}),(0,Om.jsx)("button",{className:"button-actions",onClick:()=>y("prev"),disabled:0===g,children:(0,Om.jsx)(jg,{className:"icon-svg",size:24})}),(0,Om.jsxs)("span",{className:"page-indicator",children:[g+1," de ",Math.ceil(b.length/5)]}),(0,Om.jsx)("button",{className:"button-actions",onClick:()=>y("next"),disabled:5*(g+1)>=b.length,children:(0,Om.jsx)(Ig,{className:"icon-svg",size:24})}),(0,Om.jsx)("button",{className:"button-actions",onClick:()=>y("last"),disabled:5*(g+1)>=b.length,children:(0,Om.jsx)(Ag,{className:"icon-svg",size:24})})]}),(0,Om.jsxs)("div",{className:"buttons-container",children:[(0,Om.jsx)("button",{className:"history-button",onClick:()=>{p?r(p):rg("Error","Seleccione un usuario antes de ver el historial.")},children:"Ver historial"}),(0,Om.jsx)("button",{className:"process-button",onClick:()=>{p?ig("\xbfEst\xe1 seguro?",`\xbfDesea ver los pagos para el usuario ${p.nombre}?`,"Procesar","Cancelar").then((e=>{e.isConfirmed&&n(p)})):rg("Error","Seleccione un usuario antes de procesar.")},children:"Crear factura"})]})]})},PC={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function DC(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const MC={date:DC({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:DC({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:DC({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},RC={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function LC(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=n?.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=n?.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const FC={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:LC({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:LC({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:LC({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:LC({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:LC({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function zC(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const o=s[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(a,(e=>e.test(o))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(a,(e=>e.test(o)));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(o.length)}}}function UC(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;return{value:o,rest:t.slice(i.length)}}}const VC={ordinalNumber:UC({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:zC({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:zC({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:zC({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:zC({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:zC({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},BC={code:"en-US",formatDistance:(e,t,n)=>{let r;const i=PC[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:MC,formatRelative:(e,t,n,r)=>RC[e],localize:FC,match:VC,options:{weekStartsOn:0,firstWeekContainsDate:1}};let $C={};function HC(){return $C}Math.pow(10,8);const qC=6048e5,WC=Symbol.for("constructDateFrom");function GC(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&WC in e?e[WC](t):e instanceof Date?new e.constructor(t):new Date(t)}function KC(e,t){return GC(t||e,e)}function YC(e){const t=KC(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function QC(e,t){const n=KC(e,t?.in);return n.setHours(0,0,0,0),n}function XC(e,t,n){const[r,i]=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=GC.bind(null,e||n.find((e=>"object"===typeof e)));return n.map(i)}(n?.in,e,t),s=QC(r),o=QC(i),a=+s-YC(s),l=+o-YC(o);return Math.round((a-l)/864e5)}function JC(e,t){const n=KC(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function ZC(e,t){const n=KC(e,t?.in);return XC(n,JC(n))+1}function ek(e,t){const n=HC(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=KC(e,t?.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function tk(e,t){return ek(e,{...t,weekStartsOn:1})}function nk(e,t){const n=KC(e,t?.in),r=n.getFullYear(),i=GC(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=tk(i),o=GC(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=tk(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function rk(e,t){const n=nk(e,t),r=GC(t?.in||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),tk(r)}function ik(e,t){const n=KC(e,t?.in),r=+tk(n)-+rk(n);return Math.round(r/qC)+1}function sk(e,t){const n=KC(e,t?.in),r=n.getFullYear(),i=HC(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=GC(t?.in||e,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=ek(o,t),l=GC(t?.in||e,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=ek(l,t);return+n>=+a?r+1:+n>=+c?r:r-1}function ok(e,t){const n=HC(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=sk(e,t),s=GC(t?.in||e,0);s.setFullYear(i,0,r),s.setHours(0,0,0,0);return ek(s,t)}function ak(e,t){const n=KC(e,t?.in),r=+ek(n,t)-+ok(n,t);return Math.round(r/qC)+1}function lk(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const ck={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return lk("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):lk(n+1,2)},d:(e,t)=>lk(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>lk(e.getHours()%12||12,t.length),H:(e,t)=>lk(e.getHours(),t.length),m:(e,t)=>lk(e.getMinutes(),t.length),s:(e,t)=>lk(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return lk(Math.trunc(r*Math.pow(10,n-3)),t.length)}},uk="midnight",dk="noon",hk="morning",fk="afternoon",pk="evening",mk="night",gk={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return ck.y(e,t)},Y:function(e,t,n,r){const i=sk(e,r),s=i>0?i:1-i;if("YY"===t){return lk(s%100,2)}return"Yo"===t?n.ordinalNumber(s,{unit:"year"}):lk(s,t.length)},R:function(e,t){return lk(nk(e),t.length)},u:function(e,t){return lk(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return lk(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return lk(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ck.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return lk(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=ak(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):lk(i,t.length)},I:function(e,t,n){const r=ik(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):lk(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):ck.d(e,t)},D:function(e,t,n){const r=ZC(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):lk(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return lk(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return lk(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return lk(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(i=12===r?dk:0===r?uk:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(i=r>=17?pk:r>=12?fk:r>=4?hk:mk,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return ck.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):ck.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):lk(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):lk(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ck.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ck.s(e,t)},S:function(e,t){return ck.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return yk(r);case"XXXX":case"XX":return bk(r);default:return bk(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return yk(r);case"xxxx":case"xx":return bk(r);default:return bk(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+vk(r,":");default:return"GMT"+bk(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+vk(r,":");default:return"GMT"+bk(r,":")}},t:function(e,t,n){return lk(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return lk(+e,t.length)}};function vk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),s=r%60;return 0===s?n+String(i):n+String(i)+t+lk(s,2)}function yk(e,t){if(e%60===0){return(e>0?"-":"+")+lk(Math.abs(e)/60,2)}return bk(e,t)}function bk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+lk(Math.trunc(r/60),2)+t+lk(r%60,2)}const wk=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},xk=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},_k={p:xk,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return wk(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",wk(r,t)).replace("{{time}}",xk(i,t))}},Ck=/^D+$/,kk=/^Y+$/,Ek=["D","DD","YY","YYYY"];function Sk(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function Nk(e){return!(!Sk(e)&&"number"!==typeof e||isNaN(+KC(e)))}const Tk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ik=/^'([^]*?)'?$/,Ak=/''/g,Ok=/[a-zA-Z]/;function Pk(e,t,n){const r=HC(),i=n?.locale??r.locale??BC,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=KC(e,n?.in);if(!Nk(a))throw new RangeError("Invalid time value");let l=t.match(jk).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,_k[t])(e,i.formatLong)}return e})).join("").match(Tk).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:Dk(e)};if(gk[t])return{isToken:!0,value:e};if(t.match(Ok))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map((r=>{if(!r.isToken)return r.value;const s=r.value;(!n?.useAdditionalWeekYearTokens&&function(e){return kk.test(e)}(s)||!n?.useAdditionalDayOfYearTokens&&function(e){return Ck.test(e)}(s))&&function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),Ek.includes(e))throw new RangeError(r)}(s,t,String(e));return(0,gk[s[0]])(a,s,i.localize,c)})).join("")}function Dk(e){const t=e.match(Ik);return t?t[1].replace(Ak,"'"):e}const Mk={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 d\xeda",other:"{{count}} d\xedas"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 a\xf1o",other:"alrededor de {{count}} a\xf1os"},xYears:{one:"1 a\xf1o",other:"{{count}} a\xf1os"},overXYears:{one:"m\xe1s de 1 a\xf1o",other:"m\xe1s de {{count}} a\xf1os"},almostXYears:{one:"casi 1 a\xf1o",other:"casi {{count}} a\xf1os"}},Rk={date:DC({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:DC({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:DC({formats:{full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Lk={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'ma\xf1ana a la' p",nextWeek:"eeee 'a la' p",other:"P"},Fk={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'ma\xf1ana a las' p",nextWeek:"eeee 'a las' p",other:"P"},zk={ordinalNumber:(e,t)=>Number(e)+"\xba",era:LC({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despu\xe9s de cristo"]},defaultWidth:"wide"}),quarter:LC({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1\xba trimestre","2\xba trimestre","3\xba trimestre","4\xba trimestre"]},defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:LC({values:{narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},defaultWidth:"wide"}),day:LC({values:{narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s\xe1"],abbreviated:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],wide:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"]},defaultWidth:"wide"}),dayPeriod:LC({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"ma\xf1ana",afternoon:"tarde",evening:"tarde",night:"noche"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xf1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},defaultFormattingWidth:"wide"})},Uk={ordinalNumber:UC({matchPattern:/^(\d+)(\xba)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:zC({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u\xfa]n|despu[e\xe9]s de cristo|era com[u\xfa]n)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u\xfa]n)/i,/^(despu[e\xe9]s de cristo|era com[u\xfa]n)/i]},defaultParseWidth:"any"}),quarter:zC({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](\xba)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:zC({matchPatterns:{narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},defaultParseWidth:"any"}),day:zC({matchPatterns:{narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[\xe1a])/i,abbreviated:/^(dom|lun|mar|mi[\xe9e]|jue|vie|s[\xe1a]b)/i,wide:/^(domingo|lunes|martes|mi[\xe9e]rcoles|jueves|viernes|s[\xe1a]bado)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:zC({matchPatterns:{narrow:/^(a|p|mn|md|(de la|a las) (ma\xf1ana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (ma\xf1ana|tarde|noche))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/ma\xf1ana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},defaultParseWidth:"any"})},Vk={code:"es",formatDistance:(e,t,n)=>{let r;const i=Mk[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},formatLong:Rk,formatRelative:(e,t,n,r)=>1!==t.getHours()?Fk[e]:Lk[e],localize:zk,match:Uk,options:{weekStartsOn:1,firstWeekContainsDate:1}};function Bk(e,t){const n=function(e){Hk[e]||(Hk[e]=Wk?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}));return Hk[e]}(t);return"formatToParts"in n?function(e,t){try{const n=e.formatToParts(t),r=[];for(let e=0;e<n.length;e++){const t=$k[n[e].type];void 0!==t&&(r[t]=parseInt(n[e].value,10))}return r}catch(n){if(n instanceof RangeError)return[NaN];throw n}}(n,e):function(e,t){const n=e.format(t),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[parseInt(r[3],10),parseInt(r[1],10),parseInt(r[2],10),parseInt(r[4],10),parseInt(r[5],10),parseInt(r[6],10)]}(n,e)}const $k={year:0,month:1,day:2,hour:3,minute:4,second:5};const Hk={},qk=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),Wk="06/25/2014, 00:00:00"===qk||"\u200e06\u200e/\u200e25\u200e/\u200e2014\u200e \u200e00\u200e:\u200e00\u200e:\u200e00"===qk;function Gk(e,t,n,r,i,s,o){const a=new Date(0);return a.setUTCFullYear(e,t,n),a.setUTCHours(r,i,s,o),a}const Kk=36e5,Yk={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Qk(e,t,n){if(!e)return 0;let r,i,s=Yk.timezoneZ.exec(e);if(s)return 0;if(s=Yk.timezoneHH.exec(e),s)return r=parseInt(s[1],10),Jk(r)?-r*Kk:NaN;if(s=Yk.timezoneHHMM.exec(e),s){r=parseInt(s[2],10);const e=parseInt(s[3],10);return Jk(r,e)?(i=Math.abs(r)*Kk+6e4*e,"+"===s[1]?-i:i):NaN}if(function(e){if(Zk[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),Zk[e]=!0,!0}catch(t){return!1}}(e)){t=new Date(t||Date.now());const r=n?t:function(e){return Gk(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}(t),i=Xk(r,e),s=n?i:function(e,t,n){const r=e.getTime();let i=r-t;const s=Xk(new Date(i),n);if(t===s)return t;i-=s-t;const o=Xk(new Date(i),n);if(s===o)return s;return Math.max(s,o)}(t,i,e);return-s}return NaN}function Xk(e,t){const n=Bk(e,t),r=Gk(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime();let i=e.getTime();const s=i%1e3;return i-=s>=0?s:1e3+s,r-i}function Jk(e,t){return-23<=e&&e<=23&&(null==t||0<=t&&t<=59)}const Zk={};function eE(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+e-+t}const tE=36e5,nE=6e4,rE={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/};function iE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===e)return new Date(NaN);const n=null==t.additionalDigits?2:Number(t.additionalDigits);if(2!==n&&1!==n&&0!==n)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e))return new Date(e.getTime());if("number"===typeof e||"[object Number]"===Object.prototype.toString.call(e))return new Date(e);if("[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);const r=function(e){const t={};let n,r=rE.dateTimePattern.exec(e);r?(t.date=r[1],n=r[3]):(r=rE.datePattern.exec(e),r?(t.date=r[1],n=r[2]):(t.date=null,n=e));if(n){const e=rE.timeZone.exec(n);e?(t.time=n.replace(e[1],""),t.timeZone=e[1].trim()):t.time=n}return t}(e),{year:i,restDateString:s}=function(e,t){if(e){const n=rE.YYY[t],r=rE.YYYYY[t];let i=rE.YYYY.exec(e)||r.exec(e);if(i){const t=i[1];return{year:parseInt(t,10),restDateString:e.slice(t.length)}}if(i=rE.YY.exec(e)||n.exec(e),i){const t=i[1];return{year:100*parseInt(t,10),restDateString:e.slice(t.length)}}}return{year:null}}(r.date,n),o=function(e,t){if(null===t)return null;let n,r,i;if(!e||!e.length)return n=new Date(0),n.setUTCFullYear(t),n;let s=rE.MM.exec(e);if(s)return n=new Date(0),r=parseInt(s[1],10)-1,cE(t,r)?(n.setUTCFullYear(t,r),n):new Date(NaN);if(s=rE.DDD.exec(e),s){n=new Date(0);const e=parseInt(s[1],10);return function(e,t){if(t<1)return!1;const n=lE(e);if(n&&t>366)return!1;if(!n&&t>365)return!1;return!0}(t,e)?(n.setUTCFullYear(t,0,e),n):new Date(NaN)}if(s=rE.MMDD.exec(e),s){n=new Date(0),r=parseInt(s[1],10)-1;const e=parseInt(s[2],10);return cE(t,r,e)?(n.setUTCFullYear(t,r,e),n):new Date(NaN)}if(s=rE.Www.exec(e),s)return i=parseInt(s[1],10)-1,uE(i)?sE(t,i):new Date(NaN);if(s=rE.WwwD.exec(e),s){i=parseInt(s[1],10)-1;const e=parseInt(s[2],10)-1;return uE(i,e)?sE(t,i,e):new Date(NaN)}return null}(s,i);if(null===o||isNaN(o.getTime()))return new Date(NaN);if(o){const e=o.getTime();let n,i=0;if(r.time&&(i=function(e){let t,n,r=rE.HH.exec(e);if(r)return t=parseFloat(r[1].replace(",",".")),dE(t)?t%24*tE:NaN;if(r=rE.HHMM.exec(e),r)return t=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),dE(t,n)?t%24*tE+n*nE:NaN;if(r=rE.HHMMSS.exec(e),r){t=parseInt(r[1],10),n=parseInt(r[2],10);const e=parseFloat(r[3].replace(",","."));return dE(t,n,e)?t%24*tE+n*nE+1e3*e:NaN}return null}(r.time),null===i||isNaN(i)))return new Date(NaN);if(r.timeZone||t.timeZone){if(n=Qk(r.timeZone||t.timeZone,new Date(e+i)),isNaN(n))return new Date(NaN)}else n=eE(new Date(e+i)),n=eE(new Date(e+i+n));return new Date(e+i+n)}return new Date(NaN)}function sE(e,t,n){t=t||0,n=n||0;const r=new Date(0);r.setUTCFullYear(e,0,4);const i=7*t+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+i),r}const oE=[31,28,31,30,31,30,31,31,30,31,30,31],aE=[31,29,31,30,31,30,31,31,30,31,30,31];function lE(e){return e%400===0||e%4===0&&e%100!==0}function cE(e,t,n){if(t<0||t>11)return!1;if(null!=n){if(n<1)return!1;const r=lE(e);if(r&&n>aE[t])return!1;if(!r&&n>oE[t])return!1}return!0}function uE(e,t){return!(e<0||e>52)&&(null==t||!(t<0||t>6))}function dE(e,t,n){return!(e<0||e>=25)&&((null==t||!(t<0||t>=60))&&(null==n||!(n<0||n>=60)))}const hE=e=>{const t=function(e,t,n){const r=Qk(t,e=iE(e,n),!0),i=new Date(e.getTime()-r),s=new Date(0);return s.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),s.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),s}(e,"America/Costa_Rica");return Pk(t,"d 'de' MMMM 'de' yyyy, h:mm:ss a 'UTC-6'",{locale:Vk})},fE=()=>{const e=new Date;return`GH-${e.getFullYear()}${String(e.getMonth()+1).padStart(2,"0")}${String(e.getDate()).padStart(2,"0")}-${String(e.getHours()).padStart(2,"0")}${String(e.getMinutes()).padStart(2,"0")}${String(e.getSeconds()).padStart(2,"0")}`},pE=(e,t)=>{const n=new Date;if("Pago de membresia"===e)switch(t){case"Dia":n.setDate(n.getDate()+1);break;case"Semana":n.setDate(n.getDate()+7);break;case"Mes":n.setMonth(n.getMonth()+1);break;case"A\xf1o":n.setFullYear(n.getFullYear()+1)}else n.setMonth(n.getMonth()+1);return hE(n)},mE=t=>{let{selectedUser:n,onCancel:r}=t;const[i,s]=(0,e.useState)({cliente:(null===n||void 0===n?void 0:n.nombre)||"",correo:(null===n||void 0===n?void 0:n.correo)||"",fechaEmision:hE(new Date),fechaVencimiento:pE("Pago de articulo","Mes"),motivo:"Pago de articulo",tipoMembresia:"",monto:"",detalle:"",numeroFactura:fE(),uid:(null===n||void 0===n?void 0:n.uid)||""}),o=e=>{const{name:t,value:n}=e.target;s({...i,[t]:n})};return(0,Om.jsxs)("div",{className:"admin-payments-add",children:[(0,Om.jsxs)("div",{className:"header",children:[(0,Om.jsxs)("div",{className:"logo",children:[(0,Om.jsx)("img",{src:T,alt:"Gym Hub Logo",className:"logo-image"}),(0,Om.jsx)("div",{className:"company-name",children:"Gym Hub"}),(0,Om.jsxs)("div",{className:"client-info",children:[(0,Om.jsxs)("p",{className:"invoice-number",children:[(0,Om.jsx)("strong",{children:"Factura No:"})," ",i.numeroFactura]}),(0,Om.jsxs)("p",{className:"client-name",children:[(0,Om.jsx)("strong",{children:"Cliente:"})," ",i.cliente]}),(0,Om.jsxs)("p",{className:"client-email",children:[(0,Om.jsx)("strong",{children:"Correo:"})," ",i.correo]})]})]}),(0,Om.jsxs)("div",{className:"invoice-info",children:[(0,Om.jsxs)("div",{className:"issue-date",children:[(0,Om.jsx)("p",{children:(0,Om.jsx)("strong",{children:"Fecha de Emisi\xf3n"})}),(0,Om.jsx)("p",{children:i.fechaEmision})]}),(0,Om.jsxs)("div",{className:"due-date",children:[(0,Om.jsx)("p",{children:(0,Om.jsx)("strong",{children:"Fecha de Vencimiento"})}),(0,Om.jsx)("p",{children:i.fechaVencimiento})]})]})]}),(0,Om.jsx)("div",{className:"separator"}),(0,Om.jsxs)("form",{className:"form-section-container",onSubmit:async e=>{e.preventDefault();const{motivo:t,tipoMembresia:n,monto:s,detalle:o}=i;if(t&&("Pago de membresia"!==t||n)&&s&&o)try{await(async e=>{try{const t={...e,createdAt:wu()};await vu(uc(jm,"Payments"),t),console.log("Factura agregada exitosamente")}catch(t){console.error("Error al agregar la factura: ",t)}})(i),ng("Factura creada","La factura ha sido creada exitosamente.",tg.SUCCESS),r()}catch(a){ng("Error","Hubo un problema al crear la factura.",tg.ERROR)}else ng("Error","Todos los campos son obligatorios.",tg.ERROR)},children:[(0,Om.jsxs)("div",{className:"form-section",children:[(0,Om.jsxs)("div",{className:"form-section-item",children:[(0,Om.jsx)("label",{className:"label-motivo",htmlFor:"motivo",children:"Motivo"}),(0,Om.jsxs)("select",{id:"motivo",name:"motivo",value:i.motivo,onChange:e=>{const t=e.target.value;let n="";("Pago de articulo"===t||"Otro"===t||"Pago de membresia"===t)&&(n=pE(t,"Mes")),s({...i,motivo:t,tipoMembresia:"Pago de membresia"===t?"Mes":"",fechaVencimiento:n})},className:"select-motivo",children:[(0,Om.jsx)("option",{value:"Pago de articulo",children:"Pago de art\xedculo"}),(0,Om.jsx)("option",{value:"Pago de membresia",children:"Pago de membres\xeda"}),(0,Om.jsx)("option",{value:"Otro",children:"Otro"})]})]}),"Pago de membresia"===i.motivo&&(0,Om.jsxs)("div",{className:"form-section-item-right",children:[(0,Om.jsx)("label",{className:"label-tipoMembresia",htmlFor:"tipoMembresia",children:"Tipo de Membres\xeda"}),(0,Om.jsxs)("select",{id:"tipoMembresia",name:"tipoMembresia",value:i.tipoMembresia,onChange:e=>{const t=e.target.value;s({...i,tipoMembresia:t,fechaVencimiento:pE("Pago de membresia",t)})},className:"select-tipoMembresia",children:[(0,Om.jsx)("option",{value:"Dia",children:"D\xeda"}),(0,Om.jsx)("option",{value:"Semana",children:"Semana"}),(0,Om.jsx)("option",{value:"Mes",children:"Mes"}),(0,Om.jsx)("option",{value:"A\xf1o",children:"A\xf1o"})]})]})]}),(0,Om.jsx)("div",{className:"form-section",children:(0,Om.jsxs)("div",{className:"form-section-item",children:[(0,Om.jsx)("label",{className:"label-monto",htmlFor:"monto",children:"Monto (\u20a1)"}),(0,Om.jsx)("input",{id:"monto",type:"number",name:"monto",value:i.monto,onChange:o,className:"input-monto"})]})}),(0,Om.jsx)("div",{className:"form-section",children:(0,Om.jsxs)("div",{className:"form-section-item",children:[(0,Om.jsx)("label",{className:"label-detalle",htmlFor:"detalle",children:"Detalle"}),(0,Om.jsx)("textarea",{id:"detalle",name:"detalle",value:i.detalle,onChange:o,className:"textarea-detalle"})]})}),(0,Om.jsxs)("div",{className:"button-container",children:[(0,Om.jsx)("button",{type:"button",className:"cancel-button",onClick:r,children:"Cancelar"}),(0,Om.jsx)("button",{type:"submit",className:"submit-button",children:"Facturar"})]})]})]})},gE=t=>{let{selectedUser:n,onCancel:r}=t;const[i,s]=(0,e.useState)([]),[o,a]=(0,e.useState)(null);(0,e.useEffect)((()=>{const e=async()=>{try{const e=await(async e=>{try{const t=Yc(uc(jm,"Payments"),Xc("uid","==",e),eu("createdAt","desc")),n=(await fu(t)).docs.map((e=>({id:e.id,...e.data()})));return n}catch(t){console.error("Error al obtener las facturas del usuario: ",t)}})(n.uid);s(e||[]),e&&e.length>0&&a(e[0])}catch(e){rg("Error","No se pudo obtener el historial de facturas."),s([])}};n&&e()}),[n]);return(0,Om.jsxs)("div",{className:"admin-payments-history-container",children:[(0,Om.jsx)(Fm,{className:"close-icon",onClick:r}),(0,Om.jsxs)("h2",{children:["Historial de Facturas para ",null===n||void 0===n?void 0:n.nombre]}),(0,Om.jsxs)("div",{className:"history-content",children:[(0,Om.jsx)("ul",{className:"facturas-list",children:Array.isArray(i)&&i.map((e=>{return(0,Om.jsxs)("li",{onClick:()=>(e=>{a(e)})(e),className:(null===o||void 0===o?void 0:o.numeroFactura)===e.numeroFactura?"selected":"",children:[(0,Om.jsx)("span",{children:(t=e.createdAt.toDate(),Pk(t,"d 'de' MMMM 'de' yyyy, h:mm:ss a 'UTC-6'",{locale:Vk}))}),(0,Om.jsxs)("span",{className:"factura-id",children:["Factura No: ",e.numeroFactura]})]},e.numeroFactura);var t}))}),o&&(0,Om.jsxs)("div",{className:"factura-details",children:[(0,Om.jsxs)("div",{className:"factura-header",children:[(0,Om.jsxs)("div",{className:"header-left",children:[(0,Om.jsx)("img",{src:T,alt:"Gym Hub Logo",className:"logo-image"}),(0,Om.jsx)("p",{className:"company-name",children:"Gym Hub"}),(0,Om.jsxs)("p",{children:[(0,Om.jsx)("strong",{children:"Factura No:"}),(0,Om.jsx)("br",{})," ",o.numeroFactura]}),(0,Om.jsxs)("p",{children:[(0,Om.jsx)("strong",{children:"Cliente:"}),(0,Om.jsx)("br",{})," ",o.cliente]}),(0,Om.jsxs)("p",{children:[(0,Om.jsx)("strong",{children:"Correo:"}),(0,Om.jsx)("br",{})," ",o.correo]})]}),(0,Om.jsxs)("div",{className:"header-right",children:[(0,Om.jsxs)("p",{children:[(0,Om.jsx)("strong",{children:"Fecha de Emisi\xf3n:"}),(0,Om.jsx)("br",{})," ",o.fechaEmision]}),(0,Om.jsxs)("p",{children:[(0,Om.jsx)("strong",{children:"Fecha de Vencimiento:"}),(0,Om.jsx)("br",{})," ",o.fechaVencimiento]})]})]}),(0,Om.jsx)("hr",{className:"divider"}),(0,Om.jsxs)("div",{className:"factura-body",children:[(0,Om.jsxs)("div",{className:"body-left",children:[(0,Om.jsxs)("p",{children:[(0,Om.jsx)("strong",{children:"Motivo:"})," ",o.motivo]}),(0,Om.jsxs)("p",{children:[(0,Om.jsx)("strong",{children:"Monto:"})," \u20a1",o.monto]}),(0,Om.jsxs)("p",{children:[(0,Om.jsx)("strong",{children:"Detalle:"})," ",o.detalle]})]}),"Pago de membresia"===o.motivo&&(0,Om.jsx)("div",{className:"body-right",children:(0,Om.jsxs)("p",{children:[(0,Om.jsx)("strong",{children:"Tipo de Membres\xeda:"})," ",o.tipoMembresia]})})]}),(0,Om.jsxs)("button",{className:"delete-button",onClick:async()=>{if(o){if((await ig("Confirmar eliminaci\xf3n","\xbfEst\xe1s seguro de que deseas eliminar esta factura? Esta acci\xf3n no se puede deshacer.","S\xed, eliminar","Cancelar")).isConfirmed)try{await(async e=>{try{const t=dc(jm,"Payments",e);await gu(t),console.log(`Factura con ID: ${e} eliminada correctamente.`)}catch(t){console.error("Error al eliminar la factura:",t)}})(o.id),s(i.filter((e=>e.id!==o.id))),a(null),e="Factura eliminada",t="La factura se ha eliminado correctamente.",I().fire({title:e,text:t,icon:tg.SUCCESS,confirmButtonText:"OK",confirmButtonColor:"#28a745"})}catch(n){rg("Error","No se pudo eliminar la factura.")}}var e,t},children:[(0,Om.jsx)(Ng,{className:"trash-icon"})," Eliminar"]})]})]})]})},vE=t=>{let{onClose:n}=t;const[r,i]=(0,e.useState)(""),[s,o]=(0,e.useState)(0),[a,l]=(0,e.useState)(!1);(0,e.useEffect)((()=>{(async()=>{try{const e=await IC();e&&(i(e.message),o(e.daysBefore))}catch(e){I().fire("Error","No se pudo cargar la configuraci\xf3n de la alerta general.","error")}})()}),[]);const c=(0,e.useCallback)((async()=>{if(!r||s<=0)I().fire("Error","El mensaje de alerta y los d\xedas antes del pago no pueden estar vac\xedos o ser negativos.","error");else try{l(!0),await(async(e,t)=>{await pu(dc(jm,"config","generalAlert"),{message:e,daysBefore:t})})(r,s),I().fire("\xc9xito","Alerta general configurada correctamente.","success")}catch(e){I().fire("Error","No se pudo configurar la alerta general.","error")}finally{l(!1)}}),[r,s]);return(0,Om.jsxs)("div",{className:"card p-4 mt-4 general-alert-form",children:[(0,Om.jsx)("h3",{className:"card-title mb-3",children:"Configurar Alerta General"}),(0,Om.jsx)("button",{className:"btn-close",onClick:n}),(0,Om.jsx)("div",{className:"mb-3",children:(0,Om.jsx)("textarea",{className:"form-control",placeholder:"Escribe el mensaje de alerta general...",value:r,onChange:e=>i(e.target.value)})}),(0,Om.jsx)("div",{className:"mb-3",children:(0,Om.jsx)("input",{type:"number",className:"form-control",placeholder:"D\xedas antes del pago",value:s,onChange:e=>o(Number(e.target.value))})}),(0,Om.jsx)("button",{className:"btn btn-success",onClick:c,disabled:a,children:a?"Configurando...":"Configurar Alerta General"})]})},yE=Lm("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),bE=Lm("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),wE=Lm("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),xE=()=>{const[t,n]=(0,e.useState)(null),[r,i]=(0,e.useState)(""),[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(!1),[d,h]=(0,e.useState)(!1),[f,p]=(0,e.useState)(!1),[g,v]=(0,e.useState)(0),[y,b]=(0,e.useState)(0),[w,x]=(0,e.useState)(0),_=m((e=>e.user)),[C,k]=(0,e.useState)(!0);(0,e.useEffect)((()=>{(async()=>{try{if(_&&_.userId){const e=await Hm(_.userId);n(e)}}catch(e){console.error("Error al cargar la informaci\xf3n del usuario:",e)}finally{k(!1)}})()}),[_]);const E=e=>{switch(e){case"current":u(!c);break;case"new":h(!d);break;case"confirm":p(!f)}},S=(e,t,n)=>{const{value:r}=e.target;t(r),n(N(r))},N=e=>{let t=0;return e.length>=8&&t++,/[A-Z]/.test(e)&&t++,/[a-z]/.test(e)&&t++,/\d/.test(e)&&t++,/[^A-Za-z0-9]/.test(e)&&t++,t},T=e=>{switch(e){case 0:case 1:case 2:return"D\xe9bil";case 3:return"Medio";case 4:return"Fuerte";case 5:return"Muy fuerte";default:return""}},j=s&&a&&s===a;return C?(0,Om.jsx)("div",{className:"profile-password",children:"Cargando..."}):(0,Om.jsxs)("form",{className:"change-password-form",onSubmit:async e=>{if(e.preventDefault(),s!==r)if(j)try{console.log("Correo del usuario por redux: ",t.correo),console.log("clave actual: ",r),console.log("clave nueva: ",s),await Fg(t.correo,r,s),I().fire({icon:"success",title:"Cambio exitoso",text:"La contrase\xf1a ha sido cambiada correctamente."})}catch(n){I().fire({icon:"error",title:"Error",text:`No se pudo cambiar la contrase\xf1a: ${n.message}`})}else I().fire({icon:"error",title:"Contrase\xf1a no coincide",text:"La nueva contrase\xf1a y la confirmaci\xf3n no coinciden."});else I().fire({icon:"error",title:"Contrase\xf1a inv\xe1lida",text:"La nueva contrase\xf1a no puede ser la misma que la actual."})},children:[(0,Om.jsxs)("div",{className:"password-group",children:[(0,Om.jsx)("label",{htmlFor:"currentPassword",className:"password-label",children:"Contrase\xf1a actual"}),(0,Om.jsxs)("div",{className:"password-input-container",children:[(0,Om.jsx)("input",{type:c?"text":"password",id:"currentPassword",name:"currentPassword",value:r,onChange:e=>S(e,i,v),className:"password-input"}),(0,Om.jsx)("button",{type:"button",className:"password-toggle-button",onClick:()=>E("current"),children:c?(0,Om.jsx)(Km,{}):(0,Om.jsx)(Ym,{})})]}),(0,Om.jsx)("div",{className:`password-strength-bar level-${g}`,children:(0,Om.jsx)("div",{className:"password-strength-level",style:{width:g/5*100+"%"}})}),(0,Om.jsx)("div",{className:`password-strength-text level-${g}`,children:T(g)})]}),(0,Om.jsxs)("div",{className:"password-group",children:[(0,Om.jsx)("label",{htmlFor:"newPassword",className:"password-label",children:"Nueva contrase\xf1a"}),(0,Om.jsxs)("div",{className:"password-input-container",children:[(0,Om.jsx)("input",{type:d?"text":"password",id:"newPassword",name:"newPassword",value:s,onChange:e=>S(e,o,b),className:"password-input"}),(0,Om.jsx)("button",{type:"button",className:"password-toggle-button",onClick:()=>E("new"),children:d?(0,Om.jsx)(Km,{}):(0,Om.jsx)(Ym,{})}),s&&a&&(j?(0,Om.jsx)(bE,{color:"green",className:"password-match-icon"}):(0,Om.jsx)(wE,{color:"red",className:"password-match-icon"}))]}),(0,Om.jsx)("div",{className:`password-strength-bar level-${y}`,children:(0,Om.jsx)("div",{className:"password-strength-level",style:{width:y/5*100+"%"}})}),(0,Om.jsx)("div",{className:`password-strength-text level-${y}`,children:T(y)})]}),(0,Om.jsxs)("div",{className:"password-group",children:[(0,Om.jsx)("label",{htmlFor:"confirmPassword",className:"password-label",children:"Confirmar nueva contrase\xf1a"}),(0,Om.jsxs)("div",{className:"password-input-container",children:[(0,Om.jsx)("input",{type:f?"text":"password",id:"confirmPassword",name:"confirmPassword",value:a,onChange:e=>S(e,l,x),className:"password-input"}),(0,Om.jsx)("button",{type:"button",className:"password-toggle-button",onClick:()=>E("confirm"),children:f?(0,Om.jsx)(Km,{}):(0,Om.jsx)(Ym,{})}),s&&a&&(j?(0,Om.jsx)(bE,{color:"green",className:"password-match-icon"}):(0,Om.jsx)(wE,{color:"red",className:"password-match-icon"}))]}),(0,Om.jsx)("div",{className:`password-strength-bar level-${w}`,children:(0,Om.jsx)("div",{className:"password-strength-level",style:{width:w/5*100+"%"}})}),(0,Om.jsx)("div",{className:`password-strength-text level-${w}`,children:T(w)})]}),(0,Om.jsx)("button",{type:"submit",className:"submit-button",children:"Guardar"})]})},_E=t=>{let{user:n,onCancel:r}=t;const[i,s]=(0,e.useState)({usuario:"",nombre:"",edad:"",genero:"",estatura:"",peso:"",padecimientos:"",telefono:""});(0,e.useEffect)((()=>{n&&s({usuario:n.usuario||"",nombre:n.nombre||"",edad:n.edad||"",genero:n.genero||"",estatura:n.estatura||"",peso:n.peso||"",padecimientos:n.padecimientos||"",telefono:n.telefono||""})}),[n]);const o=e=>{const{name:t,value:n}=e.target;s((e=>({...e,[t]:n})))};return(0,Om.jsxs)("div",{className:"editprofile-user-container",children:[(0,Om.jsx)("div",{className:"editprofile-user-header",children:(0,Om.jsx)("h2",{children:"Editar perfil"})}),(0,Om.jsxs)("form",{className:"editprofile-user-form",onSubmit:async e=>{if(e.preventDefault(),(()=>{const e=["usuario","nombre","edad","genero","estatura","peso","padecimientos","telefono"];for(let t of e)if(void 0===i[t]||""===i[t].trim())return!1;return""!==i.genero&&"Seleccione"!==i.genero&&""!==i.telefono})())try{await Mg(n.id,i),I().fire({icon:"success",title:"Usuario actualizado",text:"Los datos del usuario han sido actualizados exitosamente.",confirmButtonText:"Ok"}),r()}catch(t){console.error("Error al actualizar el usuario:",t),I().fire({icon:"error",title:"Error",text:"Hubo un error al actualizar el usuario.",confirmButtonText:"Entendido"})}else I().fire({icon:"warning",title:"Campos incompletos",text:"Por favor, complete todos los campos correctamente.",confirmButtonText:"Entendido"})},children:[(0,Om.jsx)("button",{type:"button",className:"editprofile-user-close-button",onClick:()=>{I().fire({title:"\xbfEst\xe1s seguro?",text:"Los cambios no guardados se perder\xe1n.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, cerrar",cancelButtonText:"Cancelar"}).then((e=>{e.isConfirmed&&r()}))},children:(0,Om.jsx)(Fm,{})}),(0,Om.jsxs)("div",{className:"colum-one-editprofile",children:[(0,Om.jsxs)("div",{className:"register-user-group-editprofile",children:[(0,Om.jsx)("label",{htmlFor:"usuario",className:"register-label-usuario-editprofile",children:"Usuario"}),(0,Om.jsx)("input",{type:"text",id:"usuario",name:"usuario",value:i.usuario,onChange:o,className:"register-input-usuario-editprofile"})]}),(0,Om.jsxs)("div",{className:"register-name-group-editprofile",children:[(0,Om.jsx)("label",{htmlFor:"nombre",className:"register-label-nombre-editprofile",children:"Nombre completo"}),(0,Om.jsx)("input",{type:"text",id:"nombre",name:"nombre",value:i.nombre,onChange:o,className:"register-input-nombre-editprofile"})]}),(0,Om.jsxs)("div",{className:"register-genero-group-editprofile",children:[(0,Om.jsx)("label",{htmlFor:"genero",className:"register-label-genero-editprofile",children:"G\xe9nero"}),(0,Om.jsxs)("select",{id:"genero",name:"genero",value:i.genero,onChange:o,className:"register-input-genero-editprofile",children:[(0,Om.jsx)("option",{value:"",children:"Seleccione"}),(0,Om.jsx)("option",{value:"Hombre",children:"Hombre"}),(0,Om.jsx)("option",{value:"Mujer",children:"Mujer"}),(0,Om.jsx)("option",{value:"Otro",children:"Otro"})]})]})]}),(0,Om.jsxs)("div",{className:"colum-two-editprofile",children:[(0,Om.jsxs)("div",{className:"register-edad-group-editprofile",children:[(0,Om.jsx)("label",{htmlFor:"edad",className:"register-label-edad-editprofile",children:"Edad"}),(0,Om.jsx)("input",{type:"number",id:"edad",name:"edad",value:i.edad,onChange:o,className:"register-input-edad-editprofile",min:"0"})]}),(0,Om.jsxs)("div",{className:"register-peso-group-editprofile",children:[(0,Om.jsx)("label",{htmlFor:"peso",className:"register-label-peso-editprofile",children:"Peso (kg)"}),(0,Om.jsx)("input",{type:"number",id:"peso",name:"peso",value:i.peso,onChange:o,className:"register-input-peso-editprofile",step:"0.1",min:"0"})]}),(0,Om.jsxs)("div",{className:"register-estatura-group-editprofile",children:[(0,Om.jsx)("label",{htmlFor:"estatura",className:"register-label-estatura-editprofile",children:"Estatura (metros)"}),(0,Om.jsx)("input",{type:"number",id:"estatura",name:"estatura",value:i.estatura,onChange:o,className:"register-input-estatura-editprofile",step:"0.01",min:"0"})]})]}),(0,Om.jsxs)("div",{className:"colum-three-editprofile",children:[(0,Om.jsxs)("div",{className:"register-telefono-group-editprofile",children:[(0,Om.jsx)("label",{htmlFor:"telefono",className:"register-label-telefono-editprofile",children:"Tel\xe9fono"}),(0,Om.jsx)(Gm(),{country:"cr",value:i.telefono,onChange:e=>{s((t=>({...t,telefono:e})))},inputProps:{name:"telefono",required:!0,className:"register-input-telefono-editprofile"}})]}),(0,Om.jsxs)("div",{className:"register-padecimientos-group-editprofile",children:[(0,Om.jsx)("label",{htmlFor:"padecimientos",className:"register-label-padecimientos-editprofile",children:"Padecimientos"}),(0,Om.jsx)("textarea",{id:"padecimientos",name:"padecimientos",value:i.padecimientos,onChange:o,className:"register-input-padecimientos-editprofile"})]})]}),(0,Om.jsx)("div",{className:"register-button-register-container-editprofile",children:(0,Om.jsx)("button",{type:"submit",className:"register-button-register-editprofile",children:"Actualizar"})})]})]})},CE=()=>{const[t,n]=(0,e.useState)(null),[r,i]=(0,e.useState)(!0),[s,o]=(0,e.useState)(!1),[a,l]=(0,e.useState)(!1),c=m((e=>e.user));(0,e.useEffect)((()=>{(async()=>{try{if(c&&c.userId){const e=await Hm(c.userId);n(e)}}catch(e){console.error("Error al cargar la informaci\xf3n del usuario:",e)}finally{i(!1)}})()}),[c]);const u=()=>{l(!1)};return r?(0,Om.jsx)("div",{className:"profile-container",children:"Cargando perfil..."}):t?a?(0,Om.jsx)(_E,{user:t,onCancel:u}):(0,Om.jsxs)("div",{className:"profile-container",children:[(0,Om.jsx)("h1",{className:"profile-title",children:"Perfil del Usuario"}),(0,Om.jsxs)("div",{className:"settings-section",children:[(0,Om.jsx)("h2",{className:"settings-title",children:"Ajustes"}),(0,Om.jsxs)("div",{className:"edit-profile",onClick:()=>{l(!0)},style:{cursor:"pointer"},children:[(0,Om.jsx)(Sg,{className:"edit-icon"}),(0,Om.jsx)("span",{className:"edit-text",children:"Editar perfil"})]}),(0,Om.jsxs)("div",{className:"change-password",onClick:()=>{o(!s)},style:{cursor:"pointer"},children:[(0,Om.jsx)(yE,{className:"lock-icon"}),(0,Om.jsx)("span",{className:"change-text",children:"Cambio de contrase\xf1a"})]})]}),s&&(0,Om.jsx)(xE,{}),(0,Om.jsxs)("div",{className:"info-section",children:[(0,Om.jsx)("h2",{className:"info-title",children:"Informaci\xf3n General"}),(0,Om.jsxs)("div",{className:"profile-info",children:[(0,Om.jsxs)("div",{className:"profile-column-one",children:[(0,Om.jsxs)("p",{children:[(0,Om.jsx)("strong",{children:"Usuario:"})," ",t.usuario]}),(0,Om.jsxs)("p",{children:[(0,Om.jsx)("strong",{children:"Nombre:"})," ",t.nombre]}),(0,Om.jsxs)("p",{children:[(0,Om.jsx)("strong",{children:"Correo:"})," ",t.correo]}),(0,Om.jsxs)("p",{children:[(0,Om.jsx)("strong",{children:"Padecimientos:"})," ",t.padecimientos]}),(0,Om.jsxs)("p",{children:[(0,Om.jsx)("strong",{children:"Tel\xe9fono:"})," ",t.telefono]})]}),(0,Om.jsxs)("div",{className:"profile-column-two",children:[(0,Om.jsxs)("p",{children:[(0,Om.jsx)("strong",{children:"Edad:"})," ",t.edad]}),(0,Om.jsxs)("p",{children:[(0,Om.jsx)("strong",{children:"Estatura:"})," ",t.estatura," m"]}),(0,Om.jsxs)("p",{children:[(0,Om.jsx)("strong",{children:"Peso:"})," ",t.peso," kg"]}),(0,Om.jsxs)("p",{children:[(0,Om.jsx)("strong",{children:"G\xe9nero:"})," ",t.genero]}),(0,Om.jsxs)("p",{children:[(0,Om.jsx)("strong",{children:"Rol:"})," ",t.rol]})]})]})]})]}):(0,Om.jsx)("div",{className:"profile-container",children:"No se encontr\xf3 la informaci\xf3n del usuario."})},kE=t=>{let{setIsAuthenticating:n}=t;const[r,i]=(0,e.useState)("userView"),[s,o]=(0,e.useState)(null),[a,l]=(0,e.useState)(null),[c,u]=(0,e.useState)(null),[d,h]=(0,e.useState)(null),[f,p]=(0,e.useState)(null),[m,g]=(0,e.useState)(null),v=()=>{i("userView")},y=()=>{i("inventoryView")},b=()=>{i("suplementosView")},w=()=>{i("rewardsView")},x=()=>{i("paymentsView")},_=()=>{i("expenseView")},C=()=>{i("alertView")};return(0,Om.jsxs)(Om.Fragment,{children:[(0,Om.jsx)(eg,{onShowInventory:y,onShowUserView:v,onShowExpenseView:_,onShowSuplementos:b,onShowRewards:w,onShowPayments:()=>{i("paymentsView")},onShowSales:()=>{i("salesView")},onShowProfile:()=>{i("profileView")},onShowGastosStd:()=>{i("gastoStad")},onShowPagosStd:()=>{i("pagoStad")},onShowAlertView:C}),"paymentsView"===r&&(0,Om.jsx)(OC,{onShowAddPayment:e=>{o(e),i("addPayment")},onShowPaymentHistory:e=>{o(e),i("paymentHistory")}}),"addPayment"===r&&(0,Om.jsx)(mE,{selectedUser:s,onCancel:x}),"paymentHistory"===r&&(0,Om.jsx)(gE,{selectedUser:s,onCancel:x}),"userView"===r&&(0,Om.jsx)(Og,{onShowRegisterUser:()=>{i("registerUser")},onShowUpdateUser:e=>{o(e),i("updateUser")}}),"registerUser"===r&&(0,Om.jsx)(Dg,{onClose:v,setIsAuthenticating:n}),"updateUser"===r&&(0,Om.jsx)(zg,{user:s,onClose:v}),"inventoryView"===r&&(0,Om.jsx)(qg,{onShowRegisterInventory:e=>{l(e),i("registerInventory")},onShowEditInventory:(e,t)=>{l(e),u(t),i("editInventory")}}),"registerInventory"===r&&(0,Om.jsx)(Wg,{gimnasioId:a,onClose:y}),"editInventory"===r&&(0,Om.jsx)(Gg,{gimnasioId:a,equipoId:c,onClose:y}),"expenseView"===r&&(0,Om.jsx)(Kg,{onShowRegisterExpense:()=>{i("registerExpense")},onShowEditExpense:e=>{h(e),i("editExpense")}}),"registerExpense"===r&&(0,Om.jsx)(Yg,{onClose:_}),"editExpense"===r&&(0,Om.jsx)(Qg,{gastoId:d,onClose:_}),"suplementosView"===r&&(0,Om.jsx)(Xg,{onShowAddSuplements:()=>{i("addSuplementsView")},onShowEditSuplements:e=>{p(e),i("editSuplementsView")}}),"addSuplementsView"===r&&(0,Om.jsx)(Jg,{onClose:b}),"editSuplementsView"===r&&(0,Om.jsx)(Zg,{suplemento:f,onClose:b}),"rewardsView"===r&&(0,Om.jsx)(ev,{onShowAddRewards:()=>{i("addRewardsView")},onShowEditRewards:e=>{g(e),i("editRewardsView")}}),"addRewardsView"===r&&(0,Om.jsx)(tv,{onClose:w}),"editRewardsView"===r&&(0,Om.jsx)(nv,{reward:m,onClose:w}),"salesView"===r&&(0,Om.jsx)(uv,{}),"alertView"===r&&(0,Om.jsx)(AC,{onShowGeneralAlertConfig:()=>{i("generalAlert")}}),"generalAlert"===r&&(0,Om.jsx)(vE,{onClose:C}),"profileView"===r&&(0,Om.jsx)(CE,{}),"gastoStad"===r&&(0,Om.jsx)(NC,{}),"pagoStad"===r&&(0,Om.jsx)(TC,{})]})},EE=Vf(Tm),SE=t=>{let{onShowSuplements:n,onShowRewards:r,onShowSales:i,onShowPlan:s,onShowProfile:o,onShowAlerts:a}=t;const[l,c]=(0,e.useState)(!1);return(0,Om.jsx)("nav",{class:"navbar navbar-expand-lg bg-dark border-bottom border-body","data-bs-theme":"dark",children:(0,Om.jsxs)("div",{class:"container-fluid",children:[(0,Om.jsxs)("a",{class:"navbar-brand",href:"#home",children:[(0,Om.jsx)("img",{src:T,alt:"Logo",class:"d-inline-block align-text-top"}),"Gymhub"]}),(0,Om.jsx)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,Om.jsx)("span",{class:"navbar-toggler-icon"})}),(0,Om.jsx)("div",{className:"center",children:(0,Om.jsx)("div",{class:"collapse navbar-collapse",id:"navbarSupportedContent",children:(0,Om.jsxs)("ul",{class:"navbar-nav me-auto mb-2 mb-lg-0",children:[(0,Om.jsx)("li",{class:"nav-item",children:(0,Om.jsx)("a",{class:"nav-link","aria-current":"page",href:"#home",children:"Inicio"})}),(0,Om.jsx)("li",{class:"nav-item",children:(0,Om.jsx)("a",{class:"nav-link",href:"#suplementos",onClick:n,children:"Suplementos"})}),(0,Om.jsx)("li",{class:"nav-item",children:(0,Om.jsx)("a",{class:"nav-link",href:"#recompensas",onClick:r,children:"Recompensas"})}),(0,Om.jsx)("li",{class:"nav-item",children:(0,Om.jsx)("a",{class:"nav-link",href:"#ventas",onClick:i,children:"Ventas"})}),(0,Om.jsx)("li",{class:"nav-item",children:(0,Om.jsx)("a",{class:"nav-link",href:"#planes",onClick:s,children:"Planes"})}),(0,Om.jsx)("li",{class:"nav-item",children:(0,Om.jsx)("a",{class:"nav-link",href:"#alertas",onClick:a,children:"Alertas"})})]})})}),(0,Om.jsxs)("div",{class:"dropdown",children:[(0,Om.jsx)("button",{class:"btn btn-dark dropdown-toggle",type:"button",id:"navbarDropdown","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,Om.jsx)(Jm,{size:24})}),(0,Om.jsxs)("ul",{class:"dropdown-menu dropdown-menu-end",children:[(0,Om.jsx)("li",{children:(0,Om.jsx)("a",{class:"dropdown-item",href:"#perfil",onClick:o,children:"Perfil"})}),(0,Om.jsx)("li",{children:(0,Om.jsx)("a",{class:"dropdown-item",href:"#cerrar-sesi\xf3n",onClick:()=>{EE.signOut().then((()=>{console.log("Sesi\xf3n cerrada")})).catch((e=>{console.log("Error al cerrar sesi\xf3n",e)}))},children:"Cerrar sesi\xf3n"})})]})]})]})})},NE=()=>{const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)(!0),[s,o]=(0,e.useState)(0),[a,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)(""),[d,h]=(0,e.useState)(""),f=m((e=>e.user)),p=()=>{l(!a),a&&v()},g=async e=>{try{const t=await qm(e);n(t)}catch(t){console.error("Error al obtener los productos:",t)}finally{i(!1)}};(0,e.useEffect)((()=>{g(""),v()}),[f]);const v=async()=>{const e=await Lg(f.userId);o(e)};(0,e.useEffect)((()=>{g("")}),[]),(0,e.useEffect)((()=>{g(d)}),[d]);const y=()=>{u(""),h(""),g("")},b=t.filter((e=>e.name.toLowerCase().includes(c.toLowerCase()))).sort(((e,t)=>"Precio mayor"===d?t.price-e.price:"Precio menor"===d?e.price-t.price:0));return r?(0,Om.jsx)("p",{children:"Cargando productos..."}):(0,Om.jsxs)("div",{className:"sales-catalog-container",children:[a?(0,Om.jsx)(cv,{onClose:p}):(0,Om.jsxs)(Om.Fragment,{children:[(0,Om.jsx)("h1",{className:"sales-title-products",children:"Cat\xe1logo de Productos"}),(0,Om.jsx)("div",{className:"sales-search-filter-wrapper",children:(0,Om.jsxs)("div",{className:"sales-search-filter-container",children:[(0,Om.jsxs)("div",{className:"sales-search-container",children:[(0,Om.jsx)(Cg,{className:"sales-reload-icon",onClick:y}),(0,Om.jsx)("input",{type:"text",className:"sales-search-input",placeholder:"Buscar producto...",value:c,onChange:e=>u(e.target.value)}),(0,Om.jsx)(kg,{className:"sales-search-icon"})]}),(0,Om.jsxs)("div",{className:"sales-filter-container",children:[(0,Om.jsx)("label",{htmlFor:"filter-select",className:"sales-filter-label",children:"Ordenar por:"}),(0,Om.jsxs)("select",{id:"filter-select",className:"sales-filter-select",value:d,onChange:e=>h(e.target.value),children:[(0,Om.jsx)("option",{value:"",children:"Aleatorio"}),(0,Om.jsx)("option",{value:"Precio mayor",children:"Precio Mayor"}),(0,Om.jsx)("option",{value:"Precio menor",children:"Precio Menor"})]})]})]})}),(0,Om.jsx)("div",{className:"sales-grid-container",children:b.map((e=>(0,Om.jsxs)("div",{className:"sales-product-card",children:[(0,Om.jsx)("img",{src:e.imageID,alt:e.name}),(0,Om.jsx)("h2",{children:e.name}),(0,Om.jsx)("p",{children:e.description}),(0,Om.jsxs)("p",{children:["Precio: \u20a1",e.price]}),(0,Om.jsxs)("p",{children:["Cantidad disponible: ",e.quantity]}),(0,Om.jsxs)("p",{children:["Estado: ",e.state]}),(0,Om.jsx)("div",{className:"sales-product-actions",children:(0,Om.jsx)(sv,{className:"sales-icono-comprar",color:"green",size:24,onClick:async()=>{"0"===e.quantity?I().fire({title:"Producto agotado",text:"Este producto no est\xe1 disponible.",icon:"warning"}):(await Rg(e.id,f.userId),y(),await v())}})})]},e.id)))})]}),!a&&(0,Om.jsx)(lv,{contador:s,onClick:p})]})};const TE=function(){const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)(""),[s,o]=(0,e.useState)(!1),[a,l]=(0,e.useState)(null),[c,u]=(0,e.useState)(1),[d,h]=(0,e.useState)(1),f=m((e=>e.user.username));(0,e.useEffect)((()=>(document.body.style.backgroundImage="none",document.body.style.backgroundColor="#f1f3f5",()=>{document.body.style.backgroundImage="",document.body.style.backgroundColor=""})),[]),(0,e.useEffect)((()=>{h(Math.ceil(t.length/5))}),[t]),(0,e.useEffect)((()=>{(async()=>{try{const e=await(async e=>{try{const t=Yc(uc(jm,"plans"),Xc("usuario","==",e));return(await fu(t)).docs.map((e=>({id:e.id,...e.data(),estado:e.data().estado||!1,fechaCreacion:e.data().fechaCreacion||(new Date).toISOString()})))}catch(r){throw console.error("Error al obtener los planes: ",r),new Error("No se pudo obtener los planes.")}})(f);n(e)}catch(r){console.error("Error al obtener los planes: ",r),i("No se pudo obtener los planes.")}})()}),[f]);const p=()=>{o(!1),l(null)},g=5*c,v=g-5,y=t.slice(v,g),b=e=>{e>0&&e<=d&&u(e)};return(0,Om.jsx)("div",{className:"contenedor-princ",children:s||a?(0,Om.jsx)(Om.Fragment,{children:(0,Om.jsx)("button",{className:"button-back",onClick:p,children:"Volver a la b\xfasqueda"})}):(0,Om.jsxs)(Om.Fragment,{children:[(0,Om.jsx)("h1",{className:"title",children:"Planes de entrenamiento"}),r&&(0,Om.jsx)("p",{className:"error-message",children:r}),t.length>0&&(0,Om.jsxs)("div",{className:"table-cont",children:[(0,Om.jsxs)("table",{className:"table-pln",children:[(0,Om.jsx)("thead",{children:(0,Om.jsxs)("tr",{children:[(0,Om.jsx)("th",{children:"Usuario"}),(0,Om.jsx)("th",{children:"Nombre de rutina"}),(0,Om.jsx)("th",{children:"Estado"}),(0,Om.jsx)("th",{children:"Fecha de creaci\xf3n"}),(0,Om.jsx)("th",{children:"Ver rutina"})]})}),(0,Om.jsx)("tbody",{children:y.map((e=>(0,Om.jsxs)("tr",{children:[(0,Om.jsx)("td",{children:e.usuario}),(0,Om.jsx)("td",{children:e.nombre||"Rutina sin nombre"}),(0,Om.jsx)("td",{children:e.estado?"Activa":"Inactiva"}),(0,Om.jsx)("td",{children:new Date(e.fechaCreacion).toLocaleDateString()}),(0,Om.jsx)("td",{children:(0,Om.jsx)("button",{className:"aux-button",onClick:()=>(e=>{const t=`\n      <table style="width: 100%; border-collapse: collapse;">\n        <thead>\n          <tr style="background-color: #71b112; color: #fff">\n            <th style="border: 1.3px solid #ddd; padding: 8px;">D\xeda</th>\n            <th style="border: 1.3px solid #ddd; padding: 8px;">Ejercicio</th>\n            <th style="border: 1.3px solid #ddd; padding: 8px;">Repeticiones</th>\n            <th style="border: 1.3px solid #ddd; padding: 8px;">Series</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado","Domingo"].map((t=>`\n            <tr>\n              <td style="border: 1.3px solid #ddd; padding: 8px;">${t}</td>\n              <td style="border: 1.3px solid #ddd; padding: 8px;">\n                ${e.rutina[t]?e.rutina[t].map((e=>`\n                  <div>${Object.keys(e)[0]}</div>\n                `)).join(""):"Sin ejercicio"}\n              </td>\n              <td style="border: 1.3px solid #ddd; padding: 8px;">\n                ${e.rutina[t]?e.rutina[t].map((e=>`\n                  <div>${e[Object.keys(e)[0]].Repeticiones||"N/A"}</div>\n                `)).join(""):"N/A"}\n              </td>\n              <td style="border: 1.3px solid #ddd; padding: 8px;">\n                ${e.rutina[t]?e.rutina[t].map((e=>`\n                  <div>${e[Object.keys(e)[0]].Series||"N/A"}</div>\n                `)).join(""):"N/A"}\n              </td>\n            </tr>\n          `)).join("")}\n        </tbody>\n        <tfoot>\n          <tr style="background-color: #f1f1f1;">\n            <td style="border: 1.3px solid #ddd; padding: 8px;" colspan="4">\n              <strong>Estado:</strong> ${e.estado?"Activa":"Inactiva"} <br>\n              <strong>Fecha de creaci\xf3n:</strong> ${new Date(e.fechaCreacion).toLocaleDateString()}\n            </td>\n          </tr>\n        </tfoot>\n      </table>\n    `;I().fire({title:"Informaci\xf3n de la rutina",html:t,confirmButtonText:"Cerrar",width:"90%",padding:"2em",background:"#fff",customClass:{container:"swal2-container",title:"swal2-title",content:"swal2-content",confirmButton:"swal2-confirm"}})})(e),children:(0,Om.jsx)(Eg,{size:28,color:"#007BFF"})})})]},e.id)))})]}),(0,Om.jsxs)("div",{className:"pgn-control",children:[(0,Om.jsx)("button",{className:"pagination-btn",onClick:()=>b(1),disabled:1===c,children:(0,Om.jsx)(Tg,{size:20})}),(0,Om.jsx)("button",{className:"pagination-btn",onClick:()=>b(c-1),disabled:1===c,children:(0,Om.jsx)(jg,{size:20})}),(0,Om.jsxs)("span",{children:["P\xe1gina ",c," de ",d]}),(0,Om.jsx)("button",{className:"pagination-btn",onClick:()=>b(c+1),disabled:c===d,children:(0,Om.jsx)(Ig,{size:20})}),(0,Om.jsx)("button",{className:"pagination-btn",onClick:()=>b(d),disabled:c===d,children:(0,Om.jsx)(Ag,{size:20})})]})]})]})})},jE=()=>{const[t,n]=(0,e.useState)([]),[r,i]=(0,e.useState)(!1),s=m((e=>e.user.userId));(0,e.useEffect)((()=>{(async()=>{try{i(!0);const e=s,t=await(async e=>{try{const t=Yc(uc(jm,"alerts"),Xc("clientId","==",e));return(await fu(t)).docs.map((e=>({id:e.id,...e.data()})))}catch(t){return console.error("Error getting alerts: ",t),[]}})(e);n(t)}catch(e){I().fire("Error","No se pudo cargar las alertas.","error")}finally{i(!1)}})()}),[]);const o=(0,e.useCallback)((async e=>{try{await(async e=>{await gu(dc(jm,"alerts",e))})(e),n((t=>t.filter((t=>t.id!==e)))),I().fire("\xc9xito","Alerta eliminada correctamente.","success")}catch(t){I().fire("Error","No se pudo eliminar la alerta.","error")}}),[]),a=e=>{const t=new Date(e),n=new Date,r=Math.abs(n-t),i=Math.floor(r/6e4),s=Math.floor(i/60),o=Math.floor(s/24);return o>0?`${o} d\xeda${o>1?"s":""} atr\xe1s`:s>0?`${s} hora${s>1?"s":""} atr\xe1s`:`${i} minuto${i>1?"s":""} atr\xe1s`};return(0,Om.jsxs)("div",{className:"container mt-4 client-alert-view",children:[(0,Om.jsx)("h2",{className:"mb-4",children:"Alertas de Pagos"}),(0,Om.jsx)("div",{className:"table-responsive",children:(0,Om.jsxs)("table",{className:"table table-bordered table-hover",children:[(0,Om.jsx)("thead",{className:"table-dark",children:(0,Om.jsxs)("tr",{children:[(0,Om.jsx)("th",{scope:"col",children:"Mensaje"}),(0,Om.jsx)("th",{scope:"col",children:"Tiempo desde Env\xedo"}),(0,Om.jsx)("th",{scope:"col",children:"Acciones"})]})}),(0,Om.jsx)("tbody",{children:t.length>0?t.map((e=>(0,Om.jsxs)("tr",{children:[(0,Om.jsx)("td",{children:e.message}),(0,Om.jsx)("td",{children:a(e.scheduleDate)}),(0,Om.jsx)("td",{children:(0,Om.jsx)("button",{className:"btn btn-danger",onClick:()=>o(e.id),children:"Eliminar"})})]},e.id))):(0,Om.jsx)("tr",{children:(0,Om.jsx)("td",{colSpan:"3",className:"text-center",children:"No hay alertas disponibles."})})})]})})]})},IE=()=>{const[t,n]=(0,e.useState)("userView");return(0,Om.jsxs)(Om.Fragment,{children:[(0,Om.jsx)(SE,{onShowSuplements:()=>{n("suplementosView")},onShowRewards:()=>{n("rewardsView")},onShowSales:()=>{n("salesView")},onShowPlan:()=>{n("planView")},onShowProfile:()=>{n("profileView")},onShowAlerts:()=>{n("alertsView")}}),"suplementosView"===t&&(0,Om.jsx)(Xg,{role:"cliente"}),"rewardsView"===t&&(0,Om.jsx)(ev,{role:"client"}),"salesView"===t&&(0,Om.jsx)(NE,{}),"planView"===t&&(0,Om.jsx)(TE,{}),"alertsView"===t&&(0,Om.jsx)(jE,{}),"profileView"===t&&(0,Om.jsx)(CE,{})]})},AE=Vf(Tm),OE=t=>{let{onShowProfile:n,onShowSuplements:r,onShowPlans:i,onShowSales:s,onShowInventory:o}=t;const[a,l]=(0,e.useState)(!1);return(0,Om.jsx)("div",{children:(0,Om.jsx)("nav",{class:"navbar navbar-expand-lg bg-dark border-bottom border-body","data-bs-theme":"dark",children:(0,Om.jsxs)("div",{class:"container-fluid",children:[(0,Om.jsxs)("a",{class:"navbar-brand",href:"#home",children:[(0,Om.jsx)("img",{src:T,alt:"Logo",class:"d-inline-block align-text-top"}),"Gymhub"]}),(0,Om.jsx)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,Om.jsx)("span",{class:"navbar-toggler-icon"})}),(0,Om.jsx)("div",{className:"center",children:(0,Om.jsx)("div",{class:"collapse navbar-collapse",id:"navbarSupportedContent",children:(0,Om.jsxs)("ul",{class:"navbar-nav me-auto mb-2 mb-lg-0",children:[(0,Om.jsx)("li",{class:"nav-item",children:(0,Om.jsx)("a",{class:"nav-link","aria-current":"page",href:"#home",children:"Inicio"})}),(0,Om.jsx)("li",{class:"nav-item",children:(0,Om.jsx)("a",{class:"nav-link",href:"#planes",onClick:i,children:"Planes"})}),(0,Om.jsx)("li",{class:"nav-item",children:(0,Om.jsx)("a",{class:"nav-link",href:"#suplementos",onClick:r,children:"Suplementos"})}),(0,Om.jsx)("li",{class:"nav-item",children:(0,Om.jsx)("a",{class:"nav-link",href:"#inventario",onClick:o,children:"Inventario"})}),(0,Om.jsx)("li",{class:"nav-item",children:(0,Om.jsx)("a",{class:"nav-link",href:"#ventas",onClick:s,children:"Ventas"})})]})})}),(0,Om.jsxs)("div",{class:"dropdown",children:[(0,Om.jsx)("button",{class:"btn btn-dark dropdown-toggle",type:"button",id:"navbarDropdown","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,Om.jsx)(Jm,{size:24})}),(0,Om.jsxs)("ul",{class:"dropdown-menu dropdown-menu-end",children:[(0,Om.jsx)("li",{children:(0,Om.jsx)("a",{class:"dropdown-item",href:"#perfil",onClick:n,children:"Perfil"})}),(0,Om.jsx)("li",{children:(0,Om.jsx)("a",{class:"dropdown-item",href:"#cerrar-sesi\xf3n",onClick:()=>{AE.signOut().then((()=>{console.log("Sesi\xf3n cerrada")})).catch((e=>{console.log("Error al cerrar sesi\xf3n",e)}))},children:"Cerrar sesi\xf3n"})})]})]})]})})})};const PE=function(t){let{onClose:n}=t;const r=["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado","Domingo"],[i,s]=(0,e.useState)(""),[o,a]=(0,e.useState)({Lunes:[],Martes:[],"Mi\xe9rcoles":[],Jueves:[],Viernes:[],"S\xe1bado":[],Domingo:[]}),[l,c]=(0,e.useState)(r[0]),[u,d]=(0,e.useState)(""),[h,f]=(0,e.useState)([]),[p,m]=(0,e.useState)(null),[g,v]=(0,e.useState)(!1),[y,b]=(0,e.useState)([]);(0,e.useEffect)((()=>{(async()=>{try{const e=uc(jm,"gmusculares"),t=await fu(e);if(!t.empty){const e=t.docs[0].data();b(Object.entries(e).map((e=>{let[t,n]=e;return{group:t,exercises:n}})))}}catch(e){console.error("Error fetching muscle groups: ",e)}})()}),[]);const w=t=>{let{group:n,exercises:r}=t;const[i,s]=(0,e.useState)(!1);return(0,Om.jsxs)("div",{className:"c-muscle-group",children:[(0,Om.jsx)("button",{onClick:()=>{s(!i)},className:"c-muscle-group-button",children:n}),i&&(0,Om.jsx)("div",{className:"c-exercise-list",children:r.map(((e,t)=>(0,Om.jsx)("button",{className:"c-exercise-button",onClick:()=>((e,t)=>{I().fire({title:`Agregar detalles para ${t}`,html:'<label for="sets" style="display:block; text-align:left; margin-bottom:5px;">Series:</label><input id="sets" type="number" placeholder="N\xfamero de series" class="swal2-input" style="margin-bottom:10px;"><label for="reps" style="display:block; text-align:left; margin-bottom:5px;">Repeticiones:</label><input id="reps" type="number" placeholder="N\xfamero de repeticiones" class="swal2-input">',focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Agregar",cancelButtonText:"Cancelar",preConfirm:()=>{const e=I().getPopup().querySelector("#sets").value,t=I().getPopup().querySelector("#reps").value;return e&&t?{sets:e,reps:t}:(I().showValidationMessage("Por favor ingresa el n\xfamero de series y repeticiones"),null)}}).then((n=>{if(n.isConfirmed){const{sets:r,reps:i}=n.value,s={[t]:{Repeticiones:i,Series:r}};a((t=>({...t,[e]:[...t[e],s]})))}}))})(l,e),children:e},t)))})]})};return(0,Om.jsxs)("div",{className:"conte-prin",children:[(0,Om.jsx)("h1",{className:"title",children:"Creaci\xf3n de rutina"}),(0,Om.jsx)("div",{className:"btn-bck-cont",children:(0,Om.jsx)("button",{type:"button",className:"bck-btn",onClick:n,children:"Volver"})}),(0,Om.jsx)("div",{className:"wrapper",children:(0,Om.jsxs)("div",{className:"ipt-container",children:[(0,Om.jsxs)("div",{className:"srch-container",children:[(0,Om.jsx)("input",{type:"text",value:u,onChange:e=>d(e.target.value),placeholder:"Buscar usuario...",className:"user-sch-input"}),(0,Om.jsx)("button",{onClick:async()=>{if(u.length>2){const e=Yc(uc(jm,"User"),Xc("nombre",">=",u),Xc("nombre","<=",u+"\uf8ff")),t=(await fu(e)).docs.map((e=>({id:e.id,...e.data()})));f(t)}else f([])},className:"user-sch-button",children:"Buscar usuario"}),h.length>0&&(0,Om.jsx)("ul",{className:"c-user-list",children:h.map((e=>(0,Om.jsxs)("li",{onClick:()=>(e=>{m(e),d(e.nombre),f([])})(e),children:[e.nombre," (",e.usuario,")"]},e.id)))}),p&&(0,Om.jsx)("div",{className:"c-selected-user",children:(0,Om.jsxs)("p",{children:["Usuario seleccionado: ",p.nombre," (",p.usuario,")"]})})]}),(0,Om.jsx)("div",{className:"rt-name-container",children:(0,Om.jsx)("input",{type:"text",value:i,onChange:e=>s(e.target.value),placeholder:"Nombre de la rutina",className:"rt-name-input"})}),(0,Om.jsxs)("div",{className:"act-st-container",children:[(0,Om.jsx)("label",{children:"Estado de rutina"}),(0,Om.jsxs)("select",{value:g,onChange:e=>v("true"===e.target.value),className:"activity-state-select",children:[(0,Om.jsx)("option",{value:!1,children:"Inactiva"}),(0,Om.jsx)("option",{value:!0,children:"Activa"})]})]})]})}),(0,Om.jsx)("div",{className:"c-exercise-menu",children:y.map(((e,t)=>(0,Om.jsx)(w,{group:e.group,exercises:e.exercises},t)))}),(0,Om.jsx)("div",{className:"wrapper",children:(0,Om.jsx)("div",{className:"c-days-container",children:(0,Om.jsx)("div",{className:"c-weekly-plan",children:r.map((e=>(0,Om.jsxs)("div",{className:"c-day-column "+(l===e?"c-active-day":""),children:[(0,Om.jsx)("h2",{onClick:()=>c(e),children:e}),(0,Om.jsx)("ul",{children:o[e].map(((t,n)=>{const r=Object.keys(t)[0],i=t[r];return(0,Om.jsxs)("li",{children:[`${r} - ${i.Series} sets x ${i.Repeticiones} reps`,(0,Om.jsx)("button",{className:"c-remove-button",onClick:()=>((e,t)=>{a((n=>({...n,[e]:n[e].filter((e=>!e[t]))})))})(e,r),children:"X"})]},n)}))})]},e)))})})}),(0,Om.jsx)("button",{className:"btn-grd",onClick:async()=>{if(!p)return void I().fire({title:"Cuidado!",text:"Por favor, selecciona un usuario para asignar la rutina.",icon:"warning"});if(!i)return void I().fire({title:"Cuidado!",text:"Por favor, asigna un nombre a la rutina.",icon:"warning"});const e=(new Date).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"});try{await vu(uc(jm,"plans"),{usuario:p.usuario,nombre:i,rutina:o,fechaCreacion:e,estado:g}),I().fire({title:"Excelente!",text:"Rutina agregada exitosamente!",icon:"success"})}catch(t){console.error("Error al guardar la rutina: ",t),I().fire({title:"Error!",text:"Algo ha fallado al guardar rutina",icon:"error"})}},children:"Guardar rutina"})]})};const DE=function(t){let{onShowCreatePlan:n,onShowEditPlan:r}=t;const[i,s]=(0,e.useState)(""),[o,a]=(0,e.useState)([]),[l,c]=(0,e.useState)(""),[u,d]=(0,e.useState)(1),[h,f]=(0,e.useState)(1);(0,e.useEffect)((()=>(document.body.style.backgroundImage="none",document.body.style.backgroundColor="#f1f3f5",()=>{document.body.style.backgroundImage="",document.body.style.backgroundColor=""})),[]),(0,e.useEffect)((()=>{f(Math.ceil(o.length/5))}),[o]);const p=5*u,m=p-5,g=o.slice(m,p),v=e=>{e>0&&e<=h&&d(e)};return(0,Om.jsxs)("div",{className:"contenedor-princ",children:[(0,Om.jsx)("h1",{className:"title",children:"Planes de entrenamiento"}),(0,Om.jsxs)("div",{className:"search-cont",children:[(0,Om.jsxs)("div",{className:"left-half",children:[(0,Om.jsx)("input",{type:"text",placeholder:"Buscar usuario",value:i,onChange:e=>s(e.target.value),className:"sch-input"}),(0,Om.jsx)("button",{className:"sch-button",onClick:async()=>{c(""),a([]);try{const e=await(async e=>{try{const t=Yc(uc(jm,"plans"),Xc("usuario","==",e));return!(await fu(t)).empty}catch(l){throw console.error("Error al verificar el usuario: ",l),new Error("No se pudo verificar el usuario.")}})(i);if(!e)return c("Usuario no encontrado"),f(1),void d(1);const t=await(async e=>{try{const t=Yc(uc(jm,"plans"),Xc("usuario","==",e));return(await fu(t)).docs.map((e=>({id:e.id,...e.data(),estado:e.data().estado||!1,fechaCreacion:e.data().fechaCreacion||(new Date).toISOString()})))}catch(l){throw console.error("Error al obtener los planes: ",l),new Error("No se pudo obtener los planes.")}})(i);a(t),0===t.length&&(c("No se encontraron planes para este usuario"),f(1),d(1))}catch(e){c("Error al realizar la b\xfasqueda"),console.error(e)}},children:(0,Om.jsx)(kg,{size:26,color:"#007BFF"})})]}),(0,Om.jsx)("button",{className:"create-btn",onClick:n,children:"Crear rutina"})]}),l&&(0,Om.jsx)("p",{className:"error-message",children:l}),o.length>0&&(0,Om.jsxs)("div",{className:"table-cont",children:[(0,Om.jsxs)("table",{className:"table-pln",children:[(0,Om.jsx)("thead",{children:(0,Om.jsxs)("tr",{children:[(0,Om.jsx)("th",{children:"Usuario"}),(0,Om.jsx)("th",{children:"Nombre de rutina"}),(0,Om.jsx)("th",{children:"Estado"}),(0,Om.jsx)("th",{children:"Fecha de creaci\xf3n"}),(0,Om.jsx)("th",{children:"Ver rutina"}),(0,Om.jsx)("th",{children:"Editar rutina"}),(0,Om.jsx)("th",{children:"Eliminar rutina"})]})}),(0,Om.jsx)("tbody",{children:g.map((e=>(0,Om.jsxs)("tr",{children:[(0,Om.jsx)("td",{children:e.usuario}),(0,Om.jsx)("td",{children:e.nombre||"Rutina sin nombre"}),(0,Om.jsx)("td",{children:e.estado?"Activa":"Inactiva"}),(0,Om.jsx)("td",{children:new Date(e.fechaCreacion).toLocaleDateString()}),(0,Om.jsx)("td",{children:(0,Om.jsx)("button",{className:"aux-button",onClick:()=>(e=>{const t=`\n      <div class="table-scroll">\n        <table style="width: 1050px; border-collapse: collapse;">\n          <thead>\n            <tr style="background-color: #71b112; color: #fff">\n              <th style="border: 1.3px solid #ddd; padding: 8px;">D\xeda</th>\n              <th style="border: 1.3px solid #ddd; padding: 8px;">Ejercicio</th>\n              <th style="border: 1.3px solid #ddd; padding: 8px;">Repeticiones</th>\n              <th style="border: 1.3px solid #ddd; padding: 8px;">Series</th>\n            </tr>\n          </thead>\n          <tbody>\n            ${["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado","Domingo"].map((t=>`\n              <tr>\n                <td style="border: 1.3px solid #ddd; padding: 8px;">${t}</td>\n                <td style="border: 1.3px solid #ddd; padding: 8px;">\n                  ${e.rutina[t]?e.rutina[t].map((e=>`\n                    <div>${Object.keys(e)[0]}</div>\n                  `)).join(""):"Sin ejercicio"}\n                </td>\n                <td style="border: 1.3px solid #ddd; padding: 8px;">\n                  ${e.rutina[t]?e.rutina[t].map((e=>`\n                    <div>${e[Object.keys(e)[0]].Repeticiones||"N/A"}</div>\n                  `)).join(""):"N/A"}\n                </td>\n                <td style="border: 1.3px solid #ddd; padding: 8px;">\n                  ${e.rutina[t]?e.rutina[t].map((e=>`\n                    <div>${e[Object.keys(e)[0]].Series||"N/A"}</div>\n                  `)).join(""):"N/A"}\n                </td>\n              </tr>\n            `)).join("")}\n          </tbody>\n          <tfoot>\n            <tr style="background-color: #f1f1f1;">\n              <td style="border: 1.3px solid #ddd; padding: 8px;" colspan="4">\n                <strong>Estado:</strong> ${e.estado?"Activa":"Inactiva"} <br>\n                <strong>Fecha de creaci\xf3n:</strong> ${new Date(e.fechaCreacion).toLocaleDateString()}\n              </td>\n            </tr>\n          </tfoot>\n        </table>\n      </div>\n    `;I().fire({title:"Informaci\xf3n de la rutina",html:t,confirmButtonText:"Cerrar",width:"90%",padding:"2em",background:"#fff",customClass:{container:"swal2-container",title:"swal2-title",content:"swal2-content",confirmButton:"swal2-confirm"}})})(e),children:(0,Om.jsx)(Eg,{size:28,color:"#007BFF"})})}),(0,Om.jsx)("td",{children:(0,Om.jsx)("button",{className:"aux-button",onClick:()=>r(e),children:(0,Om.jsx)(Sg,{size:28,color:"#F7E07F"})})}),(0,Om.jsx)("td",{children:(0,Om.jsx)("button",{className:"aux-button",onClick:()=>(async e=>{I().fire({title:"\xbfDesea eliminar este rutina?",showCancelButton:!0,confirmButtonText:"S\xed",cancelButtonText:"Cancelar"}).then((async t=>{if(t.isConfirmed)try{await gu(dc(jm,"plans",e));const t=o.filter((t=>t.id!==e));a(t),I().fire({title:"Excelente!",text:"Rutina eliminada con \xe9xito!",icon:"success"});const n=Math.ceil(t.length/5);u>n&&d(n),f(n)}catch(l){console.error("Error al eliminar el plan: ",l),c("No se pudo eliminar el plan.")}}))})(e.id),children:(0,Om.jsx)(Ng,{size:28,color:"#FF5C5C"})})})]},e.id)))})]}),(0,Om.jsxs)("div",{className:"pgn-control",children:[(0,Om.jsx)("button",{className:"pagination-btn",onClick:()=>v(1),disabled:1===u,children:(0,Om.jsx)(Tg,{size:20})}),(0,Om.jsx)("button",{className:"pagination-btn",onClick:()=>v(u-1),disabled:1===u,children:(0,Om.jsx)(jg,{size:20})}),(0,Om.jsxs)("span",{children:["P\xe1gina ",u," de ",h]}),(0,Om.jsx)("button",{className:"pagination-btn",onClick:()=>v(u+1),disabled:u===h,children:(0,Om.jsx)(Ig,{size:20})}),(0,Om.jsx)("button",{className:"pagination-btn",onClick:()=>v(h),disabled:u===h,children:(0,Om.jsx)(Ag,{size:20})})]})]})]})};const ME=function(t){let{plan:n,onClose:r}=t;const i=["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado","Domingo"],[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)({Lunes:[],Martes:[],"Mi\xe9rcoles":[],Jueves:[],Viernes:[],"S\xe1bado":[],Domingo:[]}),[c,u]=(0,e.useState)(i[0]),[d,h]=(0,e.useState)(""),[f,p]=(0,e.useState)([]),[m,g]=(0,e.useState)(null),[v,y]=(0,e.useState)(!1),[b,w]=(0,e.useState)([]);(0,e.useEffect)((()=>{(async()=>{try{const e=uc(jm,"gmusculares"),t=await fu(e);if(!t.empty){const e=t.docs[0].data();w(Object.entries(e).map((e=>{let[t,n]=e;return{group:t,exercises:n}})))}}catch(e){console.error("Error fetching muscle groups: ",e)}})(),(async()=>{console.log("plan recibido:",n);try{console.log("Llega al try");const e=dc(jm,"plans",n.id);console.log("docRef",e);const t=await du(e);if(console.log("RoutineSnapshot",t),t.exists()){const e=t.data();o(e.nombre),l(e.rutina),y(e.estado);const n=Yc(uc(jm,"User"),Xc("usuario","==",e.usuario)),r=await fu(n);r.empty||g(r.docs[0].data())}else console.error("No such routine!")}catch(e){console.error("Error fetching routine: ",e)}})()}),[n]);const x=t=>{let{group:n,exercises:r}=t;const[i,s]=(0,e.useState)(!1);return(0,Om.jsxs)("div",{className:"edit-muscle-group",children:[(0,Om.jsx)("button",{onClick:()=>s(!i),className:"edit-muscle-group-button",children:n}),i&&(0,Om.jsx)("div",{className:"edit-exercise-list",children:r.map(((e,t)=>(0,Om.jsx)("button",{className:"edit-exercise-button",onClick:()=>((e,t)=>{I().fire({title:`Agregar detalles para ${t}`,html:'<label>Series:</label><input id="sets" type="number" placeholder="N\xfamero de series" class="swal2-input"><label>Repeticiones:</label><input id="reps" type="number" placeholder="N\xfamero de repeticiones" class="swal2-input">',showCancelButton:!0,confirmButtonText:"Agregar",cancelButtonText:"Cancelar",preConfirm:()=>{const e=I().getPopup().querySelector("#sets").value,t=I().getPopup().querySelector("#reps").value;return e&&t||I().showValidationMessage("Ingresa series y repeticiones"),{sets:e,reps:t}}}).then((n=>{if(n.isConfirmed){const{sets:r,reps:i}=n.value,s={[t]:{Repeticiones:i,Series:r}};l((t=>({...t,[e]:[...t[e],s]})))}}))})(c,e),children:e},t)))})]})};return(0,Om.jsxs)("div",{className:"mi-contenedor",children:[(0,Om.jsx)("h1",{className:"title",children:"Edici\xf3n de rutina"}),(0,Om.jsx)("div",{className:"cont-aux",children:(0,Om.jsx)("button",{type:"button",className:"back-btn",onClick:r,children:"Volver"})}),(0,Om.jsx)("div",{className:"wrapper-cnt",children:(0,Om.jsxs)("div",{className:"edit-input-container",children:[(0,Om.jsxs)("div",{className:"edit-user-search-container",children:[(0,Om.jsx)("input",{type:"text",value:d,onChange:e=>h(e.target.value),placeholder:"Buscar usuario...",className:"edit-user-search-input"}),(0,Om.jsx)("button",{onClick:async()=>{if(d.length>2){const e=Yc(uc(jm,"User"),Xc("nombre",">=",d),Xc("nombre","<=",d+"\uf8ff")),t=await fu(e);p(t.docs.map((e=>({id:e.id,...e.data()}))))}else p([])},className:"edit-user-search-button",children:"Buscar usuario"}),f.length>0&&(0,Om.jsx)("ul",{className:"edit-user-list",children:f.map((e=>(0,Om.jsxs)("li",{onClick:()=>(e=>{g(e),h(e.nombre),p([])})(e),children:[e.nombre," (",e.usuario,")"]},e.id)))}),m&&(0,Om.jsx)("div",{className:"edit-selected-user",children:(0,Om.jsxs)("p",{children:["Usuario seleccionado: ",m.nombre," (",m.usuario,")"]})})]}),(0,Om.jsx)("div",{className:"edit-routine-name-container",children:(0,Om.jsx)("input",{type:"text",value:s,onChange:e=>o(e.target.value),placeholder:"Nombre de la rutina",className:"edit-routine-name-input"})}),(0,Om.jsxs)("div",{className:"edit-activity-state-container",children:[(0,Om.jsx)("label",{children:"Estado de rutina"}),(0,Om.jsxs)("select",{value:v,onChange:e=>y("true"===e.target.value),className:"edit-activity-state-select",children:[(0,Om.jsx)("option",{value:"false",children:"Inactiva"}),(0,Om.jsx)("option",{value:"true",children:"Activa"})]})]})]})}),(0,Om.jsx)("div",{className:"edit-exercise-menu",children:b.map(((e,t)=>(0,Om.jsx)(x,{group:e.group,exercises:e.exercises},t)))}),(0,Om.jsx)("div",{className:"wrapper-cnt",children:(0,Om.jsx)("div",{className:"edit-days-container",children:(0,Om.jsx)("div",{className:"edit-weekly-plan",children:i.map((e=>(0,Om.jsxs)("div",{className:"edit-day-column "+(c===e?"edit-active-day":""),children:[(0,Om.jsx)("h2",{onClick:()=>u(e),children:e}),(0,Om.jsx)("ul",{children:a[e].map(((t,n)=>{const r=Object.keys(t)[0],i=t[r];return(0,Om.jsxs)("li",{children:[`${r} - ${i.Series} sets x ${i.Repeticiones} reps`,(0,Om.jsx)("button",{className:"edit-remove-button",onClick:()=>((e,t)=>{l((n=>({...n,[e]:n[e].filter((e=>!e[t]))})))})(e,r),children:"X"})]},n)}))})]},e)))})})}),(0,Om.jsx)("button",{className:"btn-act",onClick:async()=>{if(m)if(s)try{const e=dc(jm,"plans",n.id),t="boolean"===typeof v&&v;await mu(e,{usuario:m.usuario,nombre:s,rutina:a,estado:t}),I().fire("Excelente!","Rutina actualizada exitosamente!","success")}catch(e){console.error("Error al actualizar la rutina: ",e),I().fire("Error!","No se pudo actualizar la rutina","error")}else I().fire("Cuidado!","Asigna un nombre a la rutina.","warning");else I().fire("Cuidado!","Selecciona un usuario.","warning")},children:"Guardar Cambios"})]})},RE=t=>{let{onShowRegisterInventory:n,onShowEditInventory:r}=t;const[i,s]=(0,e.useState)([]),[o,a]=(0,e.useState)(""),[l,c]=(0,e.useState)([]),[u,d]=(0,e.useState)(""),[h]=(0,e.useState)(5),[f,p]=(0,e.useState)(0),[m,g]=(0,e.useState)("Aleatorio");(0,e.useEffect)((()=>{(async()=>{try{const e=await Ug();s(e)}catch(e){console.error("Error fetching gyms:",e)}})()}),[]),(0,e.useEffect)((()=>{(async()=>{if(o)try{const e=await Vg(o);c(e||[])}catch(e){console.error("Error fetching inventory:",e),c([])}})()}),[o]);const v=l.filter((e=>e.nombre&&e.nombre.toLowerCase().includes(u)));"Nombre"===m&&v.sort(((e,t)=>e.nombre.localeCompare(t.nombre))),"Cantidad"===m&&v.sort(((e,t)=>e.cantidad-t.cantidad)),"Estado"===m&&v.sort(((e,t)=>e.estado.localeCompare(t.estado)));const y=v.slice(f*h,(f+1)*h),b=e=>{"next"===e&&p((e=>e+1)),"prev"===e&&p((e=>e-1)),"first"===e&&p(0),"last"===e&&p(Math.floor(v.length/h))};return(0,Om.jsxs)("div",{className:"admin-inventory-view",children:[(0,Om.jsxs)("div",{className:"gym-selection-small",children:[(0,Om.jsx)("label",{htmlFor:"gym",children:"Seleccionar Gimnasio:"}),(0,Om.jsxs)("select",{id:"gym",value:o,onChange:e=>a(e.target.value),className:"gym-select-small",children:[(0,Om.jsx)("option",{value:"",children:"Selecciona un gimnasio"}),i.map((e=>(0,Om.jsx)("option",{value:e.id,children:e.nombre},e.id)))]})]}),o&&(0,Om.jsxs)(Om.Fragment,{children:[(0,Om.jsx)("div",{className:"inventory-actions",children:(0,Om.jsxs)("div",{className:"search-and-sort",children:[(0,Om.jsxs)("div",{className:"search-box",children:[(0,Om.jsx)("input",{type:"text",placeholder:"Buscar",value:u,onChange:e=>{d(e.target.value.toLowerCase())}}),(0,Om.jsx)("button",{className:"search-button",children:(0,Om.jsx)(kg,{})})]}),(0,Om.jsxs)("div",{className:"sort-box",children:[(0,Om.jsx)("label",{children:"Ordenar por:"}),(0,Om.jsxs)("select",{value:m,onChange:e=>g(e.target.value),children:[(0,Om.jsx)("option",{value:"Aleatorio",children:"Aleatorio"}),(0,Om.jsx)("option",{value:"Nombre",children:"Nombre"}),(0,Om.jsx)("option",{value:"Cantidad",children:"Cantidad"}),(0,Om.jsx)("option",{value:"Estado",children:"Estado"})]})]})]})}),(0,Om.jsx)("div",{className:"table-responsive",children:(0,Om.jsxs)("table",{className:"table table-bordered table-hover",children:[(0,Om.jsx)("thead",{className:"table-dark",children:(0,Om.jsxs)("tr",{children:[(0,Om.jsx)("th",{children:"Nombre"}),(0,Om.jsx)("th",{children:"Cantidad"}),(0,Om.jsx)("th",{children:"Estado"}),(0,Om.jsx)("th",{children:"Informaci\xf3n"}),(0,Om.jsx)("th",{children:"Editar"})]})}),(0,Om.jsx)("tbody",{children:0===y.length?(0,Om.jsx)("tr",{children:(0,Om.jsx)("td",{colSpan:"4",children:"No se encontraron equipos"})}):y.map((e=>(0,Om.jsxs)("tr",{children:[(0,Om.jsx)("td",{children:e.nombre}),(0,Om.jsx)("td",{children:e.cantidad}),(0,Om.jsx)("td",{children:e.estado}),(0,Om.jsx)("td",{children:(0,Om.jsx)("button",{className:"button-actions",onClick:()=>(e=>{try{const t=l.find((t=>t.id===e));I().fire({title:"Informaci\xf3n del equipo",html:`\n          <p><strong>Nombre:</strong> ${t.nombre}</p>\n          <p><strong>Cantidad:</strong> ${t.cantidad}</p>\n          <p><strong>Estado:</strong> ${t.estado}</p>\n          <p><strong>Categor\xeda:</strong> ${t.categoria}</p>\n          <p><strong>Ejercicios:</strong></p>\n          <ul>\n            ${t.ejercicios.map((e=>`\n              <li>\n                <strong>Nombre:</strong> ${e.nombre}<br>\n                <strong>Descripci\xf3n:</strong> ${e.descripcion}<br>\n                <strong>Zonas:</strong> ${e.zonas.join(", ")}\n              </li>\n            `)).join("")}\n          </ul>\n        `,confirmButtonText:"Entendido"})}catch(t){console.error("Error fetching equipment info: ",t),I().fire({icon:"error",title:"Error",text:"No se pudo obtener la informaci\xf3n del equipo",confirmButtonText:"Entendido"})}})(e.id),children:(0,Om.jsx)(Eg,{size:16,color:"#007BFF"})})}),(0,Om.jsx)("td",{children:(0,Om.jsx)("button",{className:"button-actions",onClick:()=>{return t=e.id,void r(o,t);var t},children:(0,Om.jsx)(Sg,{size:16,color:"#F7E07F"})})})]},e.id)))})]})}),(0,Om.jsxs)("div",{className:"pagination-buttons",children:[(0,Om.jsx)("button",{className:"button-actions",onClick:()=>b("first"),disabled:0===f,children:(0,Om.jsx)(Tg,{size:24})}),(0,Om.jsx)("button",{className:"button-actions",onClick:()=>b("prev"),disabled:0===f,children:(0,Om.jsx)(jg,{size:24})}),(0,Om.jsxs)("span",{className:"page-indicator",children:[f+1," de ",Math.floor(v.length/h)+1]}),(0,Om.jsx)("button",{className:"button-actions",onClick:()=>b("next"),disabled:f===Math.floor(v.length/h),children:(0,Om.jsx)(Ig,{size:24})}),(0,Om.jsx)("button",{className:"button-actions",onClick:()=>b("last"),disabled:f===Math.floor(v.length/h),children:(0,Om.jsx)(Ag,{size:24})})]})]})]})},LE=t=>{let{gimnasioId:n,equipoId:r,onClose:i}=t;const[s,o]=(0,e.useState)({nombre:"",cantidad:"",categoria:"",estado:"Operativo",ejercicios:[]});(0,e.useEffect)((()=>{(async()=>{try{const e=await Bg(n,r);o(e)}catch(e){console.error("Error fetching equipment: ",e)}})()}),[n,r]);const a=e=>{const{name:t,value:n}=e.target;o((e=>({...e,[t]:n})))};return(0,Om.jsxs)("div",{className:"admin-edit-inventory-view",children:[(0,Om.jsx)("h2",{children:"Editar Equipo"}),(0,Om.jsx)("button",{className:"btn-close",onClick:i}),(0,Om.jsxs)("form",{className:"inventory-form",onSubmit:async e=>{e.preventDefault();try{await $g(n,r,s),I().fire("\xc9xito","Equipo actualizado correctamente","success"),i()}catch(t){console.error("Error updating equipment: ",t),I().fire("Error","No se pudo actualizar el equipo","error")}},children:[(0,Om.jsx)("input",{type:"text",name:"nombre",value:s.nombre,onChange:a,placeholder:"Nombre del producto",className:"form-control"}),(0,Om.jsx)("input",{type:"number",name:"cantidad",value:s.cantidad,onChange:a,placeholder:"Cantidad",className:"form-control"}),(0,Om.jsx)("input",{type:"text",name:"categoria",value:s.categoria,onChange:a,placeholder:"Categor\xeda",className:"form-control"}),(0,Om.jsxs)("select",{name:"estado",value:s.estado,onChange:a,className:"form-control",children:[(0,Om.jsx)("option",{value:"Operativo",children:"Operativo"}),(0,Om.jsx)("option",{value:"En mantenimiento",children:"En mantenimiento"}),(0,Om.jsx)("option",{value:"Fuera de servicio",children:"Fuera de servicio"})]}),(0,Om.jsxs)("div",{className:"form-buttons",children:[(0,Om.jsx)("button",{type:"submit",className:"btn-submit",children:"Actualizar Equipo"}),(0,Om.jsx)("button",{type:"button",className:"btn-cancel",onClick:i,children:"Cancelar"})]})]})]})},FE=()=>{const[t,n]=(0,e.useState)("userView"),[r,i]=(0,e.useState)(""),[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)(""),c=()=>{n("plansView")},u=()=>{n("inventoryView")};return(0,Om.jsxs)(Om.Fragment,{children:[(0,Om.jsx)(OE,{onShowSuplements:()=>{n("suplementosView")},onShowProfile:()=>{n("profileView")},onShowPlans:c,onShowSales:()=>{n("salesView")},onShowInventory:u}),"suplementosView"===t&&(0,Om.jsx)(Xg,{role:"entrenador"}),"profileView"===t&&(0,Om.jsx)(CE,{}),"plansView"===t&&(0,Om.jsx)(DE,{onShowCreatePlan:()=>{n("createPlansView")},onShowEditPlan:e=>{l(e),n("editPlanView")}}),"createPlansView"===t&&(0,Om.jsx)(PE,{onClose:c}),"editPlanView"===t&&(0,Om.jsx)(ME,{plan:a,onClose:c}),"salesView"===t&&(0,Om.jsx)(NE,{}),"inventoryView"===t&&(0,Om.jsx)(RE,{onShowEditInventory:(e,t)=>{i(e),o(t),n("editInventoryView")}}),"editInventoryView"===t&&(0,Om.jsx)(LE,{gimnasioId:r,equipoId:s,onClose:u})]})},zE=Vf(),UE=()=>{const[t,n]=(0,e.useState)(!0),[r,i]=(0,e.useState)(!0),[s,o]=(0,e.useState)(!1),a=N(),l=m((e=>e.user));(0,e.useEffect)((()=>{const e=function(e,t,n,r){return re(e).onAuthStateChanged(t,n,r)}(zE,(e=>{i(!0),o(!1),e?(async e=>{try{const t=Yc(uc(jm,"User"),Xc("correo","==",e)),n=await fu(t);if(n.empty)return null;{const e=n.docs[0];return{id:e.id,...e.data()}}}catch(t){throw console.error("Error al obtener el usuario: ",t),new Error("No se pudo obtener la informaci\xf3n del usuario.")}})(e.email).then((e=>{e&&a({type:"LOGIN",payload:e})})).finally((()=>{i(!1),o(!0)})):(a({type:"LOGOUT"}),i(!1),o(!0))}));return()=>e()}),[a]);return r||!s?(0,Om.jsx)("div",{children:"Cargando..."}):(0,Om.jsx)(Om.Fragment,{children:l.isAuthenticated?l.role===zm.ADMINISTRADOR?(0,Om.jsx)(kE,{setIsAuthenticating:i}):l.role===zm.CLIENTE?(0,Om.jsx)(IE,{}):l.role===zm.ENTRENADOR?(0,Om.jsx)(FE,{}):(0,Om.jsx)("div",{children:"Cargando..."}):t?(0,Om.jsx)(Pm,{onShowRegister:()=>{n(!1)}}):(0,Om.jsx)(Xm,{onShowLogin:()=>{n(!0)}})})};const VE=function(){return(0,Om.jsx)("div",{className:"App",children:(0,Om.jsx)(UE,{})})},BE=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))};n(807);function $E(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var HE=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),qE=()=>Math.random().toString(36).substring(7).split("").join("."),WE={INIT:`@@redux/INIT${qE()}`,REPLACE:`@@redux/REPLACE${qE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${qE()}`};function GE(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function KE(e,t,n){if("function"!==typeof e)throw new Error($E(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error($E(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error($E(1));return n(KE)(e,t)}let r=e,i=t,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach(((e,t)=>{o.set(t,e)})))}function u(){if(l)throw new Error($E(3));return i}function d(e){if("function"!==typeof e)throw new Error($E(4));if(l)throw new Error($E(5));let t=!0;c();const n=a++;return o.set(n,e),function(){if(t){if(l)throw new Error($E(6));t=!1,c(),o.delete(n),s=null}}}function h(e){if(!GE(e))throw new Error($E(7));if("undefined"===typeof e.type)throw new Error($E(8));if("string"!==typeof e.type)throw new Error($E(17));if(l)throw new Error($E(9));try{l=!0,i=r(i,e)}finally{l=!1}return(s=o).forEach((e=>{e()})),e}h({type:WE.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error($E(10));r=e,h({type:WE.REPLACE})},[HE]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error($E(11));function n(){const e=t;e.next&&e.next(u())}n();return{unsubscribe:e(n)}},[HE](){return this}}}}}function YE(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const r=t[o];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:WE.INIT}))throw new Error($E(12));if("undefined"===typeof n(void 0,{type:WE.PROBE_UNKNOWN_ACTION()}))throw new Error($E(13))}))}(n)}catch(s){i=s}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;let s=!1;const o={};for(let i=0;i<r.length;i++){const a=r[i],l=n[a],c=e[a],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error($E(14))}o[a]=u,s=s||u!==c}return s=s||r.length!==Object.keys(e).length,s?o:e}}function QE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}function XE(e){return t=>{let{dispatch:n,getState:r}=t;return t=>i=>"function"===typeof i?i(n,r,e):t(i)}}var JE=XE(),ZE=XE,eS="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?QE:QE.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var tS=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};var nS="RTK_autoBatch",rS=e=>t=>{setTimeout(t,e)},iS="undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:rS(10),sS=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new tS(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,i=!1,s=!1;const o=new Set,a="tick"===e.type?queueMicrotask:"raf"===e.type?iS:"callback"===e.type?e.queueNotification:rS(e.timeout),l=()=>{s=!1,i&&(i=!1,o.forEach((e=>e())))};return Object.assign({},n,{subscribe(e){const t=n.subscribe((()=>r&&e()));return o.add(e),()=>{t(),o.delete(e)}},dispatch(e){try{return r=!e?.meta?.[nS],i=!r,i&&(s||(s=!0,a(l))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};var{assign:oS}=Object;Symbol.for("rtk-state-proxy-original");function aS(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const lS={userId:null,username:null,email:null,role:null,isAuthenticated:!1},cS=function(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=e??{};let s=new tS;return t&&(function(e){return"boolean"===typeof e}(t)?s.push(JE):s.push(ZE(t.extraArgument))),s},{reducer:n,middleware:r,devTools:i=!0,preloadedState:s,enhancers:o}=e||{};let a,l;if("function"===typeof n)a=n;else{if(!GE(n))throw new Error(aS(1));a=YE(n)}l="function"===typeof r?r(t):t();let c=QE;i&&(c=eS({trace:!1,..."object"===typeof i&&i}));const u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error($E(15))};const o={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return s(e,...n)}},a=t.map((e=>e(o)));return s=QE(...a)(i.dispatch),{...i,dispatch:s}}}(...l),d=sS(u);return KE(a,s,c(..."function"===typeof o?o(d):d()))}({reducer:YE({user:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return{...e,userId:t.payload.uid,username:t.payload.usuario,email:t.payload.correo,role:t.payload.rol,isAuthenticated:!0};case"LOGOUT":return{...e,userId:null,username:null,email:null,role:null,isAuthenticated:!1};default:return e}}})}),uS=cS;t.createRoot(document.getElementById("root")).render((0,Om.jsx)(e.StrictMode,{children:(0,Om.jsx)(_,{store:uS,children:(0,Om.jsx)(VE,{})})})),BE()})()})();
//# sourceMappingURL=main.5ab548da.js.map